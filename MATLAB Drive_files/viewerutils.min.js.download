var ViewerEventHandlers;!function(){"use strict";var e={307:function(e,n,t){n.Z=void 0;var i,a=(i=t(811))&&i.__esModule?i:{default:i};function r(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o,s=(o=function(e){return e&&null!==e.toLowerCase().match(/^matlab:/)},function(){function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.embedParam=n,this.channel=new a.default(window,"__linkclk__"),this.channel.connect(window.parent),this.hyperLinkCallback=this.hyperLinkCallback.bind(this)}var n,t,i;return n=e,(t=[{key:"contentLoadedCallback",value:function(e){setTimeout((function(){document.querySelector(".loader").style.visibility="hidden",function(e){var n,t=0;if(e)n=e.documentHeight;else{var i=document.querySelector(".dijitContentPane");n=i.offsetHeight}var a=setInterval((function(){t+=1,"parentIFrame"in window&&(window.parentIFrame.size(n),clearInterval(a)),5===t&&clearInterval(a)}),50)}(e)}),0)}},{key:"hyperLinkCallback",value:function(e){var n;if(function(e){return e&&null!==e.toLowerCase().match(/^(matlab|http|https):/)}(e))if("product"===(n=this.embedParam)||"web"===n)o(e)?this.channel.send("openMatlabLink",{url:e}):function(e){return"product"===e}(this.embedParam)?this.channel.send("openExternalLink",{url:e}):window.open(e,"_blank");else if(o(e)){var t=e.match(/matlab:(.*)/i),i=null;t&&(i=t[1]),alert("You clicked on a MATLAB command\n"+i)}else document.location=e}}])&&r(n.prototype,t),i&&r(n,i),e}());n.Z=s},169:function(e,n,t){var i=t(307).Z;t(733),e.exports=i},811:function(e,n){var t;function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function a(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,n,t){return n&&a(e.prototype,n),t&&a(e,t),e}void 0===(t=function(){var e=function(){function e(n,t){i(this,e),this.type=n,this.body=t}return r(e,[{key:"isValid",value:function(){return this.type&&this.body}},{key:"setEvent",value:function(e){this.event=e}}],[{key:"serialize",value:function(e,n,t){return e+JSON.stringify([n,t])}},{key:"deserialize",value:function(n,t){if(!t||!t.includes(n))return new e;var i=JSON.parse(t.replace(n,""));return new e(i[0],i[1])}}]),e}();return function(){function n(e,t,a){i(this,n),this.localWindow=e,this.tag=t||"__mwpmc__",this.targetWindowOrigin=a||"*",this.listeners={},this.addPostMessageListener()}return r(n,[{key:"onMessage",value:function(n){var t=e.deserialize(this.tag,n.data);t.isValid()&&this.hasListener(t.type)&&(t.setEvent(n),this.listeners[t.type].call(this,t))}},{key:"disconnect",value:function(){this.targetWindow=null,this.listeners={},this.localWindow.removeEventListener("message",this.onMessage)}},{key:"listen",value:function(){var e=this;this.on("__connect",(function(n){e.setTargetWindow(n.event.source)}))}},{key:"connect",value:function(e){this.setTargetWindow(e),this.send("__connect",this.localWindow.location.origin),this.send("connect",this.localWindow.location.origin)}},{key:"on",value:function(e,n){this.listeners[e]=n}},{key:"hasListener",value:function(e){return!!this.listeners[e]}},{key:"send",value:function(n,t){this.targetWindow.postMessage(e.serialize(this.tag,n,t),this.targetWindowOrigin)}},{key:"addPostMessageListener",value:function(){var e=this;this.localWindow.addEventListener("message",(function(n){return e.onMessage(n)}))}},{key:"setTargetWindow",value:function(e){this.targetWindow=e}}]),n}()}.apply(n,[]))||(e.exports=t)},733:function(e,n,t){t.r(n)}},n={};function t(i){if(n[i])return n[i].exports;var a=n[i]={exports:{}};return e[i](a,a.exports,t),a.exports}t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i=t(169);ViewerEventHandlers=i}();
//# sourceMappingURL=viewerutils.min.js.map