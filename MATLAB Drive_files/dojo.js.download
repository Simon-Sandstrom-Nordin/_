//>>built
/*
 Copyright 2015-2017 The MathWorks, Inc.
 Copyright 2014-2015 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2014-2015 The MathWorks, Inc.
 Copyright 2014-2015 The MathWorks, Inc.
 Copyright 2015-2017 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2014-2017 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014-2017 The MathWorks, Inc.
 Copyright 2014-2016 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014-2015 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2015-2016 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2016 The MathWorks, Inc.
 Copyright 2014 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 Copyright 2015-2017 The MathWorks, Inc.
 Copyright 2014-2017 The MathWorks, Inc.
 Copyright 2014-2015 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 @exports MW/utils/deprecation
 Copyright 2012-2014 The MathWorks, Inc.
 Copyright 2015 The MathWorks, Inc.
 @exports MW/utils/deprecation
*/
(function(k,d){var e,a=function(){},b=function(c){for(var f in c)return 0;return 1},h={}.toString,l=function(c){return"[object Function]"==h.call(c)},m=function(c){return"[object String]"==h.call(c)},g=function(c){return"[object Array]"==h.call(c)},f=function(c,f){if(c)for(var a=0;a<c.length;)f(c[a++])},c=function(c,f){for(var a in f)c[a]=f[a];return c},n=function(f,a){return c(Error(f),{src:"dojoLoader",info:a})},r=1,s=function(){return"_"+r++},q=function(c,f,a){return Pa(c,f,a,0,q)},p=this,t=p.document,
u=t&&t.createElement("DiV"),v=q.has=function(c){return l(w[c])?w[c]=w[c](p,t,u):w[c]},w=v.cache=d.hasCache;v.add=function(c,f,a,b){(void 0===w[c]||b)&&(w[c]=f);return a&&v(c)};v.add("host-webworker","undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope);v("host-webworker")&&(c(d.hasCache,{"host-browser":0,dom:0,"dojo-dom-ready-api":0,"dojo-sniff":0,"dojo-inject-api":1,"host-webworker":1,"dojo-guarantee-console":0}),d.loaderPatch={injectUrl:function(c,f){try{importScripts(c),f()}catch(a){console.error(a)}}});
for(var x in k.has)v.add(x,k.has[x],0,1);var y=0,z=[],C=0,D=a,B=a,E;q.isXdUrl=a;q.initSyncLoader=function(c,f,a){C||(C=c,D=f,B=a);return{sync:"sync",requested:1,arrived:2,nonmodule:3,executing:4,executed:5,syncExecStack:z,modules:L,execQ:$,getModule:ba,injectModule:wa,setArrived:ja,signal:G,finishExec:na,execModule:oa,dojoRequirePlugin:C,getLegacyMode:function(){return y},guardCheckComplete:pa}};var J=location.protocol,H=location.host;q.isXdUrl=function(c){return/^\./.test(c)?!1:/^\/\//.test(c)?!0:
(c=c.match(/^([^\/\:]+\:)\/+([^\/]+)/))&&(c[1]!=J||H&&c[2]!=H)};v.add("dojo-force-activex-xhr",!t.addEventListener&&"file:"==window.location.protocol);v.add("native-xhr","undefined"!=typeof XMLHttpRequest);if(v("native-xhr")&&!v("dojo-force-activex-xhr"))E=function(){return new XMLHttpRequest};else{var P=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],I;for(e=0;3>e;)try{if(I=P[e++],new ActiveXObject(I))break}catch(K){}E=function(){return new ActiveXObject(I)}}q.getXhr=E;v.add("dojo-gettext-api",
1);q.getText=function(c,f,a){var b=E();b.open("GET",xa(c),!1);b.send(null);if(200==b.status||!location.host&&!b.status)a&&a(b.responseText,f);else throw n("xhrFailed",b.status);return b.responseText};var F=v("csp-restrictions")?function(){}:new Function("return eval(arguments[0]);");q.eval=function(c,f){return F(c+"\r\n//# sourceURL\x3d"+f)};var A={},G=q.signal=function(c,a){var b=A[c];f(b&&b.slice(0),function(c){c.apply(null,g(a)?a:[a])})},U=q.on=function(c,f){var a=A[c]||(A[c]=[]);a.push(f);return{remove:function(){for(var c=
0;c<a.length;c++)if(a[c]===f){a.splice(c,1);break}}}},N=[],M={},R=[],T={},O=q.map={},V=[],L={},S="",Y={},W={},ca={},X=0,Z=function(c,f){f=!1!==f;var a,b,h,g;for(a in W)b=W[a],(h=a.match(/^url\:(.+)/))?Y["url:"+Qa(h[1],c)]=b:"*now"==a?g=b:"*noref"!=a&&(h=qa(a,c,!0),Y[h.mid]=Y["url:"+h.url]=b);g&&g(Ha(c));f&&(W={})},ka=function(c){return c.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(c){return"\\"+c})},ha=function(c,f){f.splice(0,f.length);for(var a in c)f.push([a,c[a],RegExp("^"+ka(a)+"(/|$)"),
a.length]);f.sort(function(c,f){return f[3]-c[3]});return f},ra=function(c,a){f(c,function(c){a.push([m(c[0])?RegExp("^"+ka(c[0])+"$"):c[0],c[1]])})},la=function(f){var a=f.name;a||(a=f,f={name:a});f=c({main:"main"},f);f.location=f.location?f.location:a;f.packageMap&&(O[a]=f.packageMap);f.main.indexOf("./")||(f.main=f.main.substring(2));T[a]=f},Q=[],ea=function(a,b,h){for(var g in a){"waitSeconds"==g&&(q.waitms=1E3*(a[g]||0));"cacheBust"==g&&(S=a[g]?m(a[g])?a[g]:(new Date).getTime()+"":"");if("baseUrl"==
g||"combo"==g)q[g]=a[g];if("async"==g){var n=a[g];q.legacyMode=y=m(n)&&/sync|legacyAsync/.test(n)?n:!n?"sync":!1;q.async=!y}a[g]!==w&&(q.rawConfig[g]=a[g],"has"!=g&&v.add("config-"+g,a[g],0,b))}q.baseUrl||(q.baseUrl="./");/\/$/.test(q.baseUrl)||(q.baseUrl+="/");for(g in a.has)v.add(g,a.has[g],0,b);f(a.packages,la);for(var r in a.packagePaths)f(a.packagePaths[r],function(c){var f=r+"/"+c;m(c)&&(c={name:c});c.location=f;la(c)});ha(c(O,a.map),V);f(V,function(c){c[1]=ha(c[1],[]);"*"==c[0]&&(V.star=c)});
ha(c(M,a.paths),R);ra(a.aliases,N);if(b)Q.push({config:a.config});else for(g in a.config)b=ba(g,h),b.config=c(b.config||{},a.config[g]);a.cache&&(Z(),W=a.cache,Z(0,!!a.cache["*noref"]));G("config",[a,q.rawConfig])};v("dojo-cdn");var fa=t.getElementsByTagName("script");e=0;for(var da,ia,ya,sa;e<fa.length;){da=fa[e++];if((ya=da.getAttribute("src"))&&(sa=ya.match(/(((.*)\/)|^)dojo\.js(\W|$)/i)))ia=sa[3]||"",d.baseUrl=d.baseUrl||ia,X=da;if(ya=da.getAttribute("data-dojo-config")||da.getAttribute("djConfig"))ca=
q.eval("({ "+ya+" })","data-dojo-config"),X=da}q.rawConfig={};ea(d,1);v("dojo-cdn")&&((T.dojo.location=ia)&&(ia+="/"),T.dijit.location=ia+"../dijit/",T.dojox.location=ia+"../dojox/");ea(k,1);ea(ca,1);var ta=function(c){pa(function(){f(c.deps,wa)})},Pa=function(f,b,h,r,e){var d;if(m(f)){if((d=ba(f,r,!0))&&d.executed)return d.result;if("dojo/i18n"===r.mid)return;throw n("undefinedModule",f);}g(f)||(ea(f,0,r),f=b,b=h);if(g(f))if(f.length){h="require*"+s();for(var l,p=[],k=0;k<f.length;)l=f[k++],p.push(ba(l,
r));d=c(za("",h,0,""),{injected:2,deps:p,def:b||a,require:r?r.require:q,gc:1});L[d.mid]=d;ta(d);var t=ua&&"sync"!=y;pa(function(){oa(d,t)});d.executed||$.push(d);ma()}else b&&b();return e},Ha=function(f){if(!f)return q;var a=f.require;a||(a=function(c,b,g){return Pa(c,b,g,f,a)},f.require=c(a,q),a.module=f,a.toUrl=function(c){return Qa(c,f)},a.toAbsMid=function(c){return Ia(c,f)},a.syncLoadNls=function(c){c=qa(c,f);var a=L[c.mid];if(!a||!a.executed)if(ga=Y[c.mid]||Y["url:"+c.url])Aa(ga),a=L[c.mid];
return a&&a.executed&&a.result});return a},$=[],Ba=[],aa={},ab=function(c){c.injected=1;aa[c.mid]=1;c.url&&(aa[c.url]=c.pack||1);Ra()},ja=function(c){c.injected=2;delete aa[c.mid];c.url&&delete aa[c.url];b(aa)&&(Ca(),"xd"==y&&(y="sync"))},bb=q.idle=function(){return!Ba.length&&b(aa)&&!$.length&&!ua},Da=function(c,f){if(f)for(var a=0;a<f.length;a++)if(f[a][2].test(c))return f[a];return 0},Sa=function(c){var f=[],a,b;for(c=c.replace(/\\/g,"/").split("/");c.length;)a=c.shift(),".."==a&&f.length&&".."!=
b?(f.pop(),b=f[f.length-1]):"."!=a&&f.push(b=a);return f.join("/")},za=function(c,f,a,b){var g=q.isXdUrl(b);return{pid:c,mid:f,pack:a,url:b,executed:0,def:0,isXd:g,isAmd:!!(g||T[c]&&T[c].isAmd)}},Ta=function(c,a,b,g,h,r,d,e,m,s){var p,k,t,q;q=/^\./.test(c);if(/(^\/)|(\:)|(\.js$)/.test(c)||q&&!a)return za(0,c,0,c);c=Sa(q?a.mid+"/../"+c:c);if(/^\./.test(c))throw n("irrationalPath",c);!s&&(!q&&r.star)&&(t=Da(c,r.star[1]));!t&&a&&(t=(t=Da(a.mid,r))&&Da(c,t[1]));t&&(c=t[1]+c.substring(t[3]));a=(sa=c.match(/^([^\/]+)(\/(.+))?$/))?
sa[1]:"";(p=b[a])?c=a+"/"+(k=sa[3]||p.main):a="";var u=0;f(e,function(f){var a=c.match(f[0]);a&&0<a.length&&(u=l(f[1])?c.replace(f[0],f[1]):f[1])});if(u)return Ta(u,0,b,g,h,r,d,e,m);if(b=g[c])return m?za(b.pid,b.mid,b.pack,b.url):g[c];g=(t=Da(c,d))?t[1]+c.substring(t[3]):a?p.location+"/"+k:v("config-tlmSiblingOfDojo")?"../"+c:c;/(^\/)|(\:)/.test(g)||(g=h+g);return za(a,c,p,Sa(g+".js"))},qa=function(c,f,a){return Ta(c,f,T,L,q.baseUrl,V,R,N,void 0,a)},Ua=function(c,f,a){return c.normalize?c.normalize(f,
function(c){return Ia(c,a)}):Ia(f,a)},Va=0,ba=function(c,f,a){var b,g;(b=c.match(/^(.+?)\!(.*)$/))?(g=ba(b[1],f,a),"sync"==y&&!g.executed&&(wa(g),2===g.injected&&!g.executed&&pa(function(){oa(g)}),g.executed?Ea(g):$.unshift(g)),5===g.executed&&!g.load&&Ea(g),g.load?(b=Ua(g,b[2],f),c=g.mid+"!"+(g.dynamic?++Va+"!":"")+b):(b=b[2],c=g.mid+"!"+ ++Va+"!waitingForPlugin"),c={plugin:g,mid:c,req:Ha(f),prid:b}):c=qa(c,f);return L[c.mid]||!a&&(L[c.mid]=c)},Ia=q.toAbsMid=function(c,f){return qa(c,f).mid},Qa=
q.toUrl=function(c,f){var a=qa(c+"/x",f),b=a.url;return xa(0===a.pid?c:b.substring(0,b.length-5))},Wa={injected:2,executed:5,def:3,result:3},Ja=function(f){return L[f]=c({mid:f},Wa)},cb=Ja("require"),db=Ja("exports"),eb=Ja("module"),Fa={},Ka=0,Ea=function(c){var f=c.result;c.dynamic=f.dynamic;c.normalize=f.normalize;c.load=f.load;return c},fb=function(a){var b={};f(a.loadQ,function(f){var g=Ua(a,f.prid,f.req.module),h=a.dynamic?f.mid.replace(/waitingForPlugin$/,g):a.mid+"!"+g,g=c(c({},f),{mid:h,prid:g,
injected:0});if(!L[h]||!L[h].injected)Xa(L[h]=g);b[f.mid]=L[h];ja(f);delete L[f.mid]});a.loadQ=0;var g=function(c){for(var f=c.deps||[],a=0;a<f.length;a++)(c=b[f[a].mid])&&(f[a]=c)},h;for(h in L)g(L[h]);f($,g)},na=function(c){q.trace("loader-finish-exec",[c.mid]);c.executed=5;c.defOrder=Ka++;f(c.provides,function(c){c()});c.loadQ&&(Ea(c),fb(c));for(e=0;e<$.length;)$[e]===c?$.splice(e,1):e++;/^require\*/.test(c.mid)&&delete L[c.mid]},gb=[],oa=function(c,f){if(4===c.executed)return q.trace("loader-circular-dependency",
[gb.concat(c.mid).join("-\x3e")]),!c.def||f?Fa:c.cjs&&c.cjs.exports;if(!c.executed){if(!c.def)return Fa;var a=c.mid,b=c.deps||[],g,h=[],r=0;for(c.executed=4;g=b[r++];){g=g===cb?Ha(c):g===db?c.cjs.exports:g===eb?c.cjs:oa(g,f);if(g===Fa)return c.executed=0,q.trace("loader-exec-module",["abort",a]),Fa;h.push(g)}q.trace("loader-run-factory",[c.mid]);var a=c.def,d;z.unshift(c);if(v("config-dojo-loader-catches"))try{d=l(a)?a.apply(null,h):a}catch(e){G("error",c.result=n("factoryThrew",[c,e]))}else d=l(a)?
a.apply(null,h):a;c.result=void 0===d&&c.cjs?c.cjs.exports:d;z.shift(c);na(c)}return c.result},ua=0,pa=function(c){try{ua++,c()}catch(f){throw f;}finally{ua--}bb()&&G("idle",[])},ma=function(){ua||pa(function(){D();for(var c,f,a=0;a<$.length;)c=Ka,f=$[a],oa(f),c!=Ka?(D(),a=0):a++})};void 0===v("dojo-loader-eval-hint-url")&&v.add("dojo-loader-eval-hint-url",1);var xa="function"==typeof k.fixupUrl?k.fixupUrl:function(c){c+="";return c+(S?(/\?/.test(c)?"\x26":"?")+S:"")},Xa=function(c){var f=c.plugin;
5===f.executed&&!f.load&&Ea(f);var a=function(f){c.result=f;ja(c);na(c);ma()};f.load?f.load(c.prid,c.req,a):f.loadQ?f.loadQ.push(c):(f.loadQ=[c],$.unshift(f),wa(f))},ga=0,va=0,La=0,Aa=function(c,f){"function"===typeof k.moduleTextTransform&&(c=k.moduleTextTransform(c,f));v("config-stripStrict")&&(c=c.replace(/(["'])use strict\1/g,""));La=1;if(v("config-dojo-loader-catches"))try{c===ga?ga.call(null):q.eval(c,v("dojo-loader-eval-hint-url")?f.url:f.mid)}catch(a){G("error",n("evalModuleThrew",f))}else c===
ga?ga.call(null):q.eval(c,v("dojo-loader-eval-hint-url")?f.url:f.mid);La=0},wa=function(a){var b=a.mid,g=a.url;if(!a.executed&&!a.injected&&!(aa[b]||a.url&&(a.pack&&aa[a.url]===a.pack||1==aa[a.url])))if(ab(a),a.plugin)Xa(a);else{var h=function(){Ya(a);if(2!==a.injected){if(v("dojo-enforceDefine")){G("error",n("noDefine",a));return}ja(a);c(a,Wa);q.trace("loader-define-nonmodule",[a.url])}y?!z.length&&ma():ma()};if(ga=Y[b]||Y["url:"+a.url])q.trace("loader-inject",["cache",a.mid,g]),Aa(ga,a),h();else{if(y)if(a.isXd)"sync"==
y&&(y="xd");else if(!(a.isAmd&&"sync"!=y)){var r=function(c){if("sync"==y){z.unshift(a);Aa(c,a);z.shift();Ya(a);a.cjs||(ja(a),na(a));if(a.finish){c=b+"*finish";var n=a.finish;delete a.finish;Ma(c,["dojo",("dojo/require!"+n.join(",")).replace(/\./g,"/")],function(c){f(n,function(f){c.require(f)})});$.unshift(ba(c))}h()}else(c=B(a,c))?(Aa(c,a),h()):(va=a,q.injectUrl(xa(g),h,a),va=0)};q.trace("loader-inject",["xhr",a.mid,g,"sync"!=y]);if(v("config-dojo-loader-catches"))try{q.getText(g,"sync"!=y,r)}catch(d){G("error",
n("xhrInjectFailed",[a,d]))}else q.getText(g,"sync"!=y,r);return}q.trace("loader-inject",["script",a.mid,g]);va=a;q.injectUrl(xa(g),h,a);va=0}}},Na=function(f,a,b){q.trace("loader-define-module",[f.mid,a]);var g=f.mid;if(2===f.injected)return G("error",n("multipleDefine",f)),f;c(f,{deps:a,def:b,cjs:{id:f.mid,uri:f.url,exports:f.result={},setExports:function(c){f.cjs.exports=c},config:function(){return f.config}}});for(var h=0;a[h];h++)a[h]=ba(a[h],f);y&&!aa[g]&&(ta(f),$.push(f),ma());ja(f);!l(b)&&
!a.length&&(f.result=b,na(f));return f},Ya=function(c,a){for(var b=[],g,h;Ba.length;)h=Ba.shift(),a&&(h[0]=a.shift()),g=h[0]&&ba(h[0])||c,b.push([g,h[1],h[2]]);Z(c);f(b,function(c){ta(Na.apply(null,c))})},Ga=0,Ca=a,Ra=a,Ca=function(){Ga&&clearTimeout(Ga);Ga=0},Ra=function(){Ca();q.waitms&&(Ga=p.setTimeout(function(){Ca();G("error",n("timeout",aa))},q.waitms))};v.add("ie-event-behavior",t.attachEvent&&"undefined"===typeof Windows&&("undefined"===typeof opera||"[object Opera]"!=opera.toString()));var Oa=
function(c,f,a,b){if(v("ie-event-behavior"))return c.attachEvent(a,b),function(){c.detachEvent(a,b)};c.addEventListener(f,b,!1);return function(){c.removeEventListener(f,b,!1)}},hb=Oa(window,"load","onload",function(){q.pageLoaded=1;try{"complete"!=t.readyState&&(t.readyState="complete")}catch(c){}hb()}),fa=t.getElementsByTagName("script");for(e=0;!X;)if(!/^dojo/.test((da=fa[e++])&&da.type))X=da;q.injectUrl=function(c,f,a){a=a.node=t.createElement("script");var b=Oa(a,"load","onreadystatechange",
function(c){c=c||window.event;var a=c.target||c.srcElement;if("load"===c.type||/complete|loaded/.test(a.readyState))b(),g(),f&&f()}),g=Oa(a,"error","onerror",function(f){b();g();G("error",n("scriptError",[c,f]))});a.type="text/javascript";a.charset="utf-8";a.src=c;X.parentNode.insertBefore(a,X);return a};q.log=function(){try{for(var c=0;c<arguments.length;c++);}catch(f){}};q.trace=a;var Ma=function(c,f,a){var b=arguments.length,g=["require","exports","module"],h=[0,c,f];1==b?h=[0,l(c)?g:[],c]:2==
b&&m(c)?h=[c,l(f)?g:[],f]:3==b&&(h=[c,f,a]);q.trace("loader-define",h.slice(0,2));if((b=h[0]&&ba(h[0]))&&!aa[b.mid])ta(Na(b,h[1],h[2]));else if(!v("ie-event-behavior")||La)Ba.push(h);else{b=b||va;if(!b)for(c in aa)if((g=L[c])&&g.node&&"interactive"===g.node.readyState){b=g;break}b?(Z(b),ta(Na(b,h[1],h[2]))):G("error",n("ieDefineFailed",h[0]));ma()}};Ma.amd={vendor:"dojotoolkit.org"};c(c(q,d.loaderPatch),k.loaderPatch);U("error",function(c){try{if(console.error(c),c instanceof Error)for(var f in c);
}catch(a){}});c(q,{uid:s,cache:Y,packs:T});if(p.define)G("error",n("defineAlreadyDefined",0));else{p.define=Ma;p.require=q;f(Q,function(c){ea(c)});var Za=ca.deps||k.deps||d.deps,$a=ca.callback||k.callback||d.callback;q.boot=Za||$a?[Za||[],$a]:0}})(this.dojoConfig||this.djConfig||this.require||{},{async:1,hasCache:{"config-selectorEngine":"lite","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-loader":1,dom:1,"host-browser":1},packages:[{location:".",name:"dojo"},{location:"../dijit",name:"dijit"},
{location:"../dojox",name:"dojox"},{location:"../dgrid",main:"OnDemandGrid",name:"dgrid"},{location:"../xstyle",name:"xstyle"},{location:"../put-selector",main:"put",name:"put-selector"},{location:"../mw-filename-utils",main:"FileNameUtil",name:"mw-filename-utils"},{location:"../mw-filebrowser",name:"mw-filebrowser"},{location:"../mw-actiondataservice",main:"ActionDataService",name:"mw-actiondataservice"},{location:"../mw-gesture",name:"mw-gesture"},{location:"../mw-keybindings",name:"mw-keybindings"},
{location:"../mw-peermodel",main:"PeerSynchronizer",name:"mw-peermodel"},{location:"../mw-messageservice",main:"MessageService",name:"mw-messageservice"},{location:"../mw-statemachine",main:"StateMachine",name:"mw-statemachine"},{location:"../mw-remote",main:"Remote",name:"mw-remote"},{location:"../mw-notifications",name:"mw-notifications"},{location:"../mw-dialog-utils",main:"DialogUtils.js",name:"mw-dialog-utils"},{location:"../mw-utils",main:"Utils",name:"mw-utils"},{location:"../mw-log",main:"Log",
name:"mw-log"},{location:"../mw-dnd",main:"DndUtils",name:"mw-dnd"},{location:"../mw-dom-utils",main:"domUtils",name:"mw-dom-utils"},{location:"../mw-event-utils",main:"platformize",name:"mw-event-utils"},{location:"../mw-form",main:"ActionDataService",name:"mw-form"},{location:"../mw-menu",main:"ActionDataService",name:"mw-menu"},{location:"../mw-mixins",name:"mw-mixins"},{location:"../mw-html-utils",main:"HTMLUtils",name:"mw-html-utils"},{location:"../mw-browser-utils",name:"mw-browser-utils"},
{location:"../mldo-embedded-client",name:"mldo-embedded-client"}]});
require({cache:{"dojo/_base/lang":function(){define(["./kernel","../has","../sniff"],function(k,d){d.add("bug-for-in-skips-shadowed",function(){for(var f in{toString:1})return 0;return 1});var e=d("bug-for-in-skips-shadowed")?"hasOwnProperty valueOf isPrototypeOf propertyIsEnumerable toLocaleString toString constructor".split(" "):[],a=e.length,b=function(f,c,a){a||(a=f[0]&&k.scopeMap[f[0]]?k.scopeMap[f.shift()][1]:k.global);try{for(var b=0;b<f.length;b++){var g=f[b];if(!(g in a))if(c)a[g]={};else return;
a=a[g]}return a}catch(h){}},h=Object.prototype.toString,l=function(f,c,a){return(a||[]).concat(Array.prototype.slice.call(f,c||0))},m=/\{([^\}]+)\}/g,g={_extraNames:e,_mixin:function(f,c,b){var g,h,l,m={};for(g in c)if(h=c[g],!(g in f)||f[g]!==h&&(!(g in m)||m[g]!==h))f[g]=b?b(h):h;if(d("bug-for-in-skips-shadowed")&&c)for(l=0;l<a;++l)if(g=e[l],h=c[g],!(g in f)||f[g]!==h&&(!(g in m)||m[g]!==h))f[g]=b?b(h):h;return f},mixin:function(f,c){f||(f={});for(var a=1,b=arguments.length;a<b;a++)g._mixin(f,arguments[a]);
return f},setObject:function(f,c,a){var g=f.split(".");f=g.pop();return(a=b(g,!0,a))&&f?a[f]=c:void 0},getObject:function(f,c,a){return!f?a:b(f.split("."),c,a)},exists:function(a,c){return void 0!==g.getObject(a,!1,c)},isString:function(a){return"string"==typeof a||a instanceof String},isArray:Array.isArray||function(a){return"[object Array]"==h.call(a)},isFunction:function(a){return"[object Function]"===h.call(a)},isObject:function(a){return void 0!==a&&(null===a||"object"==typeof a||g.isArray(a)||
g.isFunction(a))},isArrayLike:function(a){return!!a&&!g.isString(a)&&!g.isFunction(a)&&!(a.tagName&&"form"==a.tagName.toLowerCase())&&(g.isArray(a)||isFinite(a.length))},isAlien:function(a){return a&&!g.isFunction(a)&&/\{\s*\[native code\]\s*\}/.test(String(a))},extend:function(a,c){for(var b=1,h=arguments.length;b<h;b++)g._mixin(a.prototype,arguments[b]);return a},_hitchArgs:function(a,c){var b=g._toArray(arguments,2),h=g.isString(c);return function(){var d=g._toArray(arguments),e=h?(a||k.global)[c]:
c;return e&&e.apply(a||this,b.concat(d))}},hitch:function(a,c){if(2<arguments.length)return g._hitchArgs.apply(k,arguments);c||(c=a,a=null);if(g.isString(c)){a=a||k.global;if(!a[c])throw['lang.hitch: scope["',c,'"] is null (scope\x3d"',a,'")'].join("");return function(){return a[c].apply(a,arguments||[])}}return!a?c:function(){return c.apply(a,arguments||[])}},delegate:function(){function a(){}return function(c,b){a.prototype=c;var h=new a;a.prototype=null;b&&g._mixin(h,b);return h}}(),_toArray:d("ie")?
function(){function a(c,f,b){b=b||[];for(f=f||0;f<c.length;f++)b.push(c[f]);return b}return function(c){return(c.item?a:l).apply(this,arguments)}}():l,partial:function(a){return g.hitch.apply(k,[null].concat(g._toArray(arguments)))},clone:function(a){if(!a||"object"!=typeof a||g.isFunction(a))return a;if(a.nodeType&&"cloneNode"in a)return a.cloneNode(!0);if(a instanceof Date)return new Date(a.getTime());if(a instanceof RegExp)return RegExp(a);var c,b,h;if(g.isArray(a)){c=[];b=0;for(h=a.length;b<h;++b)b in
a&&(c[b]=g.clone(a[b]))}else c=a.constructor?new a.constructor:{};return g._mixin(c,a,g.clone)},trim:String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(a,c,b){return a.replace(b||m,g.isFunction(c)?c:function(a,f){return g.getObject(f,!1,c)})}};g.mixin(k,g);return g})},"dojo/_base/kernel":function(){define(["../has","./config","require","module"],function(k,d,e,a){var b,h;b=function(){return this}();var l={},m={},g={config:d,
global:b,dijit:l,dojox:m},l={dojo:["dojo",g],dijit:["dijit",l],dojox:["dojox",m]};a=e.map&&e.map[a.id.match(/[^\/]+/)[0]];for(h in a)l[h]?l[h][0]=a[h]:l[h]=[a[h],{}];for(h in l)a=l[h],a[1]._scopeName=a[0],d.noGlobals||(b[a[0]]=a[1]);g.scopeMap=l;g.baseUrl=g.config.baseUrl=e.baseUrl;g.isAsync=e.async;g.locale=d.locale;b="$Rev: 91fa0cb $".match(/[0-9a-f]{7,}/);g.version={major:1,minor:11,patch:2,flag:"",revision:b?b[0]:NaN,toString:function(){var c=g.version;return c.major+"."+c.minor+"."+c.patch+c.flag+
" ("+c.revision+")"}};k("csp-restrictions")||Function("d","d.eval \x3d function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(g);g.exit=function(){};k("host-webworker");k.add("console-as-object",function(){return Function.prototype.bind&&console&&"object"===typeof console.log});"undefined"!=typeof console||(console={});a="assert count debug dir dirxml error group groupEnd info profile profileEnd time timeEnd trace warn log".split(" ");var f;for(b=0;f=a[b++];)console[f]?
k("console-as-object")&&(console[f]=Function.prototype.bind.call(console[f],console)):function(){var c=f+"";console[c]="log"in console?function(){var a=Array.prototype.slice.call(arguments);a.unshift(c+":");console.log(a.join(" "))}:function(){};console[c]._fake=!0}();k.add("dojo-debug-messages",!!d.isDebug);g.deprecated=g.experimental=function(){};k("dojo-debug-messages")&&(g.deprecated=function(c,a,f){},g.experimental=function(c,a){});if(d.modulePaths){g.deprecated("dojo.modulePaths","use paths configuration");
k={};for(h in d.modulePaths)k[h.replace(/\./g,"/")]=d.modulePaths[h];e({paths:k})}g.moduleUrl=function(c,a){g.deprecated("dojo.moduleUrl()","use require.toUrl","2.0");var f=null;c&&(f=e.toUrl(c.replace(/\./g,"/")+(a?"/"+a:"")+"/*.*").replace(/\/\*\.\*/,"")+(a?"":"/"));return f};g._hasResource={};return g})},"dojo/has":function(){define(["require","module"],function(k,d){var e=k.has||function(){};e.add("dom-addeventlistener",!!document.addEventListener);e.add("touch","ontouchstart"in document||"onpointerdown"in
document&&0<navigator.maxTouchPoints||window.navigator.msMaxTouchPoints);e.add("touch-events","ontouchstart"in document);e.add("pointer-events","pointerEnabled"in window.navigator?window.navigator.pointerEnabled:"PointerEvent"in window);e.add("MSPointer",window.navigator.msPointerEnabled);e.add("device-width",screen.availWidth||innerWidth);var a=document.createElement("form");e.add("dom-attributes-explicit",0==a.attributes.length);e.add("dom-attributes-specified-flag",0<a.attributes.length&&40>a.attributes.length);
e.clearElement=function(a){a.innerHTML="";return a};e.normalize=function(a,h){var d=a.match(/[\?:]|[^:\?]*/g),m=0,g=function(a){var c=d[m++];if(":"==c)return 0;if("?"==d[m++]){if(!a&&e(c))return g();g(!0);return g(a)}return c||0};return(a=g())&&h(a)};e.load=function(a,h,d){a?h([a],d):d()};return e})},"dojo/_base/config":function(){define(["../has","require"],function(k,d){var e={},a=d.rawConfig,b;for(b in a)e[b]=a[b];e.updateLocale=function(a,b){var d,g;if(0<=a.indexOf(b)&&"zh"!==b)e.locale=b;else if(d=
b.split("-")[0],"zh"===d)e.locale="en-us".toLocaleLowerCase();else{for(var f=0;f<a.length;f+=1)if(g=a[f].split("-")[0],d===g){e.locale=a[f];break}e.locale||(e.locale="en-us")}};if(!e.locale&&"undefined"!=typeof navigator&&(a=e._testLanguageOverride||navigator.language||navigator.userLanguage))a=a.toLowerCase(),e.supportedLocales&&e.updateLocale(e.supportedLocales,a);e.locale||(e.locale="en-us");return e})},"dojo/sniff":function(){define(["./has"],function(k){var d=navigator,e=d.userAgent,d=d.appVersion,
a=parseFloat(d);k.add("air",0<=e.indexOf("AdobeAIR"));k.add("wp",parseFloat(e.split("Windows Phone")[1])||void 0);k.add("msapp",parseFloat(e.split("MSAppHost/")[1])||void 0);k.add("khtml",0<=d.indexOf("Konqueror")?a:void 0);k.add("edge",parseFloat(e.split("Edge/")[1])||void 0);k.add("opr",parseFloat(e.split("OPR/")[1])||void 0);k.add("webkit",!k("wp")&&!k("edge")&&parseFloat(e.split("WebKit/")[1])||void 0);k.add("chrome",!k("edge")&&!k("opr")&&parseFloat(e.split("Chrome/")[1])||void 0);k.add("android",
!k("wp")&&parseFloat(e.split("Android ")[1])||void 0);k.add("safari",0<=d.indexOf("Safari")&&!k("wp")&&!k("chrome")&&!k("android")&&!k("edge")&&!k("opr")?parseFloat(d.split("Version/")[1]):void 0);k.add("mac",0<=d.indexOf("Macintosh"));k.add("quirks","BackCompat"==document.compatMode);if(!k("wp")&&e.match(/(iPhone|iPod|iPad)/)){var b=RegExp.$1.replace(/P/,"p"),h=e.match(/OS ([\d_]+)/)?RegExp.$1:"1",h=parseFloat(h.replace(/_/,".").replace(/_/g,""));k.add(b,h);k.add("ios",h)}k.add("bb",(0<=e.indexOf("BlackBerry")||
0<=e.indexOf("BB10"))&&parseFloat(e.split("Version/")[1])||void 0);k.add("trident",parseFloat(d.split("Trident/")[1])||void 0);k.add("svg","undefined"!==typeof SVGAngle);k("webkit")||(0<=e.indexOf("Opera")&&k.add("opera",9.8<=a?parseFloat(e.split("Version/")[1])||a:a),0<=e.indexOf("Gecko")&&(!k("wp")&&!k("khtml")&&!k("trident")&&!k("edge"))&&k.add("mozilla",a),k("mozilla")&&k.add("ff",parseFloat(e.split("Firefox/")[1]||e.split("Minefield/")[1])||void 0),document.all&&!k("opera")&&(e=parseFloat(d.split("MSIE ")[1])||
void 0,(d=document.documentMode)&&(5!=d&&Math.floor(e)!=d)&&(e=d),k.add("ie",e)),k.add("wii","undefined"!=typeof opera&&opera.wiiremote));return k})},"mw-filename-utils/FileNameUtil":function(){define(["dojo/_base/array"],function(k){return{MATLAB_FILE_PATTERN:/^[a-z][a-z0-9_]*\.m$/i,USER_DIR_PATH:"users/",USERS_DIR_PATH:"/users/",USER_PUBLISHED_DIR:"Published",USER_PUBLISHED_DIR_PATH_PATTERN:"^/users/[a-zA-Z][a-zA-Z0-9]*/Published$",USER_SHARED_DIR_PATH_PATTERN:"^/users/[a-zA-Z][a-zA-Z0-9]*/Shared$",
IN_USER_SHARED_DIR_PATTERN:"^/users/[a-zA-Z][a-zA-Z0-9]*/Shared/*",BROWSER_TYPES:"htm html pdf doc docx dot dotx rtf docm dotm xls asv dat exe dll xlsx zip".split(" "),LOAD_TYPES:["mat"],MATLAB_OPEN_TYPES:"fig tif png jpg jpeg gif au bmp mlx".split(" "),LIVE_SCRIPT_EXTENSION:"mlx",MATLAB_CODE_FILE_EXTENSION:"m",FILENAME_PATTERN:/^[^\"\/\*:><\?\\|]+$/,MATLAB_EXTENSION_PATTERN:/\.(m|mln|mlx)$/i,SUPPORTED_EXTENSION_PATTERN:/\.(pdf|html|htm)$/i,SUPPORTED_FILENAME_PATTERN:/^[a-z][a-z0-9_]*\.(m|mln|mlx|pdf|html|htm)$/i,
MATLAB_FILENAME_PATTERN:/^[a-z][a-z0-9_]*\.(m|mln|mlx)$/i,MATLAB_NAME_LENGTH:63,FILE_NAME_LENGTH:128,isMatlabFileInfo:function(d){return this._fileInfoNameMatchesRegExp(d,this.MATLAB_FILE_PATTERN)},isMatlabFileName:function(d){return this._fileNameMatchesRegExp(d,this.MATLAB_FILE_PATTERN)},isValidFileName:function(d){return this._fileNameMatchesRegExp(d,this.FILENAME_PATTERN)},checkFileInfoExtension:function(d,e){return d&&d.name&&this.checkFileNameExtension(d.name,e)},checkFileNameExtension:function(d,
e){e instanceof Array||(e=[e]);return k.some(e,function(a){return this.getFileNameExtension(d).toLocaleLowerCase()===a.toLocaleLowerCase()},this)},constructMatlabFilePath:function(d){return"'"+this.pathFromFileInfo(d).replace(/'/g,"''")+"'"},constructUrlFromFileInfo:function(d,e){if(!e){var a=d.location.split(this.getFileSeparator(d.location));e=a[Math.min(2,a.length-1)]}a="/"+d.location.substring(Math.min(d.location.indexOf(e)+e.length+1,d.location.length));return this.USER_DIR_PATH+e+a+d.name},
getFileSeparator:function(d){return-1!==d.search(/^[a-z]:/i)||-1!==d.search(/^\\\\/i)?"\\":"/"},getFileNameNoExtension:function(d){if(!d||"string"!==typeof d)return d;var e=-1!==d.lastIndexOf(".")?d.lastIndexOf("."):d.length;return d.slice(0,e)},getFileNameExtension:function(d){if(!d||"string"!==typeof d)return d;var e=-1!==d.lastIndexOf(".")?d.lastIndexOf(".")+1:d.length;return d.substring(e,d.length)},normalizePath:function(d){var e=this.getFileSeparator(d);return d.replace(/[\/\\]*$/,e)},parseHomeFolderFromPath:function(d,
e){var a=d.indexOf(e),b="";0<a&&(b=d.substring(0,a+e.length)+this.getFileSeparator(d));return b},getPackageStartFromLocation:function(d){d=this.normalizeLocation(d);var e=this.getFileSeparator(d);"\\"===e&&(e+=e);return d.search("(\\"+e+"\\+[a-zA-Z][a-zA-Z0-9_]*)+\\"+e+"$")},getFullyQualifiedMatlabName:function(d){var e=this.convertLocationToPackage(d.location);d=this.getFileNameNoExtension(d.name);return e+d},getPathForPublish:function(d){return-1<d.location.indexOf("+")?this.getFullyQualifiedMatlabName(d):
d.location+d.name},areFilesEqual:function(d,e){return this.pathFromFileInfo(d)===this.pathFromFileInfo(e)},convertPathToRowClass:function(d){return d.replace(/[\/\.]/g,"_")},convertLocationToPackage:function(d){d=this.normalizeLocation(d);var e=this.getPackageStartFromLocation(d);if(0>e)return"";var a=this.getFileSeparator(d);"\\"===a&&(a+=a);return d.substring(e+1,d.length).replace(/\+/g,"").replace(RegExp("\\"+a,"g"),".")},isShareable:function(d){return d.location===this.USERS_DIR_PATH||this.isUserPublishedDirectoryPath(d.path)?
!1:d.shareAttributes&&void 0!==d.shareAttributes.canProduceShare?d.shareAttributes.canProduceShare:d.isDirectory&&!(d.parent&&"ROOT"===d.parent.pathId)},isUserSharedDirectoryPath:function(d){return d.match(this.USER_SHARED_DIR_PATH_PATTERN)},isInUsersSharedDirectory:function(d){return-1!==d.search(this.IN_USER_SHARED_DIR_PATTERN)},isCurrentFolderInPath:function(d,e){return-1!==e.search(d)},isUserPublishedDirectoryPath:function(d){return d.match(this.USER_PUBLISHED_DIR_PATH_PATTERN)},isVersioned:function(d){return!d.isDirectory&&
this.isWritable(d)&&this.isMatlabEditorOpenType(d)},isWritable:function(d){return d&&d.filePermissions&&d.filePermissions.canWrite},isLiveScriptFile:function(d){return this.getFileNameExtension(d)===this.LIVE_SCRIPT_EXTENSION},isPlainCodeFile:function(d){return this.getFileNameExtension(d)===this.MATLAB_CODE_FILE_EXTENSION},canRename:function(d){return!d||d.parent&&"ROOT"===d.parent.pathId||d.parent&&d.name===this.USER_PUBLISHED_DIR&&"ROOT"===d.parent.parent.pathId?!1:this.isWritable(d)},canDelete:function(d){return this.canRename(d)},
canDownload:function(d){return!d||d.name&&"mln"===this.getFileNameExtension(d.name).toLocaleLowerCase()?!1:!d.isDirectory},_fileInfoNameMatchesRegExp:function(d,e){var a=!1;d&&d.name&&(a=this._fileNameMatchesRegExp(d.name,e));return a},_fileNameMatchesRegExp:function(d,e){var a=!1,b=this._getCaseInsensitiveRegExp(e);d&&("string"===typeof d&&-1!==d.search(b))&&(a=!0);return a},_getCaseInsensitiveRegExp:function(d){return d instanceof RegExp?RegExp(d.source,"i"):RegExp(d,"i")},assertIsFile:function(d){if(!this.isFile(d))throw Error("MW.utils.FileNameUtil: the object is not a 'File'.");
},isFile:function(d){return d&&d.hasOwnProperty("content")&&d.hasOwnProperty("fileInfo")&&this.isFileInfo(d.fileInfo)},assertIsFileInfo:function(d){if(!this.isFileInfo(d))throw Error("MW.utils.FileNameUtil: the object is not a 'FileInfo'.");},isFileInfo:function(d){return d&&d.hasOwnProperty("location")&&d.hasOwnProperty("name")&&d.hasOwnProperty("isDirectory")},normalizeLocation:function(d){if("string"===typeof d&&(0===d.length||d.lastIndexOf(this.getFileSeparator(d))!==d.length-1))d+=this.getFileSeparator(d);
return d},createFilePath:function(d,e){return this.normalizeLocation(d)+e},folderInfoFromPath:function(d){d=this.fileInfoFromPath(d);d.isDirectory=!0;return d},fileInfoFromPath:function(d){return{location:this.locationFromPath(d),name:this.nameFromPath(d),filePermissions:{canWrite:!0},isDirectory:!1,separator:this.getFileSeparator(d)}},pathFromFileInfo:function(d){if(!this.isFileInfo(d))throw Error("MW.utils.FileNameUtil: the object is not a 'FileInfo'.");return d.location+d.name},locationFromPath:function(d){var e,
a=this.getFileSeparator(d),b=d.split(a);b[b.length-1]?(e=b[b.length-1],e=d.slice(0,d.length-e.length)):b[b.length-2]&&(e=b[b.length-2],e=d.slice(0,d.length-e.length-1));!e&&d===a&&(e=a);return e},getParentPath:function(d){d=this.locationFromPath(d);return this._getPath(d)},_getPath:function(d){if(0===d.length)return d;var e=this.getFileSeparator(d);return d.charAt(d.length-1)!==e||3===d.length&&d.charAt(0).match(/[a-z]/i)&&":"===d.charAt(1)&&"\\"===d.charAt(2)||"/"===d?d:d.slice(0,d.length-1)},nameFromPath:function(d){var e=
"",a=this.getFileSeparator(d);d=d.replace(a+a,a);d=d.split(a);d[d.length-1]?e=d[d.length-1]:d[d.length-2]&&(e=d[d.length-2]);return e},createEmptyFileObject:function(d,e){return{content:"",fileInfo:this.fileInfoFromPath(this.createFilePath(d,e))}},remoteFile:function(d){var e=d;this.isFile(d)&&this.isFileInfo(d.fileInfo)&&(e={content:d.content,fileInfo:this.remoteFileInfo(d.fileInfo)});return e},remoteFileInfo:function(d){var e=d;this.isFileInfo(d)&&(e={location:d.location,name:d.name,isDirectory:d.isDirectory});
return e},extractSelectedFileName:function(d){if(!d||""===d||1>d.length)return"";var e=this.getFileSeparator(d);return 0>d.lastIndexOf(e)?d:d.substring(d.lastIndexOf(e)+1,d.length)},isBrowserType:function(d){return this.checkFileInfoExtension(d,this.BROWSER_TYPES)?!0:!1},isLoadType:function(d){return this.checkFileInfoExtension(d,this.LOAD_TYPES)?!0:!1},isMatlabOpenType:function(d){return this.checkFileInfoExtension(d,this.MATLAB_OPEN_TYPES)?!0:!1},isMatlabEditorOpenType:function(d){return!(this.checkFileInfoExtension(d,
this.BROWSER_TYPES)||this.checkFileInfoExtension(d,this.LOAD_TYPES)||this.checkFileInfoExtension(d,this.MATLAB_OPEN_TYPES))}}})},"dojo/_base/array":function(){define(["./kernel","../has","./lang"],function(k,d,e){function a(a){return l[a]=new Function("item","index","array",a)}function b(f){var c=!f;return function(b,g,h){var d=0,e=b&&b.length||0,m;e&&"string"==typeof b&&(b=b.split(""));"string"==typeof g&&(g=l[g]||a(g));if(h)for(;d<e;++d){if(m=!g.call(h,b[d],d,b),f^m)return!m}else for(;d<e;++d)if(m=
!g(b[d],d,b),f^m)return!m;return c}}function h(a){var c=1,b=0,h=0;a||(c=b=h=-1);return function(d,e,l,k){if(k&&0<c)return g.lastIndexOf(d,e,l);k=d&&d.length||0;var u=a?k+h:b;l===m?l=a?b:k+h:0>l?(l=k+l,0>l&&(l=b)):l=l>=k?k+h:l;for(k&&"string"==typeof d&&(d=d.split(""));l!=u;l+=c)if(d[l]==e)return l;return-1}}var l={},m,g={every:b(!1),some:b(!0),indexOf:h(!0),lastIndexOf:h(!1),forEach:function(f,c,b){var g=0,h=f&&f.length||0;h&&"string"==typeof f&&(f=f.split(""));"string"==typeof c&&(c=l[c]||a(c));
if(b)for(;g<h;++g)c.call(b,f[g],g,f);else for(;g<h;++g)c(f[g],g,f)},map:function(f,c,b,g){var h=0,d=f&&f.length||0;g=new (g||Array)(d);d&&"string"==typeof f&&(f=f.split(""));"string"==typeof c&&(c=l[c]||a(c));if(b)for(;h<d;++h)g[h]=c.call(b,f[h],h,f);else for(;h<d;++h)g[h]=c(f[h],h,f);return g},filter:function(f,c,b){var g=0,h=f&&f.length||0,d=[],e;h&&"string"==typeof f&&(f=f.split(""));"string"==typeof c&&(c=l[c]||a(c));if(b)for(;g<h;++g)e=f[g],c.call(b,e,g,f)&&d.push(e);else for(;g<h;++g)e=f[g],
c(e,g,f)&&d.push(e);return d},clearCache:function(){l={}}};e.mixin(k,g);return g})},"mw-filebrowser/FileBrowser":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dom-class dojo/dom-style dojo/Evented dojo/has dojo/on dojo/text!./filebrowser.html dijit/_TemplatedMixin dijit/_WidgetBase dijit/Tooltip dgrid/extensions/DnD dgrid/Keyboard dgrid/OnDemandGrid dgrid/Selection dgrid/extensions/ColumnHider dgrid/extensions/ColumnReorder mw-filename-utils/FileNameUtil mw-gesture/GestureDetector mw-menu/ContextMenu ./actions/contextmenu/ActionsContextMenuBuilder ./actions/keyboard/KeyboardActionsBuilder ./columns/ColumnHiderContextMenuBuilder ./grid/draganddrop/FileBrowserGridDnDSource ./grid/workarounds/ColumnResizer ./grid/workarounds/DgridWorkarounds ./grid/FileBrowserSortProperty ./grid/GridHelper dojo/domReady!".split(" "),
function(k,d,e,a,b,h,l,m,g,f,c,n,r,s,q,p,t,u,v,w,x,y,z,C,D,B,E,J,H){var P=!1,I=function(c){function f(c){return 0<c.types.length&&"Files"===c.types[0]}c.fileBrowserContainer.ondragstart=function(c){f(c.dataTransfer)&&c.preventDefault()};c.fileBrowserContainer.ondragenter=function(b){f(b.dataTransfer)&&(b.preventDefault(),a.add(c.fileBrowserContainer,"indicateDropZone"))};c.fileBrowserContainer.ondragleave=function(f){f.preventDefault();0<=f.target.className.indexOf("indicateDropZone")&&a.remove(c.fileBrowserContainer,
"indicateDropZone");f.dataTransfer.dropEffect="none"};c.fileBrowserContainer.ondragover=function(c){f(c.dataTransfer)&&(c.preventDefault(),c.dataTransfer.dropEffect="copy")};c.fileBrowserContainer.ondragend=function(c){c.preventDefault()};c.fileBrowserContainer.ondrop=function(f){f.preventDefault();a.remove(c.fileBrowserContainer,"indicateDropZone");c.emit("fileBrowserDropEvent",f)}};return k([c,f,h],{templateString:g,idAttr:"data-tag",collapseIcon:"collapseIcon",expandIcon:"expandIcon",constructor:function(c){c=
c||{};this.fileService=c.fileService;this.actionServices=c.actionRegistry;this.columnRegistry=c.columnRegistry;this.contextMenuEnabled=c.contextMenuEnabled;this.allowDnD=c.allowDnD;this.keybindings=c.keybindings},postCreate:function(){this.inherited(arguments);this.tooltip=new n({connectId:this.currentFolderNode,position:["above","after"]});if(!J.getFBCompareFunction()){var c=this.columnRegistry.getCompareFunction("name",!1);J.setFBSortProperties(c,"name",!1)}this.own(this.grid=k([q,s,p,r,t,u,B,E,
H])({minRowsPerPage:1E3,sort:J.getFBCompareFunction(),store:this.fileService.fileStore.store,columns:this.columnRegistry.getColumns(),selectionMode:"custom",allowSelectAll:!0,deselectOnRefresh:!1,cellNavigation:!1,dndConstructor:D,dndParams:{allowNested:!0,skipForm:!0,isSource:this.allowDnD}},this.dgridContainer),e.before(this.grid,"removeRow",d.hitch(this,this.grid.handleRemoveRow),!0),e.after(this.grid,"expand",d.hitch(this,this.onExpandOrCollapse),!0),e.after(this.grid.dndSource,"onFilesDrop",
d.hitch(this,"onFilesDrop"),!0));this.contextMenuEnabled&&this.own(this.grid.contextMenu=new x({willOpenCallback:d.hitch(this,this._updateContextMenu),targetNodes:[".fileBrowser2 .dgrid-row",".fileBrowser2 .dgrid-row *:not(.dgrid-input)",".fileBrowser2 .dgrid-content"]}),this.grid.headerContextMenu=new x({targetNodes:[".fileBrowser2 .dgrid-header"]}));this.grid.headerContextMenu&&C.buildContextMenu(this.grid.headerContextMenu,this.columnRegistry,this.grid,d.hitch(this,this.updateColumnVisible));this.own(e.after(this.fileService,
"onMove",d.hitch(this,this._handleMoveFile),!0),e.after(this.fileService,"onRename",d.hitch(this,this._handleRenameFile),!0));this.grid.on("dgrid-editor-show",d.hitch(this,this._initializeEditor));this.grid.on("dgrid-datachange",d.hitch(this,this._handleFileNameChanged));this.grid.on(".dgrid-content:mousedown",d.hitch(this,this._handleWhiteSpaceMouseDown));this.grid.on(".dgrid-row:dblclick",d.hitch(this,this._handleRowDoubleClick));this.grid.on("dgrid-select",d.hitch(this,this._handleGridSelectionChange));
this.grid.on("dgrid-deselect",d.hitch(this,this._handleGridSelectionChange));this.grid.on("dgrid-sort",d.hitch(this,this._handleSort));if(l("ios")){var a=this;(new w(this.grid.domNode)).events.doubleTap.addEventHandler(function(c){a._handleRowDoubleClick(c)})}I(this);this.hiddenFileInputForUpload.onchange=d.hitch(this,this._handleFileInputChange,this.hiddenFileInputForUpload,this.uploadForm);z.buildKeyMap(this.actionServices,this)},updateColumnVisible:function(c,a){this.grid.toggleColumnHiddenState(c,
!a);for(var f=this.grid.headerContextMenu.getChildren(),b=0;b<f.length;b++){var g=f[b];if(g.id===c){g.set("checked",a);break}}this.emit("columnstatechange",{columnId:c,makeVisible:a})},_handleFileInputChange:function(c,a){this.onFileInputChange(c,a)},startupFB:function(){this.grid.startup()},renameFile:function(c){c=this.grid.cell(c[0],this.columnRegistry.getColumn("name").id);m.emit(c.element,"renameEvent",{})},_initializeEditor:function(c){m(c.editor.domNode,"click, dblclick, contextmenu",function(c){c.stopPropagation()});
var a=this.grid.row(c).data,f=a.name,a=-1===f.lastIndexOf(".")||a.isDirectory?f.length:f.lastIndexOf("."),f=c.editor.textbox;f.createTextRange?(c.preventDefault(),c=f.createTextRange(),c.collapse(),c.moveStart("character",0),c.moveEnd("character",a),c.select()):f.setSelectionRange(0,a)},_handleFileNameChanged:function(c){c.preventDefault();this.onFileNameChanged(this.grid.row(c).data,c.value)},resize:function(c){b.set(this.domNode,{height:c.h.toString()+"px",width:c.w.toString()+"px"});b.set(this.dgridContainer,
{height:c.h.toString()+"px",width:c.w.toString()+"px"});this.grid.resize()},changeCurrentFolder:function(c){this.grid.setCurrentFolderInfo(c);this.grid.set("query",{parent:v.pathFromFileInfo(c)});this.grid.clearSelection();this.onSelectionChange(this.grid.getSelectedFileInfos(),this.grid.getSelectedFilePaths());P&&(this.grid._focusedNode=null,this.grid.focus(),this.setShouldGiveFocusBackToDgrid(!1))},setShouldGiveFocusBackToDgrid:function(c){P=c},_updateCompareFunction:function(c,a){var f=this.columnRegistry.getCompareFunction(c,
a);J.setFBSortProperties(f,c,a);this.grid.set("sort",f)},_updateContextMenu:function(c){this.contextMenuEnabled&&y.buildContextMenu(this.grid.contextMenu,this.actionServices,this.grid.getSelectedFilePaths(),this.keybindings)},_handleSort:function(c){c.preventDefault();c=c.sort[0];var a=J.getFBSortArray()[0];this._updateCompareFunction(c.attribute,a.attribute===c.attribute&&!a.descending)},_handleMoveFile:function(c){c=v.pathFromFileInfo(c);var a=v.getParentPath(c);c=this.grid._expanded[a]||a===v.pathFromFileInfo(this.fileService.getCurrentFolderInfo())?
c:a;this.grid.clearRemovedFocus();this.grid.focus(this.grid.row(c).element)},_handleRenameFile:function(c){this.grid.clearRemovedFocus();this.grid.focus(this.grid.row(v.pathFromFileInfo(c)).element)},_handleWhiteSpaceMouseDown:function(c){this.grid.row(c)||this.grid.clearSelection()},_handleRowDoubleClick:function(c){if((c=this.grid.row(c))&&!c.data.isGroupHeader)this.onDoubleClick(c.data)},_handleGridSelectionChange:function(){this.onSelectionChange(this.grid.getSelectedFileInfos(),this.grid.getSelectedFilePaths())},
onSelectionChange:function(c,a){},onDoubleClick:function(c){},onFilesDrop:function(c,a,f){},onFileNameChanged:function(c,a){},onExpandOrCollapse:function(c){var a=this.grid.row(c).id,f=this.grid.row(c).data;if(f&&!f.isGroupHeader&&(f=!!this.grid._expanded[a],this.fileService.onExpandOrCollapse))this.fileService.onExpandOrCollapse(a,f);c.data&&c.data.isDirectory&&this.columnRegistry.getColumn("name").setNodeClassName(c,this.grid._expanded[c.id])}})})},"dojo/_base/declare":function(){define(["./kernel",
"../has","./lang"],function(k,d,e){function a(c,a){throw Error("declare"+(a?" "+a:"")+": "+c);}function b(c,f,b){var g,h,d,e,n,l,r,m=this._inherited=this._inherited||{};"string"==typeof c&&(g=c,c=f,f=b);b=0;e=c.callee;(g=g||e.nom)||a("can't deduce a name to call inherited()",this.declaredClass);n=this.constructor._meta;d=n.bases;r=m.p;if(g!=C){if(m.c!==e&&(r=0,l=d[0],n=l._meta,n.hidden[g]!==e)){(h=n.chains)&&"string"==typeof h[g]&&a("calling chained method with inherited: "+g,this.declaredClass);
do if(n=l._meta,h=l.prototype,n&&(h[g]===e&&h.hasOwnProperty(g)||n.hidden[g]===e))break;while(l=d[++r]);r=l?r:-1}if(l=d[++r])if(h=l.prototype,l._meta&&h.hasOwnProperty(g))b=h[g];else{e=w[g];do if(h=l.prototype,(b=h[g])&&(l._meta?h.hasOwnProperty(g):b!==e))break;while(l=d[++r])}b=l&&b||w[g]}else{if(m.c!==e&&(r=0,(n=d[0]._meta)&&n.ctor!==e)){h=n.chains;for((!h||"manual"!==h.constructor)&&a("calling chained constructor with inherited",this.declaredClass);(l=d[++r])&&!((n=l._meta)&&n.ctor===e););r=l?
r:-1}for(;(l=d[++r])&&!(b=(n=l._meta)?n.ctor:l););b=l&&b}m.c=b;m.p=r;if(b)return!0===f?b:b.apply(this,f||c)}function h(c,a){return"string"==typeof c?this.__inherited(c,a,!0):this.__inherited(c,!0)}function l(c,a,f){var b=this.getInherited(c,a);if(b)return b.apply(this,f||a||c)}function m(c){for(var a=this.constructor._meta.bases,f=0,b=a.length;f<b;++f)if(a[f]===c)return!0;return this instanceof c}function g(c,a){for(var f in a)f!=C&&a.hasOwnProperty(f)&&(c[f]=a[f]);if(d("bug-for-in-skips-shadowed"))for(var b=
e._extraNames,g=b.length;g;)f=b[--g],f!=C&&a.hasOwnProperty(f)&&(c[f]=a[f])}function f(c){u.safeMixin(this.prototype,c);return this}function c(c,a){c instanceof Array||"function"==typeof c||(a=c,c=void 0);a=a||{};c=c||[];return u([this].concat(c),a)}function n(c,a){return function(){var f=arguments,b=f,g=f[0],h,d;d=c.length;var e;if(!(this instanceof f.callee))return t(f);if(a&&(g&&g.preamble||this.preamble)){e=Array(c.length);e[0]=f;for(h=0;;){if(g=f[0])(g=g.preamble)&&(f=g.apply(this,f)||f);g=c[h].prototype;
(g=g.hasOwnProperty("preamble")&&g.preamble)&&(f=g.apply(this,f)||f);if(++h==d)break;e[h]=f}}for(h=d-1;0<=h;--h)g=c[h],(g=(d=g._meta)?d.ctor:g)&&g.apply(this,e?e[h]:f);(g=this.postscript)&&g.apply(this,b)}}function r(c,a){return function(){var f=arguments,b=f,g=f[0];if(!(this instanceof f.callee))return t(f);a&&(g&&(g=g.preamble)&&(b=g.apply(this,b)||b),(g=this.preamble)&&g.apply(this,b));c&&c.apply(this,f);(g=this.postscript)&&g.apply(this,f)}}function s(c){return function(){var a=arguments,f=0,
b,g;if(!(this instanceof a.callee))return t(a);for(;b=c[f];++f)if(b=(g=b._meta)?g.ctor:b){b.apply(this,a);break}(b=this.postscript)&&b.apply(this,a)}}function q(c,a,f){return function(){var b,g,h=0,d=1;f&&(h=a.length-1,d=-1);for(;b=a[h];h+=d)g=b._meta,(b=(g?g.hidden:b.prototype)[c])&&b.apply(this,arguments)}}function p(c){y.prototype=c.prototype;c=new y;y.prototype=null;return c}function t(c){var a=c.callee,f=p(a);a.apply(f,c);return f}function u(d,l,k){"string"!=typeof d&&(k=l,l=d,d="");k=k||{};
var t,y,I,K,F,A,G,U=1,N=l;if("[object Array]"==x.call(l)){U=d;I=[];K=[{cls:0,refs:[]}];A={};for(var M=1,R=l.length,T=0,O,V,L,S;T<R;++T){(O=l[T])?"[object Function]"!=x.call(O)&&a("mixin #"+T+" is not a callable constructor.",U):a("mixin #"+T+" is unknown. Did you use dojo.require to pull it in?",U);V=O._meta?O._meta.bases:[O];L=0;for(O=V.length-1;0<=O;--O)S=V[O].prototype,S.hasOwnProperty("declaredClass")||(S.declaredClass="uniqName_"+z++),S=S.declaredClass,A.hasOwnProperty(S)||(A[S]={count:0,refs:[],
cls:V[O]},++M),S=A[S],L&&L!==S&&(S.refs.push(L),++L.count),L=S;++L.count;K[0].refs.push(L)}for(;K.length;){L=K.pop();I.push(L.cls);for(--M;y=L.refs,1==y.length;){L=y[0];if(!L||--L.count){L=0;break}I.push(L.cls);--M}if(L){T=0;for(R=y.length;T<R;++T)L=y[T],--L.count||K.push(L)}}M&&a("can't build consistent linearization",U);O=l[0];I[0]=O?O._meta&&O===I[I.length-O._meta.bases.length]?O._meta.bases.length:1:0;A=I;I=A[0];U=A.length-I;l=A[U]}else A=[0],l?"[object Function]"==x.call(l)?(I=l._meta,A=A.concat(I?
I.bases:l)):a("base class is not a callable constructor.",d):null!==l&&a("unknown base class. Did you use dojo.require to pull it in?",d);if(l)for(y=U-1;;--y){t=p(l);if(!y)break;I=A[y];(I._meta?g:v)(t,I.prototype);K=new Function;K.superclass=l;K.prototype=t;l=t.constructor=K}else t={};u.safeMixin(t,k);I=k.constructor;I!==w.constructor&&(I.nom=C,t.constructor=I);for(y=U-1;y;--y)(I=A[y]._meta)&&I.chains&&(G=v(G||{},I.chains));t["-chains-"]&&(G=v(G||{},t["-chains-"]));I=!G||!G.hasOwnProperty(C);A[0]=
K=G&&"manual"===G.constructor?s(A):1==A.length?r(k.constructor,I):n(A,I);K._meta={bases:A,hidden:k,chains:G,parents:N,ctor:k.constructor};K.superclass=l&&l.prototype;K.extend=f;K.createSubclass=c;K.prototype=t;t.constructor=K;t.getInherited=h;t.isInstanceOf=m;t.inherited=D;t.__inherited=b;d&&(t.declaredClass=d,e.setObject(d,K));if(G)for(F in G)t[F]&&("string"==typeof G[F]&&F!=C)&&(I=t[F]=q(F,A,"after"===G[F]),I.nom=F);return K}var v=e.mixin,w=Object.prototype,x=w.toString,y,z=0,C="constructor";y=
d("csp-restrictions")?function(){}:new Function;var D=k.config.isDebug?l:b;k.safeMixin=u.safeMixin=function(c,a){var f,b;for(f in a)if(b=a[f],(b!==w[f]||!(f in w))&&f!=C)"[object Function]"==x.call(b)&&(b.nom=f),c[f]=b;if(d("bug-for-in-skips-shadowed")&&a)for(var g=e._extraNames,h=g.length;h;)if(f=g[--h],b=a[f],(b!==w[f]||!(f in w))&&f!=C)"[object Function]"==x.call(b)&&(b.nom=f),c[f]=b;return c};return k.declare=u})},"dojo/aspect":function(){define([],function(){function k(a,b,g,f){var c=a[b],h=
"around"==b,d;if(h){var e=g(function(){return c.advice(this,arguments)});d={remove:function(){e&&(e=a=g=null)},advice:function(a,f){return e?e.apply(a,f):c.advice(a,f)}}}else d={remove:function(){if(d.advice){var c=d.previous,f=d.next;!f&&!c?delete a[b]:(c?c.next=f:a[b]=f,f&&(f.previous=c));a=g=d.advice=null}},id:a.nextId++,advice:g,receiveArguments:f};if(c&&!h)if("after"==b){for(;c.next&&(c=c.next););c.next=d;d.previous=c}else"before"==b&&(a[b]=d,d.next=c,c.previous=d);else a[b]=d;return d}function d(a){return function(b,
g,f,c){var h=b[g],d;if(!h||h.target!=b)b[g]=d=function(){for(var c=d.nextId,a=arguments,f=d.before;f;)f.advice&&(a=f.advice.apply(this,a)||a),f=f.next;if(d.around)var b=d.around.advice(this,a);for(f=d.after;f&&f.id<c;){if(f.advice)if(f.receiveArguments)var g=f.advice.apply(this,a),b=g===e?b:g;else b=f.advice.call(this,b,a);f=f.next}return b},h&&(d.around={advice:function(c,a){return h.apply(c,a)}}),d.target=b,d.nextId=d.nextId||0;b=k(d||h,a,f,c);f=null;return b}}var e,a=d("after"),b=d("before"),h=
d("around");return{before:b,around:h,after:a}})},"dojo/dom-class":function(){define(["./_base/lang","./_base/array","./dom"],function(k,d,e){function a(a){if("string"==typeof a||a instanceof String){if(a&&!h.test(a))return l[0]=a,l;a=a.split(h);a.length&&!a[0]&&a.shift();a.length&&!a[a.length-1]&&a.pop();return a}return!a?[]:d.filter(a,function(a){return a})}var b,h=/\s+/,l=[""],m={};return b={contains:function(a,f){return 0<=(" "+e.byId(a).className+" ").indexOf(" "+f+" ")},add:function(b,f){b=e.byId(b);
f=a(f);var c=b.className,h,c=c?" "+c+" ":" ";h=c.length;for(var d=0,l=f.length,m;d<l;++d)(m=f[d])&&0>c.indexOf(" "+m+" ")&&(c+=m+" ");h<c.length&&(b.className=c.substr(1,c.length-2))},remove:function(b,f){b=e.byId(b);var c;if(void 0!==f){f=a(f);c=" "+b.className+" ";for(var h=0,d=f.length;h<d;++h)c=c.replace(" "+f[h]+" "," ");c=k.trim(c)}else c="";b.className!=c&&(b.className=c)},replace:function(a,f,c){a=e.byId(a);m.className=a.className;b.remove(m,c);b.add(m,f);a.className!==m.className&&(a.className=
m.className)},toggle:function(g,f,c){g=e.byId(g);if(void 0===c){f=a(f);for(var h=0,d=f.length,l;h<d;++h)l=f[h],b[b.contains(g,l)?"remove":"add"](g,l)}else b[c?"add":"remove"](g,f);return c}}})},"dojo/dom":function(){define(["./sniff","./_base/window"],function(k,d){if(7>=k("ie"))try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var a={};k("ie")?a.byId=function(a,b){if("string"!=typeof a)return a;var e=b||d.doc,g=a&&e.getElementById(a);if(g&&(g.attributes.id.value==a||g.id==a))return g;
e=e.all[a];if(!e||e.nodeName)e=[e];for(var f=0;g=e[f++];)if(g.attributes&&g.attributes.id&&g.attributes.id.value==a||g.id==a)return g}:a.byId=function(a,b){return("string"==typeof a?(b||d.doc).getElementById(a):a)||null};a.isDescendant=function(b,d){try{b=a.byId(b);for(d=a.byId(d);b;){if(b==d)return!0;b=b.parentNode}}catch(e){}return!1};k.add("css-user-select",function(a,b,d){if(!d)return!1;a=d.style;b=["Khtml","O","Moz","Webkit"];d=b.length;var g="userSelect";do if("undefined"!==typeof a[g])return g;
while(d--&&(g=b[d]+"UserSelect"));return!1});var b=k("css-user-select");a.setSelectable=b?function(h,d){a.byId(h).style[b]=d?"":"none"}:function(b,d){b=a.byId(b);var e=b.getElementsByTagName("*"),g=e.length;if(d)for(b.removeAttribute("unselectable");g--;)e[g].removeAttribute("unselectable");else for(b.setAttribute("unselectable","on");g--;)e[g].setAttribute("unselectable","on")};return a})},"dojo/_base/window":function(){define(["./kernel","./lang","../sniff"],function(k,d,e){var a={global:k.global,
doc:k.global.document||null,body:function(a){a=a||k.doc;return a.body||a.getElementsByTagName("body")[0]},setContext:function(b,h){k.global=a.global=b;k.doc=a.doc=h},withGlobal:function(b,h,d,e){var g=k.global;try{return k.global=a.global=b,a.withDoc.call(null,b.document,h,d,e)}finally{k.global=a.global=g}},withDoc:function(b,h,d,m){var g=a.doc,f=e("quirks"),c=e("ie"),n,r,s;try{k.doc=a.doc=b;k.isQuirks=e.add("quirks","BackCompat"==k.doc.compatMode,!0,!0);if(e("ie")&&(s=b.parentWindow)&&s.navigator)n=
parseFloat(s.navigator.appVersion.split("MSIE ")[1])||void 0,(r=b.documentMode)&&(5!=r&&Math.floor(n)!=r)&&(n=r),k.isIE=e.add("ie",n,!0,!0);d&&"string"==typeof h&&(h=d[h]);return h.apply(d,m||[])}finally{k.doc=a.doc=g,k.isQuirks=e.add("quirks",f,!0,!0),k.isIE=e.add("ie",c,!0,!0)}}};d.mixin(k,a);return a})},"dojo/dom-style":function(){define(["./sniff","./dom","./_base/window"],function(k,d,e){function a(a,f,b){f=f.toLowerCase();if("auto"==b){if("height"==f)return a.offsetHeight;if("width"==f)return a.offsetWidth}if("fontweight"==
f)switch(b){case 700:return"bold";default:return"normal"}f in c||(c[f]=n.test(f));return c[f]?l(a,b):b}var b,h={};b=k("webkit")?function(c){var a;if(1==c.nodeType){var f=c.ownerDocument.defaultView;a=f.getComputedStyle(c,null);!a&&c.style&&(c.style.display="",a=f.getComputedStyle(c,null))}return a||{}}:k("ie")&&(9>k("ie")||k("quirks"))?function(c){return 1==c.nodeType&&c.currentStyle?c.currentStyle:{}}:function(c){if(1===c.nodeType){var a=c.ownerDocument.defaultView;return(a.opener?a:e.global.window).getComputedStyle(c,
null)||{}}return{}};h.getComputedStyle=b;var l;l=k("ie")?function(c,a){if(!a)return 0;if("medium"==a)return 4;if(a.slice&&"px"==a.slice(-2))return parseFloat(a);var f=c.style,b=c.runtimeStyle,g=f.left,h=b.left;b.left=c.currentStyle.left;try{f.left=a,a=f.pixelLeft}catch(d){a=0}f.left=g;b.left=h;return a}:function(c,a){return parseFloat(a)||0};h.toPixelValue=l;var m=function(c,a){try{return c.filters.item("DXImageTransform.Microsoft.Alpha")}catch(f){return a?{}:null}},g=9>k("ie")||10>k("ie")&&k("quirks")?
function(c){try{return m(c).Opacity/100}catch(a){return 1}}:function(c){return b(c).opacity},f=9>k("ie")||10>k("ie")&&k("quirks")?function(c,a){""===a&&(a=1);var b=100*a;1===a?(c.style.zoom="",m(c)&&(c.style.filter=c.style.filter.replace(/\s*progid:DXImageTransform.Microsoft.Alpha\([^\)]+?\)/i,""))):(c.style.zoom=1,m(c)?m(c,1).Opacity=b:c.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(Opacity\x3d"+b+")",m(c,1).Enabled=!0);if("tr"==c.tagName.toLowerCase())for(b=c.firstChild;b;b=b.nextSibling)"td"==
b.tagName.toLowerCase()&&f(b,a);return a}:function(c,a){return c.style.opacity=a},c={left:!0,top:!0},n=/margin|padding|width|height|max|min|offset/,r={cssFloat:1,styleFloat:1,"float":1};h.get=function(c,f){var b=d.byId(c),e=arguments.length;if(2==e&&"opacity"==f)return g(b);f=r[f]?"cssFloat"in b.style?"cssFloat":"styleFloat":f;var l=h.getComputedStyle(b);return 1==e?l:a(b,f,l[f]||b.style[f])};h.set=function(c,a,b){var g=d.byId(c),e=arguments.length,l="opacity"==a;a=r[a]?"cssFloat"in g.style?"cssFloat":
"styleFloat":a;if(3==e)return l?f(g,b):g.style[a]=b;for(var n in a)h.set(c,n,a[n]);return h.getComputedStyle(g)};return h})},"dojo/Evented":function(){define(["./aspect","./on"],function(k,d){function e(){}var a=k.after;e.prototype={on:function(b,h){return d.parse(this,b,h,function(b,d){return a(b,"on"+d,h,!0)})},emit:function(a,h){var e=[this];e.push.apply(e,arguments);return d.emit.apply(d,e)}};return e})},"dojo/on":function(){define(["./has!dom-addeventlistener?:./aspect","./_base/kernel","./sniff"],
function(k,d,e){function a(c,a,f,b,h){if(b=a.match(/(.*):(.*)/))return a=b[2],b=b[1],m.selector(b,a).call(h,c,f);e("touch")&&(g.test(a)&&(f=z(f)),!e("event-orientationchange")&&"orientationchange"==a&&(a="resize",c=window,f=z(f)));s&&(f=s(f));if(c.addEventListener){var d=a in n,l=d?n[a]:a;c.addEventListener(l,f,d);return{remove:function(){c.removeEventListener(l,f,d)}}}if(u&&c.attachEvent)return u(c,"on"+a,f);throw Error("Target must be an event emitter");}function b(){this.cancelable=!1;this.defaultPrevented=
!0}function h(){this.bubbles=!1}var l=window.ScriptEngineMajorVersion;e.add("jscript",l&&l()+ScriptEngineMinorVersion()/10);e.add("event-orientationchange",e("touch")&&!e("android"));e.add("event-stopimmediatepropagation",window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation);e.add("event-focusin",function(c,a,f){return"onfocusin"in f});e("touch")&&e.add("touch-can-modify-event-delegate",function(){var c=function(){};c.prototype=document.createEvent("MouseEvents");
try{var a=new c;a.target=null;return null===a.target}catch(f){return!1}});var m=function(c,f,b,g){return"function"==typeof c.on&&"function"!=typeof f&&!c.nodeType?c.on(f,b):m.parse(c,f,b,a,g,this)};m.pausable=function(c,a,f,b){var g;c=m(c,a,function(){if(!g)return f.apply(this,arguments)},b);c.pause=function(){g=!0};c.resume=function(){g=!1};return c};m.once=function(c,a,f,b){var g=m(c,a,function(){g.remove();return f.apply(this,arguments)});return g};m.parse=function(c,a,f,b,g,h){var d;if(a.call)return a.call(h,
c,f);a instanceof Array?d=a:-1<a.indexOf(",")&&(d=a.split(/\s*,\s*/));if(d){var e=[];a=0;for(var l;l=d[a++];)e.push(m.parse(c,l,f,b,g,h));e.remove=function(){for(var c=0;c<e.length;c++)e[c].remove()};return e}return b(c,a,f,g,h)};var g=/^touch/;m.matches=function(c,a,f,b,g){g=g&&"function"==typeof g.matches?g:d.query;b=!1!==b;1!=c.nodeType&&(c=c.parentNode);for(;!g.matches(c,a,f);)if(c==f||!1===b||!(c=c.parentNode)||1!=c.nodeType)return!1;return c};m.selector=function(c,a,f){return function(b,g){function h(a){return m.matches(a,
c,b,f,d)}var d="function"==typeof c?{matches:c}:this,e=a.bubble;return e?m(b,e(h),g):m(b,a,function(c){var a=h(c.target);if(a)return c.selectorTarget=a,g.call(a,c)})}};var f=[].slice,c=m.emit=function(c,a,g){var d=f.call(arguments,2),e="on"+a;if("parentNode"in c){var l=d[0]={},n;for(n in g)l[n]=g[n];l.preventDefault=b;l.stopPropagation=h;l.target=c;l.type=a;g=l}do c[e]&&c[e].apply(c,d);while(g&&g.bubbles&&(c=c.parentNode));return g&&g.cancelable&&g},n=e("event-focusin")?{}:{focusin:"focus",focusout:"blur"};
if(!e("event-stopimmediatepropagation"))var r=function(){this.modified=this.immediatelyStopped=!0},s=function(c){return function(a){if(!a.immediatelyStopped)return a.stopImmediatePropagation=r,c.apply(this,arguments)}};if(e("dom-addeventlistener"))m.emit=function(a,f,b){if(a.dispatchEvent&&document.createEvent){var g=(a.ownerDocument||document).createEvent("HTMLEvents");g.initEvent(f,!!b.bubbles,!!b.cancelable);for(var h in b)h in g||(g[h]=b[h]);return a.dispatchEvent(g)&&g}return c.apply(m,arguments)};
else{m._fixEvent=function(c,a){c||(c=(a&&(a.ownerDocument||a.document||a).parentWindow||window).event);if(!c)return c;try{q&&(c.type==q.type&&c.srcElement==q.target)&&(c=q)}catch(f){}if(!c.target)switch(c.target=c.srcElement,c.currentTarget=a||c.srcElement,"mouseover"==c.type&&(c.relatedTarget=c.fromElement),"mouseout"==c.type&&(c.relatedTarget=c.toElement),c.stopPropagation||(c.stopPropagation=v,c.preventDefault=w),c.type){case "keypress":var b="charCode"in c?c.charCode:c.keyCode;10==b?(b=0,c.keyCode=
13):13==b||27==b?b=0:3==b&&(b=99);c.charCode=b;b=c;b.keyChar=b.charCode?String.fromCharCode(b.charCode):"";b.charOrCode=b.keyChar||b.keyCode}return c};var q,p=function(c){this.handle=c};p.prototype.remove=function(){delete _dojoIEListeners_[this.handle]};var t=function(c){return function(a){a=m._fixEvent(a,this);var f=c.call(this,a);a.modified&&(q||setTimeout(function(){q=null}),q=a);return f}},u=function(c,a,f){f=t(f);if(((c.ownerDocument?c.ownerDocument.parentWindow:c.parentWindow||c.window||window)!=
top||5.8>e("jscript"))&&!e("config-_allow_leaks")){"undefined"==typeof _dojoIEListeners_&&(_dojoIEListeners_=[]);var b=c[a];if(!b||!b.listeners){var g=b,b=Function("event","var callee \x3d arguments.callee; for(var i \x3d 0; i\x3ccallee.listeners.length; i++){var listener \x3d _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}");b.listeners=[];c[a]=b;b.global=this;g&&b.listeners.push(_dojoIEListeners_.push(g)-1)}b.listeners.push(c=b.global._dojoIEListeners_.push(f)-
1);return new p(c)}return k.after(c,a,f,!0)},v=function(){this.cancelBubble=!0},w=m._preventDefault=function(){this.bubbledKeyCode=this.keyCode;if(this.ctrlKey)try{this.keyCode=0}catch(c){}this.defaultPrevented=!0;this.returnValue=!1;this.modified=!0}}if(e("touch"))var x=function(){},y=window.orientation,z=function(c){return function(a){var f=a.corrected;if(!f){var b=a.type;try{delete a.type}catch(g){}if(a.type){if(e("touch-can-modify-event-delegate"))x.prototype=a,f=new x;else{var f={},h;for(h in a)f[h]=
a[h]}f.preventDefault=function(){a.preventDefault()};f.stopPropagation=function(){a.stopPropagation()}}else f=a,f.type=b;a.corrected=f;if("resize"==b){if(y==window.orientation)return null;y=window.orientation;f.type="orientationchange";return c.call(this,f)}"rotation"in f||(f.rotation=0,f.scale=1);var b=f.changedTouches[0],d;for(d in b)delete f[d],f[d]=b[d]}return c.call(this,f)}};return m})},"dojo/text":function(){define(["./_base/kernel","require","./has","./request"],function(k,d,e,a){var b;b=
function(f,c,b){a(f,{sync:!!c,headers:{"X-Requested-With":null}}).then(b)};var h={},l=function(a){if(a){a=a.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var c=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);c&&(a=c[1])}else a="";return a},m={},g={};k.cache=function(a,c,g){var e;"string"==typeof a?/\//.test(a)?(e=a,g=c):e=d.toUrl(a.replace(/\./g,"/")+(c?"/"+c:"")):(e=a+"",g=c);a=void 0!=g&&"string"!=typeof g?g.value:g;g=g&&g.sanitize;if("string"==typeof a)return h[e]=a,g?
l(a):a;if(null===a)return delete h[e],null;e in h||b(e,!0,function(c){h[e]=c});return g?l(h[e]):h[e]};return{dynamic:!0,normalize:function(a,c){var b=a.split("!"),g=b[0];return(/^\./.test(g)?c(g):g)+(b[1]?"!"+b[1]:"")},load:function(a,c,d){a=a.split("!");var e=1<a.length,s=a[0],k=c.toUrl(a[0]);a="url:"+k;var p=m,t=function(c){d(e?l(c):c)};s in h?p=h[s]:c.cache&&a in c.cache?p=c.cache[a]:k in h&&(p=h[k]);if(p===m)if(g[k])g[k].push(t);else{var u=g[k]=[t];b(k,!c.async,function(c){h[s]=h[k]=c;for(var a=
0;a<u.length;)u[a++](c);delete g[k]})}else t(p)}}})},"dojo/request":function(){define(["./request/default!"],function(k){return k})},"dojo/request/default":function(){define(["exports","require","../has"],function(k,d,e){var a=e("config-requestProvider");a||(a="./xhr");k.getPlatformDefaultId=function(){return"./xhr"};k.load=function(b,h,e,m){d(["platform"==b?"./xhr":a],function(a){e(a)})}})},"dijit/_TemplatedMixin":function(){define("dojo/cache dojo/_base/declare dojo/dom-construct dojo/_base/lang dojo/on dojo/sniff dojo/string ./_AttachMixin".split(" "),
function(k,d,e,a,b,h,l,m){var g=d("dijit._TemplatedMixin",m,{templateString:null,templatePath:null,_skipNodeCache:!1,searchContainerNode:!0,_stringRepl:function(f){var c=this.declaredClass,b=this;return l.substitute(f,this,function(f,g){"!"==g.charAt(0)&&(f=a.getObject(g.substr(1),!1,b));if("undefined"==typeof f)throw Error(c+" template:"+g);return null==f?"":"!"==g.charAt(0)?f:this._escapeValue(""+f)},this)},_escapeValue:function(a){return a.replace(/["'<>&]/g,function(c){return{"\x26":"\x26amp;",
"\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;"}[c]})},buildRendering:function(){if(!this._rendered){this.templateString||(this.templateString=k(this.templatePath,{sanitize:!0}));var f=g.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument),c;if(a.isString(f)){if(c=e.toDom(this._stringRepl(f),this.ownerDocument),1!=c.nodeType)throw Error("Invalid template: "+f);}else c=f.cloneNode(!0);this.domNode=c}this.inherited(arguments);this._rendered||this._fillContent(this.srcNodeRef);
this._rendered=!0},_fillContent:function(a){var c=this.containerNode;if(a&&c)for(;a.hasChildNodes();)c.appendChild(a.firstChild)}});g._templateCache={};g.getCachedTemplate=function(a,c,b){var h=g._templateCache,d=a,m=h[d];if(m){try{if(!m.ownerDocument||m.ownerDocument==(b||document))return m}catch(k){}e.destroy(m)}a=l.trim(a);if(c||a.match(/\$\{([^\}]+)\}/g))return h[d]=a;c=e.toDom(a,b);if(1!=c.nodeType)throw Error("Invalid template: "+a);return h[d]=c};h("ie")&&b(window,"unload",function(){var a=
g._templateCache,c;for(c in a){var b=a[c];"object"==typeof b&&e.destroy(b);delete a[c]}});return g})},"dojo/cache":function(){define(["./_base/kernel","./text"],function(k){return k.cache})},"dojo/dom-construct":function(){define("exports ./_base/kernel ./sniff ./_base/window ./dom ./dom-attr".split(" "),function(k,d,e,a,b,h){function l(c,a){var f=a.parentNode;f&&f.insertBefore(c,a)}function m(c){if("innerHTML"in c)try{c.innerHTML="";return}catch(a){}for(var f;f=c.lastChild;)c.removeChild(f)}var g=
{option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},f=/<\s*([\w\:]+)/,c={},n=0,r="__"+d._scopeName+"ToDomId",s;for(s in g)g.hasOwnProperty(s)&&(d=g[s],d.pre="option"==s?'\x3cselect multiple\x3d"multiple"\x3e':"\x3c"+d.join("\x3e\x3c")+"\x3e",d.post="\x3c/"+d.reverse().join("\x3e\x3c/")+"\x3e");var q;8>=e("ie")&&(q=function(c){c.__dojo_html5_tested=
"yes";var a=p("div",{innerHTML:"\x3cnav\x3ea\x3c/nav\x3e",style:{visibility:"hidden"}},c.body);1!==a.childNodes.length&&"abbr article aside audio canvas details figcaption figure footer header hgroup mark meter nav output progress section summary time video".replace(/\b\w+\b/g,function(a){c.createElement(a)});t(a)});k.toDom=function(b,h){h=h||a.doc;var d=h[r];d||(h[r]=d=++n+"",c[d]=h.createElement("div"));8>=e("ie")&&!h.__dojo_html5_tested&&h.body&&q(h);b+="";var l=b.match(f),m=l?l[1].toLowerCase():
"",d=c[d];if(l&&g[m]){l=g[m];d.innerHTML=l.pre+b+l.post;for(l=l.length;l;--l)d=d.firstChild}else d.innerHTML=b;if(1==d.childNodes.length)return d.removeChild(d.firstChild);for(m=h.createDocumentFragment();l=d.firstChild;)m.appendChild(l);return m};k.place=function(c,a,f){a=b.byId(a);"string"==typeof c&&(c=/^\s*</.test(c)?k.toDom(c,a.ownerDocument):b.byId(c));if("number"==typeof f){var g=a.childNodes;!g.length||g.length<=f?a.appendChild(c):l(c,g[0>f?0:f])}else switch(f){case "before":l(c,a);break;
case "after":f=c;(g=a.parentNode)&&(g.lastChild==a?g.appendChild(f):g.insertBefore(f,a.nextSibling));break;case "replace":a.parentNode.replaceChild(c,a);break;case "only":k.empty(a);a.appendChild(c);break;case "first":if(a.firstChild){l(c,a.firstChild);break}default:a.appendChild(c)}return c};var p=k.create=function(c,f,g,d){var e=a.doc;g&&(g=b.byId(g),e=g.ownerDocument);"string"==typeof c&&(c=e.createElement(c));f&&h.set(c,f);g&&k.place(c,g,d);return c};k.empty=function(c){m(b.byId(c))};var t=k.destroy=
function(c){if(c=b.byId(c)){var a=c;c=c.parentNode;a.firstChild&&m(a);c&&(e("ie")&&c.canHaveChildren&&"removeNode"in a?a.removeNode(!1):c.removeChild(a))}}})},"dojo/dom-attr":function(){define("exports ./sniff ./_base/lang ./dom ./dom-style ./dom-prop".split(" "),function(k,d,e,a,b,h){function l(a,c){var b=a.getAttributeNode&&a.getAttributeNode(c);return!!b&&b.specified}var m={innerHTML:1,textContent:1,className:1,htmlFor:d("ie"),value:1},g={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};
k.has=function(f,c){var b=c.toLowerCase();return m[h.names[b]||c]||l(a.byId(f),g[b]||c)};k.get=function(f,c){f=a.byId(f);var b=c.toLowerCase(),d=h.names[b]||c,k=f[d];if(m[d]&&"undefined"!=typeof k)return k;if("textContent"==d)return h.get(f,d);if("href"!=d&&("boolean"==typeof k||e.isFunction(k)))return k;b=g[b]||c;return l(f,b)?f.getAttribute(b):null};k.set=function(f,c,d){f=a.byId(f);if(2==arguments.length){for(var l in c)k.set(f,l,c[l]);return f}l=c.toLowerCase();var s=h.names[l]||c,q=m[s];if("style"==
s&&"string"!=typeof d)return b.set(f,d),f;if(q||"boolean"==typeof d||e.isFunction(d))return h.set(f,c,d);f.setAttribute(g[l]||c,d);return f};k.remove=function(f,c){a.byId(f).removeAttribute(g[c.toLowerCase()]||c)};k.getNodeProp=function(f,c){f=a.byId(f);var b=c.toLowerCase(),d=h.names[b]||c;if(d in f&&"href"!=d)return f[d];b=g[b]||c;return l(f,b)?f.getAttribute(b):null}})},"dojo/dom-prop":function(){define("exports ./_base/kernel ./sniff ./_base/lang ./dom ./dom-style ./dom-construct ./_base/connect".split(" "),
function(k,d,e,a,b,h,l,m){function g(c){var a="";c=c.childNodes;for(var f=0,b;b=c[f];f++)8!=b.nodeType&&(a=1==b.nodeType?a+g(b):a+b.nodeValue);return a}var f={},c=1,n=d._scopeName+"attrid";e.add("dom-textContent",function(c,a,f){return"textContent"in f});k.names={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",textcontent:"textContent",valuetype:"valueType"};k.get=function(c,a){c=b.byId(c);var f=a.toLowerCase(),
f=k.names[f]||a;return"textContent"==f&&!e("dom-textContent")?g(c):c[f]};k.set=function(g,d,q){g=b.byId(g);if(2==arguments.length&&"string"!=typeof d){for(var p in d)k.set(g,p,d[p]);return g}p=d.toLowerCase();p=k.names[p]||d;if("style"==p&&"string"!=typeof q)return h.set(g,q),g;if("innerHTML"==p)return e("ie")&&g.tagName.toLowerCase()in{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(l.empty(g),g.appendChild(l.toDom(q,g.ownerDocument))):g[p]=q,g;if("textContent"==p&&!e("dom-textContent"))return l.empty(g),
g.appendChild(g.ownerDocument.createTextNode(q)),g;if(a.isFunction(q)){var t=g[n];t||(t=c++,g[n]=t);f[t]||(f[t]={});var u=f[t][p];if(u)m.disconnect(u);else try{delete g[p]}catch(v){}q?f[t][p]=m.connect(g,p,q):g[p]=null;return g}g[p]=q;return g}})},"dojo/_base/connect":function(){define("./kernel ../on ../topic ../aspect ./event ../mouse ./sniff ./lang ../keys".split(" "),function(k,d,e,a,b,h,l,m){function g(c,f,b,g,e){g=m.hitch(b,g);if(!c||!c.addEventListener&&!c.attachEvent)return a.after(c||k.global,
f,g,!0);"string"==typeof f&&"on"==f.substring(0,2)&&(f=f.substring(2));c||(c=k.global);if(!e)switch(f){case "keypress":f=s;break;case "mouseenter":f=h.enter;break;case "mouseleave":f=h.leave}return d(c,f,g,e)}function f(c){c.keyChar=c.charCode?String.fromCharCode(c.charCode):"";c.charOrCode=c.keyChar||c.keyCode}l.add("events-keypress-typed",function(){var c={charCode:0};try{c=document.createEvent("KeyboardEvent"),(c.initKeyboardEvent||c.initKeyEvent).call(c,"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(a){}return 0==
c.charCode&&!l("opera")});var c={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},n=l("mac")?"metaKey":"ctrlKey",r=function(c,a){var b=m.mixin({},c,a);f(b);b.preventDefault=function(){c.preventDefault()};b.stopPropagation=function(){c.stopPropagation()};return b},s;s=l("events-keypress-typed")?function(a,f){var b=d(a,"keydown",function(a){var b=a.keyCode,g=13!=b&&32!=b&&(27!=b||!l("ie"))&&(48>b||90<b)&&(96>b||111<b)&&(186>b||192<b)&&(219>b||222<b)&&
229!=b;if(g||a.ctrlKey){g=g?0:b;if(a.ctrlKey){if(3==b||13==b)return f.call(a.currentTarget,a);g=95<g&&106>g?g-48:!a.shiftKey&&65<=g&&90>=g?g+32:c[g]||g}b=r(a,{type:"keypress",faux:!0,charCode:g});f.call(a.currentTarget,b);if(l("ie"))try{a.keyCode=b.keyCode}catch(h){}}}),g=d(a,"keypress",function(c){var a=c.charCode;c=r(c,{charCode:32<=a?a:0,faux:!0});return f.call(this,c)});return{remove:function(){b.remove();g.remove()}}}:l("opera")?function(c,a){return d(c,"keypress",function(c){var f=c.which;3==
f&&(f=99);f=32>f&&!c.shiftKey?0:f;c.ctrlKey&&(!c.shiftKey&&65<=f&&90>=f)&&(f+=32);return a.call(this,r(c,{charCode:f}))})}:function(c,a){return d(c,"keypress",function(c){f(c);return a.call(this,c)})};var q={_keypress:s,connect:function(c,a,f,b,h){var d=arguments,e=[],l=0;e.push("string"==typeof d[0]?null:d[l++],d[l++]);var n=d[l+1];e.push("string"==typeof n||"function"==typeof n?d[l++]:null,d[l++]);for(n=d.length;l<n;l++)e.push(d[l]);return g.apply(this,e)},disconnect:function(c){c&&c.remove()},
subscribe:function(c,a,f){return e.subscribe(c,m.hitch(a,f))},publish:function(c,a){return e.publish.apply(e,[c].concat(a))},connectPublisher:function(c,a,f){var b=function(){q.publish(c,arguments)};return f?q.connect(a,f,b):q.connect(a,b)},isCopyKey:function(c){return c[n]}};q.unsubscribe=q.disconnect;m.mixin(k,q);return q})},"dojo/topic":function(){define(["./Evented"],function(k){var d=new k;return{publish:function(e,a){return d.emit.apply(d,arguments)},subscribe:function(e,a){return d.on.apply(d,
arguments)}}})},"dojo/_base/event":function(){define(["./kernel","../on","../has","../dom-geometry"],function(k,d,e,a){if(d._fixEvent){var b=d._fixEvent;d._fixEvent=function(h,d){(h=b(h,d))&&a.normalizeEvent(h);return h}}var h={fix:function(a,b){return d._fixEvent?d._fixEvent(a,b):a},stop:function(a){e("dom-addeventlistener")||a&&a.preventDefault?(a.preventDefault(),a.stopPropagation()):(a=a||window.event,a.cancelBubble=!0,d._preventDefault.call(a))}};k.fixEvent=h.fix;k.stopEvent=h.stop;return h})},
"dojo/dom-geometry":function(){define(["./sniff","./_base/window","./dom","./dom-style"],function(k,d,e,a){function b(a,c,b,g,h,d){d=d||"px";a=a.style;isNaN(c)||(a.left=c+d);isNaN(b)||(a.top=b+d);0<=g&&(a.width=g+d);0<=h&&(a.height=h+d)}function h(a){return"button"==a.tagName.toLowerCase()||"input"==a.tagName.toLowerCase()&&"button"==(a.getAttribute("type")||"").toLowerCase()}function l(a){return"border-box"==m.boxModel||"table"==a.tagName.toLowerCase()||h(a)}var m={boxModel:"content-box"};k("ie")&&
(m.boxModel="BackCompat"==document.compatMode?"border-box":"content-box");m.getPadExtents=function(f,c){f=e.byId(f);var b=c||a.getComputedStyle(f),g=a.toPixelValue,h=g(f,b.paddingLeft),d=g(f,b.paddingTop),l=g(f,b.paddingRight),b=g(f,b.paddingBottom);return{l:h,t:d,r:l,b:b,w:h+l,h:d+b}};m.getBorderExtents=function(f,c){f=e.byId(f);var b=a.toPixelValue,g=c||a.getComputedStyle(f),h="none"!=g.borderLeftStyle?b(f,g.borderLeftWidth):0,d="none"!=g.borderTopStyle?b(f,g.borderTopWidth):0,l="none"!=g.borderRightStyle?
b(f,g.borderRightWidth):0,b="none"!=g.borderBottomStyle?b(f,g.borderBottomWidth):0;return{l:h,t:d,r:l,b:b,w:h+l,h:d+b}};m.getPadBorderExtents=function(f,c){f=e.byId(f);var b=c||a.getComputedStyle(f),g=m.getPadExtents(f,b),b=m.getBorderExtents(f,b);return{l:g.l+b.l,t:g.t+b.t,r:g.r+b.r,b:g.b+b.b,w:g.w+b.w,h:g.h+b.h}};m.getMarginExtents=function(b,c){b=e.byId(b);var g=c||a.getComputedStyle(b),h=a.toPixelValue,d=h(b,g.marginLeft),l=h(b,g.marginTop),m=h(b,g.marginRight),g=h(b,g.marginBottom);return{l:d,
t:l,r:m,b:g,w:d+m,h:l+g}};m.getMarginBox=function(b,c){b=e.byId(b);var g=c||a.getComputedStyle(b),h=m.getMarginExtents(b,g),d=b.offsetLeft-h.l,l=b.offsetTop-h.t,p=b.parentNode,t=a.toPixelValue;if(k("mozilla")){var u=parseFloat(g.left),g=parseFloat(g.top);!isNaN(u)&&!isNaN(g)?(d=u,l=g):p&&p.style&&(p=a.getComputedStyle(p),"visible"!=p.overflow&&(d+="none"!=p.borderLeftStyle?t(b,p.borderLeftWidth):0,l+="none"!=p.borderTopStyle?t(b,p.borderTopWidth):0))}else if((k("opera")||8==k("ie")&&!k("quirks"))&&
p)p=a.getComputedStyle(p),d-="none"!=p.borderLeftStyle?t(b,p.borderLeftWidth):0,l-="none"!=p.borderTopStyle?t(b,p.borderTopWidth):0;return{l:d,t:l,w:b.offsetWidth+h.w,h:b.offsetHeight+h.h}};m.getContentBox=function(b,c){b=e.byId(b);var g=c||a.getComputedStyle(b),h=b.clientWidth,d=m.getPadExtents(b,g),l=m.getBorderExtents(b,g);h?(g=b.clientHeight,l.w=l.h=0):(h=b.offsetWidth,g=b.offsetHeight);k("opera")&&(d.l+=l.l,d.t+=l.t);return{l:d.l,t:d.t,w:h-d.w-l.w,h:g-d.h-l.h}};m.setContentSize=function(a,c,
g){a=e.byId(a);var h=c.w;c=c.h;l(a)&&(g=m.getPadBorderExtents(a,g),0<=h&&(h+=g.w),0<=c&&(c+=g.h));b(a,NaN,NaN,h,c)};var g={l:0,t:0,w:0,h:0};m.setMarginBox=function(f,c,d){f=e.byId(f);var r=d||a.getComputedStyle(f);d=c.w;var s=c.h,q=l(f)?g:m.getPadBorderExtents(f,r),r=m.getMarginExtents(f,r);if(k("webkit")&&h(f)){var p=f.style;0<=d&&!p.width&&(p.width="4px");0<=s&&!p.height&&(p.height="4px")}0<=d&&(d=Math.max(d-q.w-r.w,0));0<=s&&(s=Math.max(s-q.h-r.h,0));b(f,c.l,c.t,d,s)};m.isBodyLtr=function(a){a=
a||d.doc;return"ltr"==(d.body(a).dir||a.documentElement.dir||"ltr").toLowerCase()};m.docScroll=function(a){a=a||d.doc;var c=d.doc.parentWindow||d.doc.defaultView;return"pageXOffset"in c?{x:c.pageXOffset,y:c.pageYOffset}:(c=k("quirks")?d.body(a):a.documentElement)&&{x:m.fixIeBiDiScrollLeft(c.scrollLeft||0,a),y:c.scrollTop||0}};m.getIeDocumentElementOffset=function(a){return{x:0,y:0}};m.fixIeBiDiScrollLeft=function(a,c){c=c||d.doc;var b=k("ie");if(b&&!m.isBodyLtr(c)){var g=k("quirks"),h=g?d.body(c):
c.documentElement,e=d.global;6==b&&(!g&&e.frameElement&&h.scrollHeight>h.clientHeight)&&(a+=h.clientLeft);return 8>b||g?a+h.clientWidth-h.scrollWidth:-a}return a};m.position=function(a,c){a=e.byId(a);var b=d.body(a.ownerDocument),g=a.getBoundingClientRect(),g={x:g.left,y:g.top,w:g.right-g.left,h:g.bottom-g.top};9>k("ie")&&(g.x-=k("quirks")?b.clientLeft+b.offsetLeft:0,g.y-=k("quirks")?b.clientTop+b.offsetTop:0);c&&(b=m.docScroll(a.ownerDocument),g.x+=b.x,g.y+=b.y);return g};m.getMarginSize=function(b,
c){b=e.byId(b);var g=m.getMarginExtents(b,c||a.getComputedStyle(b)),h=b.getBoundingClientRect();return{w:h.right-h.left+g.w,h:h.bottom-h.top+g.h}};m.normalizeEvent=function(a){"layerX"in a||(a.layerX=a.offsetX,a.layerY=a.offsetY);if(!("pageX"in a)){var c=a.target,c=c&&c.ownerDocument||document,b=k("quirks")?c.body:c.documentElement;a.pageX=a.clientX+m.fixIeBiDiScrollLeft(b.scrollLeft||0,c);a.pageY=a.clientY+(b.scrollTop||0)}};return m})},"dojo/mouse":function(){define(["./_base/kernel","./on","./has",
"./dom","./_base/window"],function(k,d,e,a,b){function h(b,e){var g=function(f,c){return d(f,b,function(b){if(e)return e(b,c);if(!a.isDescendant(b.relatedTarget,f))return c.call(this,b)})};g.bubble=function(a){return h(b,function(c,b){var g=a(c.target),h=c.relatedTarget;if(g&&g!=(h&&1==h.nodeType&&a(h)))return b.call(g,c)})};return g}e.add("dom-quirks",b.doc&&"BackCompat"==b.doc.compatMode);e.add("events-mouseenter",b.doc&&"onmouseenter"in b.doc.createElement("div"));e.add("events-mousewheel",b.doc&&
"onmousewheel"in b.doc);b=e("dom-quirks")&&e("ie")||!e("dom-addeventlistener")?{LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(a,b){return a.button&b},isLeft:function(a){return a.button&1},isMiddle:function(a){return a.button&4},isRight:function(a){return a.button&2}}:{LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(a,b){return a.button==b},isLeft:function(a){return 0==a.button},isMiddle:function(a){return 1==a.button},isRight:function(a){return 2==a.button}};k.mouseButtons=b;k=e("events-mousewheel")?"mousewheel":
function(a,b){return d(a,"DOMMouseScroll",function(a){a.wheelDelta=-a.detail;b.call(this,a)})};return{_eventHandler:h,enter:h("mouseover"),leave:h("mouseout"),wheel:k,isLeft:b.isLeft,isMiddle:b.isMiddle,isRight:b.isRight}})},"dojo/_base/sniff":function(){define(["./kernel","./lang","../sniff"],function(k,d,e){k._name="browser";d.mixin(k,{isBrowser:!0,isFF:e("ff"),isIE:e("ie"),isKhtml:e("khtml"),isWebKit:e("webkit"),isMozilla:e("mozilla"),isMoz:e("mozilla"),isOpera:e("opera"),isSafari:e("safari"),
isChrome:e("chrome"),isMac:e("mac"),isIos:e("ios"),isAndroid:e("android"),isWii:e("wii"),isQuirks:e("quirks"),isAir:e("air")});return e})},"dojo/keys":function(){define(["./_base/kernel","./sniff"],function(k,d){return k.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:d("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,
SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:d("mac")&&!d("air")?d("safari")?91:224:17}})},"dojo/string":function(){define(["./_base/kernel",
"./_base/lang"],function(k,d){var e=/[&<>'"\/]/g,a={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;","/":"\x26#x2F;"},b={};d.setObject("dojo.string",b);b.escape=function(b){return!b?"":b.replace(e,function(b){return a[b]})};b.rep=function(a,b){if(0>=b||!a)return"";for(var d=[];;){b&1&&d.push(a);if(!(b>>=1))break;a+=a}return d.join("")};b.pad=function(a,d,e,g){e||(e="0");a=String(a);d=b.rep(e,Math.ceil((d-a.length)/e.length));return g?a+d:d+a};b.substitute=function(a,
b,e,g){g=g||k.global;e=e?d.hitch(g,e):function(a){return a};return a.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,function(a,c,h){if(""==c)return"$";a=d.getObject(c,!1,b);h&&(a=d.getObject(h,!1,g).call(g,a,c));return e(a,c).toString()})};b.trim=String.prototype.trim?d.trim:function(a){a=a.replace(/^\s+/,"");for(var b=a.length-1;0<=b;b--)if(/\S/.test(a.charAt(b))){a=a.substring(0,b+1);break}return a};return b})},"dijit/_AttachMixin":function(){define("require dojo/_base/array dojo/_base/connect dojo/_base/declare dojo/_base/lang dojo/mouse dojo/on dojo/touch ./_WidgetBase".split(" "),
function(k,d,e,a,b,h,l,m,g){var f=b.delegate(m,{mouseenter:h.enter,mouseleave:h.leave,keypress:e._keypress}),c;e=a("dijit._AttachMixin",null,{constructor:function(){this._attachPoints=[];this._attachEvents=[]},buildRendering:function(){this.inherited(arguments);this._attachTemplateNodes(this.domNode);this._beforeFillContent()},_beforeFillContent:function(){},_attachTemplateNodes:function(c){for(var a=c;;)if(1==a.nodeType&&(this._processTemplateNode(a,function(c,a){return c.getAttribute(a)},this._attach)||
this.searchContainerNode)&&a.firstChild)a=a.firstChild;else{if(a==c)break;for(;!a.nextSibling;)if(a=a.parentNode,a==c)return;a=a.nextSibling}},_processTemplateNode:function(c,a,f){var g=!0,h=this.attachScope||this,d=a(c,"dojoAttachPoint")||a(c,"data-dojo-attach-point");if(d)for(var e=d.split(/\s*,\s*/);d=e.shift();)b.isArray(h[d])?h[d].push(c):h[d]=c,g="containerNode"!=d,this._attachPoints.push(d);if(a=a(c,"dojoAttachEvent")||a(c,"data-dojo-attach-event")){d=a.split(/\s*,\s*/);for(e=b.trim;a=d.shift();)if(a){var l=
null;-1!=a.indexOf(":")?(l=a.split(":"),a=e(l[0]),l=e(l[1])):a=e(a);l||(l=a);this._attachEvents.push(f(c,a,b.hitch(h,l)))}}return g},_attach:function(a,b,g){b=b.replace(/^on/,"").toLowerCase();b="dijitclick"==b?c||(c=k("./a11yclick")):f[b]||b;return l(a,b,g)},_detachTemplateNodes:function(){var c=this.attachScope||this;d.forEach(this._attachPoints,function(a){delete c[a]});this._attachPoints=[];d.forEach(this._attachEvents,function(c){c.remove()});this._attachEvents=[]},destroyRendering:function(){this._detachTemplateNodes();
this.inherited(arguments)}});b.extend(g,{dojoAttachEvent:"",dojoAttachPoint:""});return e})},"dojo/touch":function(){define("./_base/kernel ./aspect ./dom ./dom-class ./_base/lang ./on ./has ./mouse ./domReady ./_base/window".split(" "),function(k,d,e,a,b,h,l,m,g,f){function c(c,a,b){return q&&b?function(c,a){return h(c,b,a)}:t?function(b,f){var g=h(b,a,function(c){f.call(this,c);E=(new Date).getTime()}),d=h(b,c,function(c){(!E||(new Date).getTime()>E+1E3)&&f.call(this,c)});return{remove:function(){g.remove();
d.remove()}}}:function(a,b){return h(a,c,b)}}function n(c){do if(void 0!==c.dojoClick)return c;while(c=c.parentNode)}function r(c,b,g){if(!m.isRight(c)){var d=n(c.target);if(v=!c.target.disabled&&d&&d.dojoClick)if(x=(w="useTarget"==v)?d:c.target,w&&c.preventDefault(),y=c.changedTouches?c.changedTouches[0].pageX-f.global.pageXOffset:c.clientX,z=c.changedTouches?c.changedTouches[0].pageY-f.global.pageYOffset:c.clientY,C=("object"==typeof v?v.x:"number"==typeof v?v:0)||4,D=("object"==typeof v?v.y:"number"==
typeof v?v:0)||4,!u){u=!0;var l=function(c){v=w?e.isDescendant(f.doc.elementFromPoint(c.changedTouches?c.changedTouches[0].pageX-f.global.pageXOffset:c.clientX,c.changedTouches?c.changedTouches[0].pageY-f.global.pageYOffset:c.clientY),x):v&&(c.changedTouches?c.changedTouches[0].target:c.target)==x&&Math.abs((c.changedTouches?c.changedTouches[0].pageX-f.global.pageXOffset:c.clientX)-y)<=C&&Math.abs((c.changedTouches?c.changedTouches[0].pageY-f.global.pageYOffset:c.clientY)-z)<=D};f.doc.addEventListener(b,
function(c){m.isRight(c)||(l(c),w&&c.preventDefault())},!0);f.doc.addEventListener(g,function(c){if(!m.isRight(c)&&(l(c),v)){B=(new Date).getTime();var a=w?x:c.target;"LABEL"===a.tagName&&(a=e.byId(a.getAttribute("for"))||a);var b=c.changedTouches?c.changedTouches[0]:c,f=function(a){var f=document.createEvent("MouseEvents");f._dojo_click=!0;f.initMouseEvent(a,!0,!0,c.view,c.detail,b.screenX,b.screenY,b.clientX,b.clientY,c.ctrlKey,c.altKey,c.shiftKey,c.metaKey,0,null);return f},g=f("mousedown"),d=
f("mouseup"),n=f("click");setTimeout(function(){h.emit(a,"mousedown",g);h.emit(a,"mouseup",d);h.emit(a,"click",n);B=(new Date).getTime()},0)}},!0);c=function(c){f.doc.addEventListener(c,function(b){var f=b.target;v&&(!b._dojo_click&&(new Date).getTime()<=B+1E3&&!("INPUT"==f.tagName&&a.contains(f,"dijitOffScreen")))&&(b.stopPropagation(),b.stopImmediatePropagation&&b.stopImmediatePropagation(),"click"==c&&(("INPUT"!=f.tagName||"radio"==f.type&&(a.contains(f,"dijitCheckBoxInput")||a.contains(f,"mblRadioButton"))||
"checkbox"==f.type&&(a.contains(f,"dijitCheckBoxInput")||a.contains(f,"mblCheckBox")))&&"TEXTAREA"!=f.tagName&&"AUDIO"!=f.tagName&&"VIDEO"!=f.tagName)&&b.preventDefault())},!0)};c("click");c("mousedown");c("mouseup")}}}var s=5>l("ios"),q=l("pointer-events")||l("MSPointer"),p=function(){var c={},a;for(a in{down:1,move:1,up:1,cancel:1,over:1,out:1})c[a]=l("MSPointer")?"MSPointer"+a.charAt(0).toUpperCase()+a.slice(1):"pointer"+a;return c}(),t=l("touch-events"),u,v,w=!1,x,y,z,C,D,B,E,J;l("touch")&&(q?
g(function(){f.doc.addEventListener(p.down,function(c){r(c,p.move,p.up)},!0)}):g(function(){function c(a){var f=b.delegate(a,{bubbles:!0});6<=l("ios")&&(f.touches=a.touches,f.altKey=a.altKey,f.changedTouches=a.changedTouches,f.ctrlKey=a.ctrlKey,f.metaKey=a.metaKey,f.shiftKey=a.shiftKey,f.targetTouches=a.targetTouches);return f}J=f.body();f.doc.addEventListener("touchstart",function(c){E=(new Date).getTime();var a=J;J=c.target;h.emit(a,"dojotouchout",{relatedTarget:J,bubbles:!0});h.emit(J,"dojotouchover",
{relatedTarget:a,bubbles:!0});r(c,"touchmove","touchend")},!0);h(f.doc,"touchmove",function(a){E=(new Date).getTime();var b=f.doc.elementFromPoint(a.pageX-(s?0:f.global.pageXOffset),a.pageY-(s?0:f.global.pageYOffset));b&&(J!==b&&(h.emit(J,"dojotouchout",{relatedTarget:b,bubbles:!0}),h.emit(b,"dojotouchover",{relatedTarget:J,bubbles:!0}),J=b),h.emit(b,"dojotouchmove",c(a))||a.preventDefault())});h(f.doc,"touchend",function(a){E=(new Date).getTime();var b=f.doc.elementFromPoint(a.pageX-(s?0:f.global.pageXOffset),
a.pageY-(s?0:f.global.pageYOffset))||f.body();h.emit(b,"dojotouchend",c(a))})}));d={press:c("mousedown","touchstart",p.down),move:c("mousemove","dojotouchmove",p.move),release:c("mouseup","dojotouchend",p.up),cancel:c(m.leave,"touchcancel",q?p.cancel:null),over:c("mouseover","dojotouchover",p.over),out:c("mouseout","dojotouchout",p.out),enter:m._eventHandler(c("mouseover","dojotouchover",p.over)),leave:m._eventHandler(c("mouseout","dojotouchout",p.out))};return k.touch=d})},"dojo/domReady":function(){define(["./has"],
function(k){function d(c){g.push(c);m&&e()}function e(){if(!f){for(f=!0;g.length;)try{g.shift()(b)}catch(c){console.error(c,"in domReady callback",c.stack)}f=!1;d._onQEmpty()}}var a=function(){return this}(),b=document,h={loaded:1,complete:1},l="string"!=typeof b.readyState,m=!!h[b.readyState],g=[],f;d.load=function(c,a,b){d(b)};d._Q=g;d._onQEmpty=function(){};l&&(b.readyState="loading");if(!m){var c=[],n=function(c){c=c||a.event;m||"readystatechange"==c.type&&!h[b.readyState]||(l&&(b.readyState=
"complete"),m=1,e())},r=function(c,a){c.addEventListener(a,n,!1);g.push(function(){c.removeEventListener(a,n,!1)})};if(!k("dom-addeventlistener")){var r=function(c,a){a="on"+a;c.attachEvent(a,n);g.push(function(){c.detachEvent(a,n)})},s=b.createElement("div");try{s.doScroll&&null===a.frameElement&&c.push(function(){try{return s.doScroll("left"),1}catch(c){}})}catch(q){}}r(b,"DOMContentLoaded");r(a,"load");"onreadystatechange"in b?r(b,"readystatechange"):l||c.push(function(){return h[b.readyState]});
if(c.length){var p=function(){if(!m){for(var a=c.length;a--;)if(c[a]()){n("poller");return}setTimeout(p,30)}};p()}}return d})},"dijit/_WidgetBase":function(){define("require dojo/_base/array dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/_base/kernel dojo/_base/lang dojo/on dojo/ready dojo/Stateful dojo/topic dojo/_base/window ./Destroyable dojo/has!dojo-bidi?./_BidiMixin ./registry".split(" "),
function(k,d,e,a,b,h,l,m,g,f,c,n,r,s,q,p,t,u,v,w,x,y,z){function C(c){return function(a){m[a?"set":"remove"](this.domNode,c,a);this._set(c,a)}}r.add("dijit-legacy-requires",!s.isAsync);r.add("dojo-bidi",!1);r("dijit-legacy-requires")&&t(0,function(){k(["dijit/_base/manager"])});var D={};a=h("dijit._WidgetBase",[u,x],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:C("lang"),dir:"",_setDirAttr:C("dir"),"class":"",_setClassAttr:{node:"domNode",type:"class"},_setTypeAttr:null,style:"",title:"",tooltip:"",
baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(c){this._set("ownerDocument",c)},attributeMap:{},_blankGif:a.blankGif||k.toUrl("dojo/resources/blank.gif"),textDir:"",_introspect:function(){var c=this.constructor;if(!c._setterAttrs){var a=c.prototype,b=c._setterAttrs=[],c=c._onMap={},f;for(f in a.attributeMap)b.push(f);for(f in a)/^on/.test(f)&&(c[f.substring(2).toLowerCase()]=f),/^_set[A-Z](.*)Attr$/.test(f)&&(f=f.charAt(4).toLowerCase()+
f.substr(5,f.length-9),(!a.attributeMap||!(f in a.attributeMap))&&b.push(f))}},postscript:function(c,a){this.create(c,a)},create:function(c,a){this._introspect();this.srcNodeRef=l.byId(a);this._connects=[];this._supportingWidgets=[];this.srcNodeRef&&(this.srcNodeRef.id&&"string"==typeof this.srcNodeRef.id)&&(this.id=this.srcNodeRef.id);c&&(this.params=c,q.mixin(this,c));this.postMixInProperties();this.id||(this.id=z.getUniqueId(this.declaredClass.replace(/\./g,"_")),this.params&&delete this.params.id);
this.ownerDocument=this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:document);this.ownerDocumentBody=w.body(this.ownerDocument);z.add(this);this.buildRendering();var b;if(this.domNode){this._applyAttributes();var f=this.srcNodeRef;f&&(f.parentNode&&this.domNode!==f)&&(f.parentNode.replaceChild(this.domNode,f),b=!0);this.domNode.setAttribute("widgetId",this.id)}this.postCreate();b&&delete this.srcNodeRef;this._created=!0},_applyAttributes:function(){var c={},a;for(a in this.params||
{})c[a]=this._get(a);d.forEach(this.constructor._setterAttrs,function(a){if(!(a in c)){var b=this._get(a);b&&this.set(a,b)}},this);for(a in c)this.set(a,c[a])},postMixInProperties:function(){},buildRendering:function(){this.domNode||(this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div"));if(this.baseClass){var c=this.baseClass.split(" ");this.isLeftToRight()||(c=c.concat(d.map(c,function(c){return c+"Rtl"})));g.add(this.domNode,c)}},postCreate:function(){},startup:function(){this._started||
(this._started=!0,d.forEach(this.getChildren(),function(c){!c._started&&(!c._destroyed&&q.isFunction(c.startup))&&(c.startup(),c._started=!0)}))},destroyRecursive:function(c){this._beingDestroyed=!0;this.destroyDescendants(c);this.destroy(c)},destroy:function(c){function a(b){b.destroyRecursive?b.destroyRecursive(c):b.destroy&&b.destroy(c)}this._beingDestroyed=!0;this.uninitialize();d.forEach(this._connects,q.hitch(this,"disconnect"));d.forEach(this._supportingWidgets,a);this.domNode&&d.forEach(z.findWidgets(this.domNode,
this.containerNode),a);this.destroyRendering(c);z.remove(this.id);this._destroyed=!0},destroyRendering:function(c){this.bgIframe&&(this.bgIframe.destroy(c),delete this.bgIframe);this.domNode&&(c?m.remove(this.domNode,"widgetId"):f.destroy(this.domNode),delete this.domNode);this.srcNodeRef&&(c||f.destroy(this.srcNodeRef),delete this.srcNodeRef)},destroyDescendants:function(c){d.forEach(this.getChildren(),function(a){a.destroyRecursive&&a.destroyRecursive(c)})},uninitialize:function(){return!1},_setStyleAttr:function(c){var a=
this.domNode;q.isObject(c)?n.set(a,c):a.style.cssText=a.style.cssText?a.style.cssText+("; "+c):c;this._set("style",c)},_attrToDom:function(c,a,b){b=3<=arguments.length?b:this.attributeMap[c];d.forEach(q.isArray(b)?b:[b],function(b){var f=this[b.node||b||"domNode"];switch(b.type||"attribute"){case "attribute":q.isFunction(a)&&(a=q.hitch(this,a));b=b.attribute?b.attribute:/^on[A-Z][a-zA-Z]*$/.test(c)?c.toLowerCase():c;f.tagName?m.set(f,b,a):f.set(b,a);break;case "innerText":f.innerHTML="";f.appendChild(this.ownerDocument.createTextNode(a));
break;case "textContent":f.textContent=a;break;case "innerHTML":f.innerHTML=a;break;case "class":g.replace(f,a,this[c]);break;case "toggleClass":g.toggle(f,b.className||c,a)}},this)},get:function(c){var a=this._getAttrNames(c);return this[a.g]?this[a.g]():this._get(c)},set:function(c,a){if("object"===typeof c){for(var b in c)this.set(b,c[b]);return this}b=this._getAttrNames(c);var f=this[b.s];if(q.isFunction(f))var g=f.apply(this,Array.prototype.slice.call(arguments,1));else{var f=this.focusNode&&
!q.isFunction(this.focusNode)?"focusNode":"domNode",h=this[f]&&this[f].tagName,d;if(d=h)if(!(d=D[h])){d=this[f];var e={},l;for(l in d)e[l.toLowerCase()]=!0;d=D[h]=e}l=d;b=c in this.attributeMap?this.attributeMap[c]:b.s in this?this[b.s]:l&&b.l in l&&"function"!=typeof a||/^aria-|^data-|^role$/.test(c)?f:null;null!=b&&this._attrToDom(c,a,b);this._set(c,a)}return g||this},_attrPairNames:{},_getAttrNames:function(c){var a=this._attrPairNames;if(a[c])return a[c];var b=c.replace(/^[a-z]|-[a-zA-Z]/g,function(c){return c.charAt(c.length-
1).toUpperCase()});return a[c]={n:c+"Node",s:"_set"+b+"Attr",g:"_get"+b+"Attr",l:b.toLowerCase()}},_set:function(c,a){var b=this[c];this[c]=a;if(this._created&&!(b===a||b!==b&&a!==a))this._watchCallbacks&&this._watchCallbacks(c,b,a),this.emit("attrmodified-"+c,{detail:{prevValue:b,newValue:a}})},_get:function(c){return this[c]},emit:function(c,a,b){a=a||{};void 0===a.bubbles&&(a.bubbles=!0);void 0===a.cancelable&&(a.cancelable=!0);a.detail||(a.detail={});a.detail.widget=this;var f,g=this["on"+c];
g&&(f=g.apply(this,b?b:[a]));this._started&&!this._beingDestroyed&&p.emit(this.domNode,c.toLowerCase(),a);return f},on:function(c,a){var b=this._onMap(c);return b?e.after(this,b,a,!0):this.own(p(this.domNode,c,a))[0]},_onMap:function(c){var a=this.constructor,b=a._onMap;if(!b){var b=a._onMap={},f;for(f in a.prototype)/^on/.test(f)&&(b[f.replace(/^on/,"").toLowerCase()]=f)}return b["string"==typeof c&&c.toLowerCase()]},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+
"]"},getChildren:function(){return this.containerNode?z.findWidgets(this.containerNode):[]},getParent:function(){return z.getEnclosingWidget(this.domNode.parentNode)},connect:function(c,a,f){return this.own(b.connect(c,a,this,f))[0]},disconnect:function(c){c.remove()},subscribe:function(c,a){return this.own(v.subscribe(c,q.hitch(this,a)))[0]},unsubscribe:function(c){c.remove()},isLeftToRight:function(){return this.dir?"ltr"==this.dir.toLowerCase():c.isBodyLtr(this.ownerDocument)},isFocusable:function(){return this.focus&&
"none"!=n.get(this.domNode,"display")},placeAt:function(c,a){var b=!c.tagName&&z.byId(c);b&&b.addChild&&(!a||"number"===typeof a)?b.addChild(this,a):(b=b&&"domNode"in b?b.containerNode&&!/after|before|replace/.test(a||"")?b.containerNode:b.domNode:l.byId(c,this.ownerDocument),f.place(this.domNode,b,a),!this._started&&(this.getParent()||{})._started&&this.startup());return this},defer:function(c,a){var b=setTimeout(q.hitch(this,function(){b&&(b=null,this._destroyed||q.hitch(this,c)())}),a||0);return{remove:function(){b&&
(clearTimeout(b),b=null);return null}}}});r("dojo-bidi")&&a.extend(y);return a})},"dojo/ready":function(){define(["./_base/kernel","./has","require","./domReady","./_base/lang"],function(k,d,e,a,b){var h=0,l=[],m=0;d=function(){h=1;k._postLoad=k.config.afterOnLoad=!0;g()};var g=function(){if(!m){for(m=1;h&&(!a||0==a._Q.length)&&(e.idle?e.idle():1)&&l.length;){var c=l.shift();try{c()}catch(b){if(b.info=b.message,e.signal)e.signal("error",b);else throw b;}}m=0}};e.on&&e.on("idle",g);a&&(a._onQEmpty=
g);var f=k.ready=k.addOnLoad=function(c,a,f){var h=b._toArray(arguments);"number"!=typeof c?(f=a,a=c,c=1E3):h.shift();f=f?b.hitch.apply(k,h):function(){a()};f.priority=c;for(h=0;h<l.length&&c>=l[h].priority;h++);l.splice(h,0,f);g()},c=k.config.addOnLoad;if(c)f[b.isArray(c)?"apply":"call"](k,c);k.config.parseOnLoad&&!k.isAsync&&f(99,function(){k.parser||(k.deprecated("Add explicit require(['dojo/parser']);","","2.0"),e(["dojo/parser"]))});a?a(d):d();return f})},"dojo/Stateful":function(){define(["./_base/declare",
"./_base/lang","./_base/array","./when"],function(k,d,e,a){return k("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(a){var h=this._attrPairNames;return h[a]?h[a]:h[a]={s:"_"+a+"Setter",g:"_"+a+"Getter"}},postscript:function(a){a&&this.set(a)},_get:function(a,h){return"function"===typeof this[h.g]?this[h.g]():this[a]},get:function(a){return this._get(a,this._getAttrNames(a))},set:function(b,h){if("object"===typeof b){for(var d in b)b.hasOwnProperty(d)&&"_watchCallbacks"!=d&&this.set(d,
b[d]);return this}d=this._getAttrNames(b);var e=this._get(b,d);d=this[d.s];var g;"function"===typeof d?g=d.apply(this,Array.prototype.slice.call(arguments,1)):this[b]=h;if(this._watchCallbacks){var f=this;a(g,function(){f._watchCallbacks(b,e,h)})}return this},_changeAttrValue:function(a,h){var d=this.get(a);this[a]=h;this._watchCallbacks&&this._watchCallbacks(a,d,h);return this},watch:function(a,h){var d=this._watchCallbacks;if(!d)var m=this,d=this._watchCallbacks=function(c,a,b,f){var g=function(f){if(f){f=
f.slice();for(var g=0,h=f.length;g<h;g++)f[g].call(m,c,a,b)}};g(d["_"+c]);f||g(d["*"])};!h&&"function"===typeof a?(h=a,a="*"):a="_"+a;var g=d[a];"object"!==typeof g&&(g=d[a]=[]);g.push(h);var f={};f.unwatch=f.remove=function(){var c=e.indexOf(g,h);-1<c&&g.splice(c,1)};return f}})})},"dojo/when":function(){define(["./Deferred","./promise/Promise"],function(k,d){return function(e,a,b,h){var l=e&&"function"===typeof e.then,m=l&&e instanceof d;if(l)m||(l=new k(e.cancel),e.then(l.resolve,l.reject,l.progress),
e=l.promise);else return 1<arguments.length?a?a(e):e:(new k).resolve(e);return a||b||h?e.then(a,b,h):e}})},"dojo/Deferred":function(){define(["./has","./_base/lang","./errors/CancelError","./promise/Promise","./promise/instrumentation"],function(k,d,e,a,b){var h=Object.freeze||function(){},l=function(a,b,f,g,h){2===b&&(c.instrumentRejected&&0===a.length)&&c.instrumentRejected(f,!1,g,h);for(h=0;h<a.length;h++)m(a[h],b,f,g)},m=function(a,b,h,d){var e=a[b],l=a.deferred;if(e)try{var m=e(h);if(0===b)"undefined"!==
typeof m&&f(l,b,m);else{if(m&&"function"===typeof m.then){a.cancel=m.cancel;m.then(g(l,1),g(l,2),g(l,0));return}f(l,1,m)}}catch(k){f(l,2,k)}else f(l,b,h);2===b&&c.instrumentRejected&&c.instrumentRejected(h,!!e,d,l.promise)},g=function(c,a){return function(b){f(c,a,b)}},f=function(c,a,b){if(!c.isCanceled())switch(a){case 0:c.progress(b);break;case 1:c.resolve(b);break;case 2:c.reject(b)}},c=function(b){var f=this.promise=new a,g=this,d,k,t,u=!1,v=[];Error.captureStackTrace&&(Error.captureStackTrace(g,
c),Error.captureStackTrace(f,c));this.isResolved=f.isResolved=function(){return 1===d};this.isRejected=f.isRejected=function(){return 2===d};this.isFulfilled=f.isFulfilled=function(){return!!d};this.isCanceled=f.isCanceled=function(){return u};this.progress=function(c,a){if(d){if(!0===a)throw Error("This deferred has already been fulfilled.");return f}l(v,0,c,null,g);return f};this.resolve=function(c,a){if(d){if(!0===a)throw Error("This deferred has already been fulfilled.");return f}l(v,d=1,k=c,
null,g);v=null;return f};var w=this.reject=function(c,a){if(d){if(!0===a)throw Error("This deferred has already been fulfilled.");return f}Error.captureStackTrace&&Error.captureStackTrace(t={},w);l(v,d=2,k=c,t,g);v=null;return f};this.then=f.then=function(a,b,g){var h=[g,a,b];h.cancel=f.cancel;h.deferred=new c(function(c){return h.cancel&&h.cancel(c)});d&&!v?m(h,d,k,t):v.push(h);return h.deferred.promise};this.cancel=f.cancel=function(c,a){if(d){if(!0===a)throw Error("This deferred has already been fulfilled.");
}else{if(b){var f=b(c);c="undefined"===typeof f?c:f}u=!0;if(d){if(2===d&&k===c)return c}else return"undefined"===typeof c&&(c=new e),w(c),c}};h(f)};c.prototype.toString=function(){return"[object Deferred]"};b&&b(c);return c})},"dojo/errors/CancelError":function(){define(["./create"],function(k){return k("CancelError",null,null,{dojoType:"cancel"})})},"dojo/errors/create":function(){define(["../_base/lang"],function(k){return function(d,e,a,b){a=a||Error;var h=function(b){if(a===Error){Error.captureStackTrace&&
Error.captureStackTrace(this,h);var d=Error.call(this,b),g;for(g in d)d.hasOwnProperty(g)&&(this[g]=d[g]);this.message=b;this.stack=d.stack}else a.apply(this,arguments);e&&e.apply(this,arguments)};h.prototype=k.delegate(a.prototype,b);h.prototype.name=d;return h.prototype.constructor=h}})},"dojo/promise/Promise":function(){define(["../_base/lang"],function(k){function d(){throw new TypeError("abstract");}return k.extend(function(){},{then:function(e,a,b){d()},cancel:function(e,a){d()},isResolved:function(){d()},
isRejected:function(){d()},isFulfilled:function(){d()},isCanceled:function(){d()},always:function(d){return this.then(d,d)},otherwise:function(d){return this.then(null,d)},trace:function(){return this},traceRejected:function(){return this},toString:function(){return"[object Promise]"}})})},"dojo/promise/instrumentation":function(){define(["./tracer","../has","../_base/lang","../_base/array"],function(k,d,e,a){function b(c,a,b){var f="";c&&c.stack&&(f+=c.stack);a&&a.stack&&(f+="\n    ----------------------------------------\n    rejected"+
a.stack.split("\n").slice(1).join("\n").replace(/^\s+/," "));b&&b.stack&&(f+="\n    ----------------------------------------\n"+b.stack);console.error(c,f)}function h(c,a,f,g){a||b(c,f,g)}function l(b,h,d,e){a.some(g,function(c){if(c.error===b)return h&&(c.handled=!0),!0})||g.push({error:b,rejection:d,handled:h,deferred:e,timestamp:(new Date).getTime()});f||(f=setTimeout(m,c))}function m(){var h=(new Date).getTime(),d=h-c;g=a.filter(g,function(c){return c.timestamp<d?(c.handled||b(c.error,c.rejection,
c.deferred),!1):!0});f=g.length?setTimeout(m,g[0].timestamp+c-h):!1}d.add("config-useDeferredInstrumentation","report-unhandled-rejections");var g=[],f=!1,c=1E3;return function(a){var b=d("config-useDeferredInstrumentation");if(b){k.on("resolved",e.hitch(console,"log","resolved"));k.on("rejected",e.hitch(console,"log","rejected"));k.on("progress",e.hitch(console,"log","progress"));var f=[];"string"===typeof b&&(f=b.split(","),b=f.shift());if("report-rejections"===b)a.instrumentRejected=h;else if("report-unhandled-rejections"===
b||!0===b||1===b)a.instrumentRejected=l,c=parseInt(f[0],10)||c;else throw Error("Unsupported instrumentation usage \x3c"+b+"\x3e");}}})},"dojo/promise/tracer":function(){define(["../_base/lang","./Promise","../Evented"],function(k,d,e){function a(a){setTimeout(function(){h.apply(b,a)},0)}var b=new e,h=b.emit;b.emit=null;d.prototype.trace=function(){var b=k._toArray(arguments);this.then(function(h){a(["resolved",h].concat(b))},function(h){a(["rejected",h].concat(b))},function(h){a(["progress",h].concat(b))});
return this};d.prototype.traceRejected=function(){var b=k._toArray(arguments);this.otherwise(function(h){a(["rejected",h].concat(b))});return this};return b})},"dijit/Destroyable":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(k,d,e){return e("dijit.Destroyable",null,{destroy:function(a){this._destroyed=!0},own:function(){var a=["destroyRecursive","destroy","remove"];k.forEach(arguments,function(b){function h(){m.remove();k.forEach(g,function(a){a.remove()})}var e,
m=d.before(this,"destroy",function(a){b[e](a)}),g=[];b.then?(e="cancel",b.then(h,h)):k.forEach(a,function(a){"function"===typeof b[a]&&(e||(e=a),g.push(d.after(b,a,h,!0)))})},this);return arguments}})})},"dijit/registry":function(){define(["dojo/_base/array","dojo/_base/window","./main"],function(k,d,e){var a={},b={},h={length:0,add:function(a){if(b[a.id])throw Error("Tried to register widget with id\x3d\x3d"+a.id+" but that id is already registered");b[a.id]=a;this.length++},remove:function(a){b[a]&&
(delete b[a],this.length--)},byId:function(a){return"string"==typeof a?b[a]:a},byNode:function(a){return b[a.getAttribute("widgetId")]},toArray:function(){var a=[],h;for(h in b)a.push(b[h]);return a},getUniqueId:function(h){var d;do d=h+"_"+(h in a?++a[h]:a[h]=0);while(b[d]);return"dijit"==e._scopeName?d:e._scopeName+"_"+d},findWidgets:function(a,h){function g(c){for(c=c.firstChild;c;c=c.nextSibling)if(1==c.nodeType){var a=c.getAttribute("widgetId");a?(a=b[a])&&f.push(a):c!==h&&g(c)}}var f=[];g(a);
return f},_destroyAll:function(){e._curFocus=null;e._prevFocus=null;e._activeStack=[];k.forEach(h.findWidgets(d.body()),function(a){a._destroyed||(a.destroyRecursive?a.destroyRecursive():a.destroy&&a.destroy())})},getEnclosingWidget:function(a){for(;a;){var h=1==a.nodeType&&a.getAttribute("widgetId");if(h)return b[h];a=a.parentNode}return null},_hash:b};return e.registry=h})},"dijit/main":function(){define(["dojo/_base/kernel"],function(k){return k.dijit})},"dijit/Tooltip":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/fx dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/lang dojo/mouse dojo/on dojo/sniff ./_base/manager ./place ./_Widget ./_TemplatedMixin ./BackgroundIframe dojo/text!./templates/Tooltip.html ./main".split(" "),
function(k,d,e,a,b,h,l,m,g,f,c,n,r,s,q,p,t,u){function v(){}var w=d("dijit._MasterTooltip",[s,q],{duration:n.defaultDuration,templateString:t,postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);this.bgIframe=new p(this.domNode);this.fadeIn=e.fadeIn({node:this.domNode,duration:this.duration,onEnd:m.hitch(this,"_onShow")});this.fadeOut=e.fadeOut({node:this.domNode,duration:this.duration,onEnd:m.hitch(this,"_onHide")})},show:function(c,a,b,f,g,h,d){if(!this.aroundNode||!(this.aroundNode===
a&&this.containerNode.innerHTML==c))if("playing"==this.fadeOut.status())this._onDeck=arguments;else{this.containerNode.innerHTML=c;g&&this.set("textDir",g);this.containerNode.align=f?"right":"left";var e=r.around(this.domNode,a,b&&b.length?b:x.defaultPosition,!f,m.hitch(this,"orient")),n=e.aroundNodePos;"M"==e.corner.charAt(0)&&"M"==e.aroundCorner.charAt(0)?(this.connectorNode.style.top=n.y+(n.h-this.connectorNode.offsetHeight>>1)-e.y+"px",this.connectorNode.style.left=""):"M"==e.corner.charAt(1)&&
"M"==e.aroundCorner.charAt(1)?this.connectorNode.style.left=n.x+(n.w-this.connectorNode.offsetWidth>>1)-e.x+"px":(this.connectorNode.style.left="",this.connectorNode.style.top="");l.set(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=!0;this.aroundNode=a;this.onMouseEnter=h||v;this.onMouseLeave=d||v}},orient:function(a,b,f,g,d){this.connectorNode.style.top="";var e=g.h;g=g.w;a.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove",
"BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[b+"-"+f];this.domNode.style.width="auto";var l=h.position(this.domNode);if(c("ie")||c("trident"))l.w+=2;var n=Math.min(Math.max(g,1),l.w);h.setMarginBox(this.domNode,{w:n});"B"==f.charAt(0)&&"B"==b.charAt(0)?(a=h.position(a),b=
this.connectorNode.offsetHeight,a.h>e?(this.connectorNode.style.top=e-(d.h+b>>1)+"px",this.connectorNode.style.bottom=""):(this.connectorNode.style.bottom=Math.min(Math.max(d.h/2-b/2,0),a.h-b)+"px",this.connectorNode.style.top="")):(this.connectorNode.style.top="",this.connectorNode.style.bottom="");return Math.max(0,l.w-g)},_onShow:function(){c("ie")&&(this.domNode.style.filter="")},hide:function(c){this._onDeck&&this._onDeck[1]==c?this._onDeck=null:this.aroundNode===c&&(this.fadeIn.stop(),this.isShowingNow=
!1,this.aroundNode=null,this.fadeOut.play());this.onMouseEnter=this.onMouseLeave=v},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";this._onDeck&&(this.show.apply(this,this._onDeck),this._onDeck=null)}});c("dojo-bidi")&&w.extend({_setAutoTextDir:function(c){this.applyTextDir(c);k.forEach(c.children,function(c){this._setAutoTextDir(c)},this)},_setTextDirAttr:function(c){this._set("textDir",c);"auto"==c?this._setAutoTextDir(this.containerNode):this.containerNode.dir=
this.textDir}});u.showTooltip=function(c,a,b,f,g,h,d){b&&(b=k.map(b,function(c){return{after:"after-centered",before:"before-centered"}[c]||c}));x._masterTT||(u._masterTT=x._masterTT=new w);return x._masterTT.show(c,a,b,f,g,h,d)};u.hideTooltip=function(c){return x._masterTT&&x._masterTT.hide(c)};var x=d("dijit.Tooltip",s,{label:"",showDelay:400,hideDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(c){k.forEach(this._connections||[],function(c){k.forEach(c,function(c){c.remove()})},
this);this._connectIds=k.filter(m.isArrayLike(c)?c:c?[c]:[],function(c){return a.byId(c,this.ownerDocument)},this);this._connections=k.map(this._connectIds,function(c){c=a.byId(c,this.ownerDocument);var b=this.selector,h=b?function(c){return f.selector(b,c)}:function(c){return c},d=this;return[f(c,h(g.enter),function(){d._onHover(this)}),f(c,h("focusin"),function(){d._onHover(this)}),f(c,h(g.leave),m.hitch(d,"_onUnHover")),f(c,h("focusout"),m.hitch(d,"set","state","DORMANT"))]},this);this._set("connectId",
c)},addTarget:function(c){c=c.id||c;-1==k.indexOf(this._connectIds,c)&&this.set("connectId",this._connectIds.concat(c))},removeTarget:function(c){c=k.indexOf(this._connectIds,c.id||c);0<=c&&(this._connectIds.splice(c,1),this.set("connectId",this._connectIds))},buildRendering:function(){this.inherited(arguments);b.add(this.domNode,"dijitTooltipData")},startup:function(){this.inherited(arguments);var c=this.connectId;k.forEach(m.isArrayLike(c)?c:[c],this.addTarget,this)},getContent:function(c){return this.label||
this.domNode.innerHTML},state:"DORMANT",_setStateAttr:function(c){if(!(this.state==c||"SHOW TIMER"==c&&"SHOWING"==this.state||"HIDE TIMER"==c&&"DORMANT"==this.state)){this._hideTimer&&(this._hideTimer.remove(),delete this._hideTimer);this._showTimer&&(this._showTimer.remove(),delete this._showTimer);switch(c){case "DORMANT":this._connectNode&&(x.hide(this._connectNode),delete this._connectNode,this.onHide());break;case "SHOW TIMER":"SHOWING"!=this.state&&(this._showTimer=this.defer(function(){this.set("state",
"SHOWING")},this.showDelay));break;case "SHOWING":var a=this.getContent(this._connectNode);if(!a){this.set("state","DORMANT");return}x.show(a,this._connectNode,this.position,!this.isLeftToRight(),this.textDir,m.hitch(this,"set","state","SHOWING"),m.hitch(this,"set","state","HIDE TIMER"));this.onShow(this._connectNode,this.position);break;case "HIDE TIMER":this._hideTimer=this.defer(function(){this.set("state","DORMANT")},this.hideDelay)}this._set("state",c)}},_onHover:function(c){this._connectNode&&
c!=this._connectNode&&this.set("state","DORMANT");this._connectNode=c;this.set("state","SHOW TIMER")},_onUnHover:function(c){this.set("state","HIDE TIMER")},open:function(c){this.set("state","DORMANT");this._connectNode=c;this.set("state","SHOWING")},close:function(){this.set("state","DORMANT")},onShow:function(){},onHide:function(){},destroy:function(){this.set("state","DORMANT");k.forEach(this._connections||[],function(c){k.forEach(c,function(c){c.remove()})},this);this.inherited(arguments)}});
x._MasterTooltip=w;x.show=u.showTooltip;x.hide=u.hideTooltip;x.defaultPosition=["after-centered","before-centered"];return x})},"dojo/_base/fx":function(){define("./kernel ./config ./lang ../Evented ./Color ../aspect ../sniff ../dom ../dom-style".split(" "),function(k,d,e,a,b,h,l,m,g){var f=e.mixin,c={},n=c._Line=function(c,a){this.start=c;this.end=a};n.prototype.getValue=function(c){return(this.end-this.start)*c+this.start};var r=c.Animation=function(c){f(this,c);e.isArray(this.curve)&&(this.curve=
new n(this.curve[0],this.curve[1]))};r.prototype=new a;e.extend(r,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var c=this._percent,a=this.easing;return a?a(c):c},_fire:function(c,a){var b=a||[];if(this[c])if(d.debugAtAllCosts)this[c].apply(this,b);else try{this[c].apply(this,b)}catch(f){console.error("exception in animation handler for:",c),console.error(f)}return this},play:function(c,a){this._delayTimer&&this._clearTimer();if(a)this._stopTimer(),this._active=
this._paused=!1,this._percent=0;else if(this._active&&!this._paused)return this;this._fire("beforeBegin",[this.node]);var b=c||this.delay,f=e.hitch(this,"_play",a);if(0<b)return this._delayTimer=setTimeout(f,b),this;f();return this},_play:function(c){this._delayTimer&&this._clearTimer();this._startTime=(new Date).valueOf();this._paused&&(this._startTime-=this.duration*this._percent);this._active=!0;this._paused=!1;c=this.curve.getValue(this._getStep());this._percent||(this._startRepeatCount||(this._startRepeatCount=
this.repeat),this._fire("onBegin",[c]));this._fire("onPlay",[c]);this._cycle();return this},pause:function(){this._delayTimer&&this._clearTimer();this._stopTimer();if(!this._active)return this;this._paused=!0;this._fire("onPause",[this.curve.getValue(this._getStep())]);return this},gotoPercent:function(c,a){this._stopTimer();this._active=this._paused=!0;this._percent=c;a&&this.play();return this},stop:function(c){this._delayTimer&&this._clearTimer();if(!this._timer)return this;this._stopTimer();c&&
(this._percent=1);this._fire("onStop",[this.curve.getValue(this._getStep())]);this._active=this._paused=!1;return this},destroy:function(){this.stop()},status:function(){return this._active?this._paused?"paused":"playing":"stopped"},_cycle:function(){if(this._active){var c=(new Date).valueOf(),c=0===this.duration?1:(c-this._startTime)/this.duration;1<=c&&(c=1);this._percent=c;this.easing&&(c=this.easing(c));this._fire("onAnimate",[this.curve.getValue(c)]);1>this._percent?this._startTimer():(this._active=
!1,0<this.repeat?(this.repeat--,this.play(null,!0)):-1==this.repeat?this.play(null,!0):this._startRepeatCount&&(this.repeat=this._startRepeatCount,this._startRepeatCount=0),this._percent=0,this._fire("onEnd",[this.node]),!this.repeat&&this._stopTimer())}return this},_clearTimer:function(){clearTimeout(this._delayTimer);delete this._delayTimer}});var s=0,q=null,p={run:function(){}};e.extend(r,{_startTimer:function(){this._timer||(this._timer=h.after(p,"run",e.hitch(this,"_cycle"),!0),s++);q||(q=setInterval(e.hitch(p,
"run"),this.rate))},_stopTimer:function(){this._timer&&(this._timer.remove(),this._timer=null,s--);0>=s&&(clearInterval(q),q=null,s=0)}});var t=l("ie")?function(c){var a=c.style;!a.width.length&&"auto"==g.get(c,"width")&&(a.width="auto")}:function(){};c._fade=function(a){a.node=m.byId(a.node);var b=f({properties:{}},a);a=b.properties.opacity={};a.start=!("start"in b)?function(){return+g.get(b.node,"opacity")||0}:b.start;a.end=b.end;a=c.animateProperty(b);h.after(a,"beforeBegin",e.partial(t,b.node),
!0);return a};c.fadeIn=function(a){return c._fade(f({end:1},a))};c.fadeOut=function(a){return c._fade(f({end:0},a))};c._defaultEasing=function(c){return 0.5+Math.sin((c+1.5)*Math.PI)/2};var u=function(c){this._properties=c;for(var a in c){var f=c[a];f.start instanceof b&&(f.tempColor=new b)}};u.prototype.getValue=function(c){var a={},f;for(f in this._properties){var g=this._properties[f],h=g.start;h instanceof b?a[f]=b.blendColors(h,g.end,c,g.tempColor).toCss():e.isArray(h)||(a[f]=(g.end-h)*c+h+("opacity"!=
f?g.units||"px":0))}return a};c.animateProperty=function(c){var a=c.node=m.byId(c.node);c.easing||(c.easing=k._defaultEasing);c=new r(c);h.after(c,"beforeBegin",e.hitch(c,function(){var c={},h;for(h in this.properties){if("width"==h||"height"==h)this.node.display="block";var d=this.properties[h];e.isFunction(d)&&(d=d(a));d=c[h]=f({},e.isObject(d)?d:{end:d});e.isFunction(d.start)&&(d.start=d.start(a));e.isFunction(d.end)&&(d.end=d.end(a));var l=0<=h.toLowerCase().indexOf("color"),n=function(c,a){var b=
{height:c.offsetHeight,width:c.offsetWidth}[a];if(void 0!==b)return b;b=g.get(c,a);return"opacity"==a?+b:l?b:parseFloat(b)};"end"in d?"start"in d||(d.start=n(a,h)):d.end=n(a,h);l?(d.start=new b(d.start),d.end=new b(d.end)):d.start="opacity"==h?+d.start:parseFloat(d.start)}this.curve=new u(c)}),!0);h.after(c,"onAnimate",e.hitch(g,"set",c.node),!0);return c};c.anim=function(a,b,f,g,h,d){return c.animateProperty({node:a,duration:f||r.prototype.duration,properties:b,easing:g,onEnd:h}).play(d||0)};f(k,
c);k._Animation=r;return c})},"dojo/_base/Color":function(){define(["./kernel","./lang","./array","./config"],function(k,d,e,a){var b=k.Color=function(a){a&&this.setColor(a)};b.named={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:a.transparentColor||[0,0,0,0]};
d.extend(b,{r:255,g:255,b:255,a:1,_set:function(a,b,d,g){this.r=a;this.g=b;this.b=d;this.a=g},setColor:function(a){d.isString(a)?b.fromString(a,this):d.isArray(a)?b.fromArray(a,this):(this._set(a.r,a.g,a.b,a.a),a instanceof b||this.sanitize());return this},sanitize:function(){return this},toRgb:function(){return[this.r,this.g,this.b]},toRgba:function(){return[this.r,this.g,this.b,this.a]},toHex:function(){return"#"+e.map(["r","g","b"],function(a){a=this[a].toString(16);return 2>a.length?"0"+a:a},
this).join("")},toCss:function(a){var b=this.r+", "+this.g+", "+this.b;return(a?"rgba("+b+", "+this.a:"rgb("+b)+")"},toString:function(){return this.toCss(!0)}});b.blendColors=k.blendColors=function(a,d,m,g){var f=g||new b;e.forEach(["r","g","b","a"],function(c){f[c]=a[c]+(d[c]-a[c])*m;"a"!=c&&(f[c]=Math.round(f[c]))});return f.sanitize()};b.fromRgb=k.colorFromRgb=function(a,d){var e=a.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/);return e&&b.fromArray(e[1].split(/\s*,\s*/),d)};b.fromHex=k.colorFromHex=
function(a,d){var m=d||new b,g=4==a.length?4:8,f=(1<<g)-1;a=Number("0x"+a.substr(1));if(isNaN(a))return null;e.forEach(["b","g","r"],function(c){var b=a&f;a>>=g;m[c]=4==g?17*b:b});m.a=1;return m};b.fromArray=k.colorFromArray=function(a,d){var e=d||new b;e._set(Number(a[0]),Number(a[1]),Number(a[2]),Number(a[3]));isNaN(e.a)&&(e.a=1);return e.sanitize()};b.fromString=k.colorFromString=function(a,d){var e=b.named[a];return e&&b.fromArray(e,d)||b.fromRgb(a,d)||b.fromHex(a,d)};return b})},"dijit/_base/manager":function(){define(["dojo/_base/array",
"dojo/_base/config","dojo/_base/lang","../registry","../main"],function(k,d,e,a,b){var h={};k.forEach("byId getUniqueId findWidgets _destroyAll byNode getEnclosingWidget".split(" "),function(b){h[b]=a[b]});e.mixin(h,{defaultDuration:d.defaultDuration||200});e.mixin(b,h);return b})},"dijit/place":function(){define("dojo/_base/array dojo/dom-geometry dojo/dom-style dojo/_base/kernel dojo/_base/window ./Viewport ./main".split(" "),function(k,d,e,a,b,h,l){function m(a,c,g,l){var m=h.getEffectiveBox(a.ownerDocument);
(!a.parentNode||"body"!=String(a.parentNode.tagName).toLowerCase())&&b.body(a.ownerDocument).appendChild(a);var q=null;k.some(c,function(c){var b=c.corner,h=c.pos,e=0,k={w:{L:m.l+m.w-h.x,R:h.x-m.l,M:m.w}[b.charAt(1)],h:{T:m.t+m.h-h.y,B:h.y-m.t,M:m.h}[b.charAt(0)]},t=a.style;t.left=t.right="auto";g&&(e=g(a,c.aroundCorner,b,k,l),e="undefined"==typeof e?0:e);var p=a.style,D=p.display,B=p.visibility;"none"==p.display&&(p.visibility="hidden",p.display="");t=d.position(a);p.display=D;p.visibility=B;D={L:h.x,
R:h.x-t.w,M:Math.max(m.l,Math.min(m.l+m.w,h.x+(t.w>>1))-t.w)}[b.charAt(1)];B={T:h.y,B:h.y-t.h,M:Math.max(m.t,Math.min(m.t+m.h,h.y+(t.h>>1))-t.h)}[b.charAt(0)];h=Math.max(m.l,D);p=Math.max(m.t,B);D=Math.min(m.l+m.w,D+t.w);B=Math.min(m.t+m.h,B+t.h);D-=h;B-=p;e+=t.w-D+(t.h-B);if(null==q||e<q.overflow)q={corner:b,aroundCorner:c.aroundCorner,x:h,y:p,w:D,h:B,overflow:e,spaceAvailable:k};return!e});q.overflow&&g&&g(a,q.aroundCorner,q.corner,q.spaceAvailable,l);c=q.y;var p=q.x,t=b.body(a.ownerDocument);/relative|absolute/.test(e.get(t,
"position"))&&(c-=e.get(t,"marginTop"),p-=e.get(t,"marginLeft"));t=a.style;t.top=c+"px";t.left=p+"px";t.right="auto";return q}var g={TL:"BR",TR:"BL",BL:"TR",BR:"TL"};return l.place={at:function(a,c,b,d,h){b=k.map(b,function(a){var b={corner:a,aroundCorner:g[a],pos:{x:c.x,y:c.y}};d&&(b.pos.x+="L"==a.charAt(1)?d.x:-d.x,b.pos.y+="T"==a.charAt(0)?d.y:-d.y);return b});return m(a,b,h)},around:function(b,c,g,h,l){function q(c,a){B.push({aroundCorner:c,corner:a,pos:{x:{L:y,R:y+C,M:y+(C>>1)}[c.charAt(1)],
y:{T:z,B:z+D,M:z+(D>>1)}[c.charAt(0)]}})}var p;if("string"==typeof c||"offsetWidth"in c||"ownerSVGElement"in c){if(p=d.position(c,!0),/^(above|below)/.test(g[0])){var t=d.getBorderExtents(c),u=c.firstChild?d.getBorderExtents(c.firstChild):{t:0,l:0,b:0,r:0},v=d.getBorderExtents(b),w=b.firstChild?d.getBorderExtents(b.firstChild):{t:0,l:0,b:0,r:0};p.y+=Math.min(t.t+u.t,v.t+w.t);p.h-=Math.min(t.t+u.t,v.t+w.t)+Math.min(t.b+u.b,v.b+w.b)}}else p=c;if(c.parentNode){t="absolute"==e.getComputedStyle(c).position;
for(c=c.parentNode;c&&1==c.nodeType&&"BODY"!=c.nodeName;){u=d.position(c,!0);v=e.getComputedStyle(c);/relative|absolute/.test(v.position)&&(t=!1);if(!t&&/hidden|auto|scroll/.test(v.overflow)){var w=Math.min(p.y+p.h,u.y+u.h),x=Math.min(p.x+p.w,u.x+u.w);p.x=Math.max(p.x,u.x);p.y=Math.max(p.y,u.y);p.h=w-p.y;p.w=x-p.x}"absolute"==v.position&&(t=!0);c=c.parentNode}}var y=p.x,z=p.y,C="w"in p?p.w:p.w=p.width,D="h"in p?p.h:(a.deprecated("place.around: dijit/place.__Rectangle: { x:"+y+", y:"+z+", height:"+
p.height+", width:"+C+" } has been deprecated.  Please use { x:"+y+", y:"+z+", h:"+p.height+", w:"+C+" }","","2.0"),p.h=p.height),B=[];k.forEach(g,function(c){var a=h;switch(c){case "above-centered":q("TM","BM");break;case "below-centered":q("BM","TM");break;case "after-centered":a=!a;case "before-centered":q(a?"ML":"MR",a?"MR":"ML");break;case "after":a=!a;case "before":q(a?"TL":"TR",a?"TR":"TL");q(a?"BL":"BR",a?"BR":"BL");break;case "below-alt":a=!a;case "below":q(a?"BL":"BR",a?"TL":"TR");q(a?"BR":
"BL",a?"TR":"TL");break;case "above-alt":a=!a;case "above":q(a?"TL":"TR",a?"BL":"BR");q(a?"TR":"TL",a?"BR":"BL");break;default:q(c.aroundCorner,c.corner)}});b=m(b,B,l,{w:C,h:D});b.aroundNodePos=p;return b}}})},"dijit/Viewport":function(){define(["dojo/Evented","dojo/on","dojo/domReady","dojo/sniff","dojo/window"],function(k,d,e,a,b){var h=new k,l;e(function(){var e=b.getBox();h._rlh=d(window,"resize",function(){var a=b.getBox();e.h==a.h&&e.w==a.w||(e=a,h.emit("resize"))});if(8==a("ie")){var g=screen.deviceXDPI;
setInterval(function(){screen.deviceXDPI!=g&&(g=screen.deviceXDPI,h.emit("resize"))},500)}a("ios")&&(d(document,"focusin",function(a){l=a.target}),d(document,"focusout",function(a){l=null}))});h.getEffectiveBox=function(d){d=b.getBox(d);var g=l&&l.tagName&&l.tagName.toLowerCase();if(a("ios")&&l&&!l.readOnly&&("textarea"==g||"input"==g&&/^(color|email|number|password|search|tel|text|url)$/.test(l.type)))d.h*=0==orientation||180==orientation?0.66:0.4,g=l.getBoundingClientRect(),d.h=Math.max(d.h,g.top+
g.height);return d};return h})},"dojo/window":function(){define("./_base/lang ./sniff ./_base/window ./dom ./dom-geometry ./dom-style ./dom-construct".split(" "),function(k,d,e,a,b,h,l){d.add("rtl-adjust-position-for-verticalScrollBar",function(a,f){var c=e.body(f),d=l.create("div",{style:{overflow:"scroll",overflowX:"visible",direction:"rtl",visibility:"hidden",position:"absolute",left:"0",top:"0",width:"64px",height:"64px"}},c,"last"),h=l.create("div",{style:{overflow:"hidden",direction:"ltr"}},
d,"last"),m=0!=b.position(h).x;d.removeChild(h);c.removeChild(d);return m});d.add("position-fixed-support",function(a,f){var c=e.body(f),d=l.create("span",{style:{visibility:"hidden",position:"fixed",left:"1px",top:"1px"}},c,"last"),h=l.create("span",{style:{position:"fixed",left:"0",top:"0"}},d,"last"),m=b.position(h).x!=b.position(d).x;d.removeChild(h);c.removeChild(d);return m});var m={getBox:function(a){a=a||e.doc;var f="BackCompat"==a.compatMode?e.body(a):a.documentElement,c=b.docScroll(a);if(d("touch")){var h=
m.get(a);a=h.innerWidth||f.clientWidth;f=h.innerHeight||f.clientHeight}else a=f.clientWidth,f=f.clientHeight;return{l:c.x,t:c.y,w:a,h:f}},get:function(a){if(d("ie")&&m!==document.parentWindow){a.parentWindow.execScript("document._parentWindow \x3d window;","Javascript");var b=a._parentWindow;a._parentWindow=null;return b}return a.parentWindow||a.defaultView},scrollIntoView:function(g,f){try{g=a.byId(g);var c=g.ownerDocument||e.doc,l=e.body(c),m=c.documentElement||l.parentNode,k=d("ie")||d("trident"),
q=d("webkit");if(!(g==l||g==m))if(!d("mozilla")&&(!k&&!q&&!d("opera")&&!d("trident")&&!d("edge"))&&"scrollIntoView"in g)g.scrollIntoView(!1);else{var p="BackCompat"==c.compatMode,t=Math.min(l.clientWidth||m.clientWidth,m.clientWidth||l.clientWidth),u=Math.min(l.clientHeight||m.clientHeight,m.clientHeight||l.clientHeight),c=q||p?l:m,v=f||b.position(g),w=g.parentNode,q=function(a){return 6>=k||7==k&&p?!1:d("position-fixed-support")&&"fixed"==h.get(a,"position").toLowerCase()},x=this,y=function(a,c,
b){"BODY"==a.tagName||"HTML"==a.tagName?x.get(a.ownerDocument).scrollBy(c,b):(c&&(a.scrollLeft+=c),b&&(a.scrollTop+=b))};if(!q(g))for(;w;){w==l&&(w=c);var z=b.position(w),C=q(w),D="rtl"==h.getComputedStyle(w).direction.toLowerCase();if(w==c){z.w=t;z.h=u;if(c==m&&(k||d("trident"))&&D)z.x+=c.offsetWidth-z.w;z.x=0;z.y=0}else{var B=b.getPadBorderExtents(w);z.w-=B.w;z.h-=B.h;z.x+=B.l;z.y+=B.t;var E=w.clientWidth,J=z.w-E;0<E&&0<J&&(D&&d("rtl-adjust-position-for-verticalScrollBar")&&(z.x+=J),z.w=E);E=w.clientHeight;
J=z.h-E;0<E&&0<J&&(z.h=E)}C&&(0>z.y&&(z.h+=z.y,z.y=0),0>z.x&&(z.w+=z.x,z.x=0),z.y+z.h>u&&(z.h=u-z.y),z.x+z.w>t&&(z.w=t-z.x));var H=v.x-z.x,P=v.y-z.y,I=H+v.w-z.w,K=P+v.h-z.h,F,A;if(0<I*H&&(w.scrollLeft||w==c||w.scrollWidth>w.offsetHeight)){F=Math[0>H?"max":"min"](H,I);if(D&&(8==k&&!p||5<=d("trident")))F=-F;A=w.scrollLeft;y(w,F,0);F=w.scrollLeft-A;v.x-=F}if(0<K*P&&(w.scrollTop||w==c||w.scrollHeight>w.offsetHeight))F=Math.ceil(Math[0>P?"max":"min"](P,K)),A=w.scrollTop,y(w,0,F),F=w.scrollTop-A,v.y-=F;
w=w!=c&&!C&&w.parentNode}}}catch(G){console.error("scrollIntoView: "+G),g.scrollIntoView(!1)}}};k.setObject("dojo.window",m);return m})},"dijit/_Widget":function(){define("dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/has dojo/_base/kernel dojo/_base/lang dojo/query dojo/ready ./registry ./_WidgetBase ./_OnDijitClickMixin ./_FocusMixin dojo/uacss ./hccss".split(" "),function(k,d,e,a,b,h,l,m,g,f,c,n,r){function s(){}function q(a){return function(c,b,f,g){return c&&"string"==
typeof b&&c[b]==s?c.on(b.substring(2).toLowerCase(),l.hitch(f,g)):a.apply(e,arguments)}}k.around(e,"connect",q);h.connect&&k.around(h,"connect",q);k=a("dijit._Widget",[c,n,r],{onClick:s,onDblClick:s,onKeyDown:s,onKeyPress:s,onKeyUp:s,onMouseDown:s,onMouseMove:s,onMouseOut:s,onMouseOver:s,onMouseLeave:s,onMouseEnter:s,onMouseUp:s,constructor:function(a){this._toConnect={};for(var c in a)this[c]===s&&(this._toConnect[c.replace(/^on/,"").toLowerCase()]=a[c],delete a[c])},postCreate:function(){this.inherited(arguments);
for(var a in this._toConnect)this.on(a,this._toConnect[a]);delete this._toConnect},on:function(a,c){return this[this._onMap(a)]===s?e.connect(this.domNode,a.toLowerCase(),this,c):this.inherited(arguments)},_setFocusedAttr:function(a){this._focused=a;this._set("focused",a)},setAttribute:function(a,c){h.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(a,c)},attr:function(a,c){return 2<=arguments.length||"object"===typeof a?this.set.apply(this,
arguments):this.get(a)},getDescendants:function(){h.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");return this.containerNode?m("[widgetId]",this.containerNode).map(f.byNode):[]},_onShow:function(){this.onShow()},onShow:function(){},onHide:function(){},onClose:function(){return!0}});b("dijit-legacy-requires")&&g(0,function(){require(["dijit/_base"])});return k})},"dojo/query":function(){define("./_base/kernel ./has ./dom ./on ./_base/array ./_base/lang ./selector/_loader ./selector/_loader!default".split(" "),
function(k,d,e,a,b,h,l,m){function g(a,c){var f=function(b,f){if("string"==typeof f&&(f=e.byId(f),!f))return new c([]);var g="string"==typeof b?a(b,f):b?b.end&&b.on?b:[b]:[];return g.end&&g.on?g:new c(g)};f.matches=a.match||function(a,c,b){return 0<f.filter([a],c,b).length};f.filter=a.filter||function(a,c,g){return f(c,g).filter(function(c){return-1<b.indexOf(a,c)})};if("function"!=typeof a){var g=a.search;a=function(a,c){return g(c||document,a)}}return f}d.add("array-extensible",function(){return 1==
h.delegate([],{length:1}).length&&!d("bug-for-in-skips-shadowed")});var f=Array.prototype,c=f.slice,n=f.concat,r=b.forEach,s=function(a,b,f){b=[0].concat(c.call(b,0));f=f||k.global;return function(c){b[0]=c;return a.apply(f,b)}},q=function(a){var c=this instanceof p&&d("array-extensible");"number"==typeof a&&(a=Array(a));var b=a&&"length"in a?a:arguments;if(c||!b.sort){for(var f=c?this:[],g=f.length=b.length,e=0;e<g;e++)f[e]=b[e];if(c)return f;b=f}h._mixin(b,t);b._NodeListCtor=function(a){return p(a)};
return b},p=q,t=p.prototype=d("array-extensible")?[]:{};p._wrap=t._wrap=function(a,c,b){a=new (b||this._NodeListCtor||p)(a);return c?a._stash(c):a};p._adaptAsMap=function(a,c){return function(){return this.map(s(a,arguments,c))}};p._adaptAsForEach=function(a,c){return function(){this.forEach(s(a,arguments,c));return this}};p._adaptAsFilter=function(a,c){return function(){return this.filter(s(a,arguments,c))}};p._adaptWithCondition=function(a,c,b){return function(){var f=arguments,g=s(a,f,b);if(c.call(b||
k.global,f))return this.map(g);this.forEach(g);return this}};r(["slice","splice"],function(a){var c=f[a];t[a]=function(){return this._wrap(c.apply(this,arguments),"slice"==a?this:null)}});r(["indexOf","lastIndexOf","every","some"],function(a){var f=b[a];t[a]=function(){return f.apply(k,[this].concat(c.call(arguments,0)))}});h.extend(q,{constructor:p,_NodeListCtor:p,toString:function(){return this.join(",")},_stash:function(a){this._parent=a;return this},on:function(c,b){var f=this.map(function(f){return a(f,
c,b)});f.remove=function(){for(var a=0;a<f.length;a++)f[a].remove()};return f},end:function(){return this._parent?this._parent:new this._NodeListCtor(0)},concat:function(a){var f=c.call(this,0),g=b.map(arguments,function(a){return c.call(a,0)});return this._wrap(n.apply(f,g),this)},map:function(a,c){return this._wrap(b.map(this,a,c),this)},forEach:function(a,c){r(this,a,c);return this},filter:function(a){var c=arguments,f=this,g=0;if("string"==typeof a){f=u._filterResult(this,c[0]);if(1==c.length)return f._stash(this);
g=1}return this._wrap(b.filter(f,c[g],c[g+1]),this)},instantiate:function(a,c){var b=h.isFunction(a)?a:h.getObject(a);c=c||{};return this.forEach(function(a){new b(c,a)})},at:function(){var a=new this._NodeListCtor(0);r(arguments,function(c){0>c&&(c=this.length+c);this[c]&&a.push(this[c])},this);return a._stash(this)}});var u=g(m,q);k.query=g(m,function(a){return q(a)});u.load=function(a,c,b){l.load(a,c,function(a){b(g(a,q))})};k._filterQueryResult=u._filterResult=function(a,c,b){return new q(u.filter(a,
c,b))};k.NodeList=u.NodeList=q;return u})},"dojo/selector/_loader":function(){define(["../has","require"],function(k,d){if("undefined"!==typeof document){var e=document.createElement("div");k.add("dom-qsa2.1",!!e.querySelectorAll);k.add("dom-qsa3",function(){try{return e.innerHTML="\x3cp class\x3d'TEST'\x3e\x3c/p\x3e",1==e.querySelectorAll(".TEST:empty").length}catch(a){}})}var a;return{load:function(b,h,e,m){if(m&&m.isBuild)e();else{m=d;b="default"==b?k("config-selectorEngine")||"css3":b;b="css2"==
b||"lite"==b?"./lite":"css2.1"==b?k("dom-qsa2.1")?"./lite":"./acme":"css3"==b?k("dom-qsa3")?"./lite":"./acme":"acme"==b?"./acme":(m=h)&&b;if("?"==b.charAt(b.length-1)){b=b.substring(0,b.length-1);var g=!0}if(g&&(k("dom-compliant-qsa")||a))return e(a);m([b],function(f){"./lite"!=b&&(a=f);e(f)})}}}})},"dojo/selector/lite":function(){define(["../has","../_base/kernel"],function(k,d){var e=document.createElement("div"),a=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector,
b=e.querySelectorAll,h=/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g;k.add("dom-matches-selector",!!a);k.add("dom-qsa",!!b);var l=function(a,h){if(f&&-1<a.indexOf(","))return f(a,h);var e=h?h.ownerDocument||h:d.doc||document,s=(b?/^([\w]*)#([\w\-]+$)|^(\.)([\w\-\*]+$)|^(\w+$)/:/^([\w]*)#([\w\-]+)(?:\s+(.*))?$|(?:^|(>|.+\s+))([\w\-\*]+)(\S*$)/).exec(a);h=h||e;if(s){var q=8===k("ie")&&k("quirks")?h.nodeType===e.nodeType:null!==h.parentNode&&9!==h.nodeType&&h.parentNode===e;if(s[2]&&q){var p=
d.byId?d.byId(s[2],e):e.getElementById(s[2]);if(!p||s[1]&&s[1]!=p.tagName.toLowerCase())return[];if(h!=e)for(e=p;e!=h;)if(e=e.parentNode,!e)return[];return s[3]?l(s[3],p):[p]}if(s[3]&&h.getElementsByClassName)return h.getElementsByClassName(s[4]);if(s[5])if(p=h.getElementsByTagName(s[5]),s[4]||s[6])a=(s[4]||"")+s[6];else return p}if(b)return 1===h.nodeType&&"object"!==h.nodeName.toLowerCase()?m(h,a,h.querySelectorAll):h.querySelectorAll(a);p||(p=h.getElementsByTagName("*"));s=[];e=0;for(q=p.length;e<
q;e++){var t=p[e];1==t.nodeType&&g(t,a,h)&&s.push(t)}return s},m=function(a,b,f){var g=a,d=a.getAttribute("id"),e=d||"__dojo__",l=a.parentNode,m=/^\s*[+~]/.test(b);if(m&&!l)return[];d?e=e.replace(/'/g,"\\$\x26"):a.setAttribute("id",e);m&&l&&(a=a.parentNode);b=b.match(h);for(l=0;l<b.length;l++)b[l]="[id\x3d'"+e+"'] "+b[l];b=b.join(",");try{return f.call(a,b)}finally{d||g.removeAttribute("id")}};if(!k("dom-matches-selector"))var g=function(){function a(c,b,f){var g=b.charAt(0);if('"'==g||"'"==g)b=b.slice(1,
-1);b=b.replace(/\\/g,"");var d=l[f||""];return function(a){return(a=a.getAttribute(c))&&d(a,b)}}function b(a){return function(c,b){for(;(c=c.parentNode)!=b;)if(a(c,b))return!0}}function f(a){return function(c,b){c=c.parentNode;return a?c!=b&&a(c,b):c==b}}function g(a,c){return a?function(b,f){return c(b)&&a(b,f)}:c}var d="div"==e.tagName?"toLowerCase":"toUpperCase",h={"":function(a){a=a[d]();return function(c){return c.tagName==a}},".":function(a){var c=" "+a+" ";return function(b){return-1<b.className.indexOf(a)&&
-1<(" "+b.className+" ").indexOf(c)}},"#":function(a){return function(c){return c.id==a}}},l={"^\x3d":function(a,c){return 0==a.indexOf(c)},"*\x3d":function(a,c){return-1<a.indexOf(c)},"$\x3d":function(a,c){return a.substring(a.length-c.length,a.length)==c},"~\x3d":function(a,c){return-1<(" "+a+" ").indexOf(" "+c+" ")},"|\x3d":function(a,c){return 0==(a+"-").indexOf(c+"-")},"\x3d":function(a,c){return a==c},"":function(a,c){return!0}},m={};return function(d,e,l){var k=m[e];if(!k){if(e.replace(/(?:\s*([> ])\s*)|(#|\.)?((?:\\.|[\w-])+)|\[\s*([\w-]+)\s*(.?=)?\s*("(?:\\.|[^"])+"|'(?:\\.|[^'])+'|(?:\\.|[^\]])*)\s*\]/g,
function(d,e,l,m,t,q,u){m?k=g(k,h[l||""](m.replace(/\\/g,""))):e?k=(" "==e?b:f)(k):t&&(k=g(k,a(t,u,q)));return""}))throw Error("Syntax error in query");if(!k)return!0;m[e]=k}return k(d,l)}}();if(!k("dom-qsa"))var f=function(a,b){for(var f=a.match(h),g=[],d=0;d<f.length;d++){a=new String(f[d].replace(/\s*$/,""));a.indexOf=escape;for(var e=l(a,b),m=0,k=e.length;m<k;m++){var v=e[m];g[v.sourceIndex]=v}}f=[];for(d in g)f.push(g[d]);return f};l.match=a?function(c,b,f){return f&&9!=f.nodeType?m(f,b,function(b){return a.call(c,
b)}):a.call(c,b)}:g;return l})},"dijit/_OnDijitClickMixin":function(){define("dojo/on dojo/_base/array dojo/keys dojo/_base/declare dojo/has ./a11yclick".split(" "),function(k,d,e,a,b,h){k=a("dijit._OnDijitClickMixin",null,{connect:function(a,b,g){return this.inherited(arguments,[a,"ondijitclick"==b?h:b,g])}});k.a11yclick=h;return k})},"dijit/a11yclick":function(){define(["dojo/keys","dojo/mouse","dojo/on","dojo/touch"],function(k,d,e,a){function b(a){if((a.keyCode===k.ENTER||a.keyCode===k.SPACE)&&
!/input|button|textarea/i.test(a.target.nodeName))for(a=a.target;a;a=a.parentNode)if(a.dojoClick)return!0}var h;e(document,"keydown",function(a){b(a)?(h=a.target,a.preventDefault()):h=null});e(document,"keyup",function(a){b(a)&&a.target==h&&(h=null,e.emit(a.target,"click",{cancelable:!0,bubbles:!0,ctrlKey:a.ctrlKey,shiftKey:a.shiftKey,metaKey:a.metaKey,altKey:a.altKey,_origType:a.type}))});var l=function(a,b){a.dojoClick=!0;return e(a,"click",b)};l.click=l;l.press=function(b,g){var f=e(b,a.press,
function(a){("mousedown"!=a.type||d.isLeft(a))&&g(a)}),c=e(b,"keydown",function(a){(a.keyCode===k.ENTER||a.keyCode===k.SPACE)&&g(a)});return{remove:function(){f.remove();c.remove()}}};l.release=function(b,g){var f=e(b,a.release,function(a){("mouseup"!=a.type||d.isLeft(a))&&g(a)}),c=e(b,"keyup",function(a){(a.keyCode===k.ENTER||a.keyCode===k.SPACE)&&g(a)});return{remove:function(){f.remove();c.remove()}}};l.move=a.move;return l})},"dijit/_FocusMixin":function(){define(["./focus","./_WidgetBase","dojo/_base/declare",
"dojo/_base/lang"],function(k,d,e,a){a.extend(d,{focused:!1,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus()},_onBlur:function(){this.onBlur()}});return e("dijit._FocusMixin",null,{_focusManager:k})})},"dijit/focus":function(){define("dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/Evented dojo/_base/lang dojo/on dojo/domReady dojo/sniff dojo/Stateful dojo/_base/window dojo/window ./a11y ./registry ./main".split(" "),function(k,
d,e,a,b,h,l,m,g,f,c,n,r,s,q,p,t){var u,v,w=new (d([n,l],{curNode:null,activeStack:[],constructor:function(){var a=m.hitch(this,function(a){e.isDescendant(this.curNode,a)&&this.set("curNode",null);e.isDescendant(this.prevNode,a)&&this.set("prevNode",null)});k.before(h,"empty",a);k.before(h,"destroy",a)},registerIframe:function(a){return this.registerWin(a.contentWindow,a)},registerWin:function(a,b){var f=this,d=a.document&&a.document.body;if(d){var h=c("pointer-events")?"pointerdown":c("MSPointer")?
"MSPointerDown":c("touch-events")?"mousedown, touchstart":"mousedown",e=g(a.document,h,function(a){if(!a||!(a.target&&null==a.target.parentNode))f._onTouchNode(b||a.target,"mouse")}),l=g(d,"focusin",function(a){if(a.target.tagName){var c=a.target.tagName.toLowerCase();"#document"==c||"body"==c||(q.isFocusable(a.target)?f._onFocusNode(b||a.target):f._onTouchNode(b||a.target))}}),m=g(d,"focusout",function(a){f._onBlurNode(b||a.target)});return{remove:function(){e.remove();l.remove();m.remove();d=e=
l=m=null}}}},_onBlurNode:function(a){a=(new Date).getTime();a<u+100||(this._clearFocusTimer&&clearTimeout(this._clearFocusTimer),this._clearFocusTimer=setTimeout(m.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null)}),0),this._clearActiveWidgetsTimer&&clearTimeout(this._clearActiveWidgetsTimer),a<v+100||(this._clearActiveWidgetsTimer=setTimeout(m.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([])}),0)))},_onTouchNode:function(c,f){v=(new Date).getTime();
this._clearActiveWidgetsTimer&&(clearTimeout(this._clearActiveWidgetsTimer),delete this._clearActiveWidgetsTimer);b.contains(c,"dijitPopup")&&(c=c.firstChild);var g=[];try{for(;c;){var d=a.get(c,"dijitPopupParent");if(d)c=p.byId(d).domNode;else if(c.tagName&&"body"==c.tagName.toLowerCase()){if(c===r.body())break;c=s.get(c.ownerDocument).frameElement}else{var h=c.getAttribute&&c.getAttribute("widgetId"),e=h&&p.byId(h);e&&!("mouse"==f&&e.get("disabled"))&&g.unshift(h);c=c.parentNode}}}catch(l){}this._setStack(g,
f)},_onFocusNode:function(a){a&&9!=a.nodeType&&(u=(new Date).getTime(),this._clearFocusTimer&&(clearTimeout(this._clearFocusTimer),delete this._clearFocusTimer),this._onTouchNode(a),a!=this.curNode&&(this.set("prevNode",this.curNode),this.set("curNode",a)))},_setStack:function(a,c){var b=this.activeStack,f=b.length-1,g=a.length-1;if(a[g]!=b[f]){this.set("activeStack",a);var d;for(d=f;0<=d&&b[d]!=a[d];d--)if(f=p.byId(b[d]))f._hasBeenBlurred=!0,f.set("focused",!1),f._focusManager==this&&f._onBlur(c),
this.emit("widget-blur",f,c);for(d++;d<=g;d++)if(f=p.byId(a[d]))f.set("focused",!0),f._focusManager==this&&f._onFocus(c),this.emit("widget-focus",f,c)}},focus:function(a){if(a)try{a.focus()}catch(c){}}}));f(function(){var a=w.registerWin(s.get(document));c("ie")&&g(window,"unload",function(){a&&(a.remove(),a=null)})});t.focus=function(a){w.focus(a)};for(var x in w)/^_/.test(x)||(t.focus[x]="function"==typeof w[x]?m.hitch(w,x):w[x]);w.watch(function(a,c,b){t.focus[a]=b});return w})},"dijit/a11y":function(){define("dojo/_base/array dojo/dom dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/sniff ./main".split(" "),
function(k,d,e,a,b,h,l){var m={_isElementShown:function(b){var f=a.get(b);return"hidden"!=f.visibility&&"collapsed"!=f.visibility&&"none"!=f.display&&"hidden"!=e.get(b,"type")},hasDefaultTabStop:function(a){switch(a.nodeName.toLowerCase()){case "a":return e.has(a,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return!0;case "iframe":var b;try{var c=a.contentDocument;if("designMode"in c&&"on"==c.designMode)return!0;b=c.body}catch(d){try{b=a.contentWindow.document.body}catch(h){return!1}}return b&&
("true"==b.contentEditable||b.firstChild&&"true"==b.firstChild.contentEditable);default:return"true"==a.contentEditable}},effectiveTabIndex:function(a){return e.get(a,"disabled")?void 0:e.has(a,"tabIndex")?+e.get(a,"tabIndex"):m.hasDefaultTabStop(a)?0:void 0},isTabNavigable:function(a){return 0<=m.effectiveTabIndex(a)},isFocusable:function(a){return-1<=m.effectiveTabIndex(a)},_getTabNavigable:function(a){function b(a){return a&&"input"==a.tagName.toLowerCase()&&a.type&&"radio"==a.type.toLowerCase()&&
a.name&&a.name.toLowerCase()}var c,d,l,k,q,p,t={},u=m._isElementShown,v=m.effectiveTabIndex,w=function(a){for(a=a.firstChild;a;a=a.nextSibling)if(!(1!=a.nodeType||9>=h("ie")&&"HTML"!==a.scopeName||!u(a))){var g=v(a);if(0<=g){if(0==g)c||(c=a),d=a;else if(0<g){if(!l||g<k)k=g,l=a;if(!q||g>=p)p=g,q=a}g=b(a);e.get(a,"checked")&&g&&(t[g]=a)}"SELECT"!=a.nodeName.toUpperCase()&&w(a)}};u(a)&&w(a);return{first:t[b(c)]||c,last:t[b(d)]||d,lowest:t[b(l)]||l,highest:t[b(q)]||q}},getFirstInTabbingOrder:function(a,
b){var c=m._getTabNavigable(d.byId(a,b));return c.lowest?c.lowest:c.first},getLastInTabbingOrder:function(a,b){var c=m._getTabNavigable(d.byId(a,b));return c.last?c.last:c.highest}};b.mixin(l,m);return m})},"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./domReady","./sniff","./_base/window"],function(k,d,e,a,b){var h=b.doc.documentElement;b=a("ie");var l=a("trident"),m=a("opera"),g=Math.floor,f=a("ff"),c=k.boxModel.replace(/-/,""),m={dj_quirks:a("quirks"),dj_opera:m,dj_khtml:a("khtml"),
dj_webkit:a("webkit"),dj_safari:a("safari"),dj_chrome:a("chrome"),dj_edge:a("edge"),dj_gecko:a("mozilla"),dj_ios:a("ios"),dj_android:a("android")};b&&(m.dj_ie=!0,m["dj_ie"+g(b)]=!0,m.dj_iequirks=a("quirks"));l&&(m.dj_trident=!0,m["dj_trident"+g(l)]=!0);f&&(m["dj_ff"+g(f)]=!0);m["dj_"+c]=!0;var n="",r;for(r in m)m[r]&&(n+=r+" ");h.className=d.trim(h.className+" "+n);e(function(){if(!k.isBodyLtr()){var a="dj_rtl dijitRtl "+n.replace(/ /g,"-rtl ");h.className=d.trim(h.className+" "+a+"dj_rtl dijitRtl "+
n.replace(/ /g,"-rtl "))}});return a})},"dijit/hccss":function(){define(["dojo/dom-class","dojo/hccss","dojo/domReady","dojo/_base/window"],function(k,d,e,a){e(function(){d("highcontrast")&&k.add(a.body(),"dijit_a11y")});return d})},"dojo/hccss":function(){define("require ./_base/config ./dom-class ./dom-style ./has ./domReady ./_base/window".split(" "),function(k,d,e,a,b,h,l){b.add("highcontrast",function(){var h=l.doc.createElement("div");try{h.style.cssText='border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;background-image: url("'+
(d.blankGif||k.toUrl("./resources/blank.gif"))+'");';l.body().appendChild(h);var g=a.getComputedStyle(h),f=g.backgroundImage;return g.borderTopColor==g.borderRightColor||f&&("none"==f||"url(invalid-url:)"==f)}catch(c){return!1}finally{8>=b("ie")?h.outerHTML="":l.body().removeChild(h)}});h(function(){b("highcontrast")&&e.add(l.body(),"dj_a11y")});return b})},"dijit/BackgroundIframe":function(){define("require ./main dojo/_base/config dojo/dom-construct dojo/dom-style dojo/_base/lang dojo/on dojo/sniff".split(" "),
function(k,d,e,a,b,h,l,m){m.add("config-bgIframe",m("ie")&&!/IEMobile\/10\.0/.test(navigator.userAgent)||m("trident")&&/Windows NT 6.[01]/.test(navigator.userAgent));var g=new function(){var f=[];this.pop=function(){var c;f.length?(c=f.pop(),c.style.display=""):(9>m("ie")?(c="\x3ciframe src\x3d'"+(e.dojoBlankHtmlUrl||k.toUrl("dojo/resources/blank.html")||'javascript:""')+"' role\x3d'presentation' style\x3d'position: absolute; left: 0px; top: 0px;z-index: -1; filter:Alpha(Opacity\x3d\"0\");'\x3e",
c=document.createElement(c)):(c=a.create("iframe"),c.src='javascript:""',c.className="dijitBackgroundIframe",c.setAttribute("role","presentation"),b.set(c,"opacity",0.1)),c.tabIndex=-1);return c};this.push=function(a){a.style.display="none";f.push(a)}};d.BackgroundIframe=function(a){if(!a.id)throw Error("no id");if(m("config-bgIframe")){var c=this.iframe=g.pop();a.appendChild(c);7>m("ie")||m("quirks")?(this.resize(a),this._conn=l(a,"resize",h.hitch(this,"resize",a))):b.set(c,{width:"100%",height:"100%"})}};
h.extend(d.BackgroundIframe,{resize:function(a){this.iframe&&b.set(this.iframe,{width:a.offsetWidth+"px",height:a.offsetHeight+"px"})},destroy:function(){this._conn&&(this._conn.remove(),this._conn=null);this.iframe&&(this.iframe.parentNode.removeChild(this.iframe),g.push(this.iframe),delete this.iframe)}});return d.BackgroundIframe})},"dgrid/extensions/DnD":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/Deferred dojo/aspect dojo/on dojo/topic dojo/has dojo/dnd/Source dojo/dnd/Manager dojo/_base/NodeList put-selector/put ../Selection ../util/touch ./_DnD-touch-autoscroll xstyle/css!dojo/resources/dnd.css".split(" "),
function(k,d,e,a,b,h,l,m,g,f,c,n,r,s){var q=k(g,{grid:null,getObject:function(a){var c=this.grid;return c.store.get(a.id.slice(c.id.length+5))},_legalMouseDown:function(a){return this.inherited(arguments)&&a.target!=this.grid.bodyNode},onDrop:function(c,b,f){var g=this,d=this._targetAnchor=this.targetAnchor,h=this.grid,e=h.store;!this.before&&d&&(d=d.nextSibling);d=d&&h.row(d);a.when(d&&e.get(d.id),function(a){if(g!=c)g.onDropExternal(c,b,f,a);else g.onDropInternal(b,f,a)})},onDropInternal:function(c,
b,f){var g=this.grid,d=g.store,h=this,e=h._targetAnchor,l;e&&(l=this.before?e.previousSibling:e.nextSibling);e=g.row(c[0]);(b||!(l===c[0]||!f&&e&&g.down(e).element==c[0]))&&c.forEach(function(c){a.when(h.getObject(c),function(a){var c=d.getIdentity(a);d[b&&d.copy?"copy":"put"](a,{before:f});h._selectedNodes[c]&&(h._selectedNodes[c]=g.row(c).element)})})},onDropExternal:function(c,b,f,g){var d=this.grid.store,h=c.grid;b.forEach(function(b,e){a.when(c.getObject(b),function(l){f||(h?a.when(h.store.getIdentity(l),
function(a){!e&&c.selectNone();c.delItem(b.id);h.store.remove(a)}):c.deleteSelectedNodes());d[d.copy?"copy":"put"](l,{before:g})})})},onDndStart:function(a,c,b){this.inherited(arguments);a==this&&(this.grid.cancelTouchScroll&&this.grid.cancelTouchScroll(),f.manager().avatar.node.style.width=this.grid.domNode.offsetWidth/2+"px")},onMouseDown:function(a){m("touch")&&this.isDragging&&1<s.countCurrentTouches(a,this.grid.touchNode)?(l.publish("/dnd/cancel"),f.manager().stopDrag()):this.inherited(arguments)},
onMouseMove:function(a){(!m("touch")||1>=s.countCurrentTouches(a,this.grid.touchNode))&&this.inherited(arguments)},checkAcceptance:function(a,c){return a.getObject&&g.prototype.checkAcceptance.apply(this,arguments)},getSelectedNodes:function(){if(!this.grid.selection)return this.inherited(arguments);var a=new c,b;for(b in this.grid.selection)a.push(this._selectedNodes[b]);return a}});k=k(r,{dndSourceType:"dgrid-row",dndParams:null,dndConstructor:q,postMixInProperties:function(){this.inherited(arguments);
this.dndParams=d.mixin({accept:[this.dndSourceType]},this.dndParams)},postCreate:function(){function a(c){f[c.id]=c.element}function c(a){delete f[a.id];n(a.element,"!dojoDndItemSelected!dojoDndItemAnchor")}this.inherited(arguments);this.dndSource=new (this.dndConstructor||q)(this.bodyNode,d.mixin(this.dndParams,{grid:this,dropParent:this.contentNode}));var f=this.dndSource._selectedNodes={};this.on("dgrid-select",function(c){e.forEach(c.rows,a)});this.on("dgrid-deselect",function(a){e.forEach(a.rows,
c)});b.after(this,"destroy",function(){delete this.dndSource._selectedNodes;f=null;this.dndSource.destroy()},!0)},insertRow:function(a){var c=this.inherited(arguments),b="function"==typeof this.getObjectDndType?this.getObjectDndType(a):[this.dndSourceType];n(c,".dojoDndItem");this.dndSource.setItem(c.id,{data:a,type:b instanceof Array?b:[b]});return c},removeRow:function(a){this.dndSource.delItem(this.row(a));this.inherited(arguments)}});k.GridSource=q;return k})},"dojo/_base/Deferred":function(){define("./kernel ../Deferred ../promise/Promise ../errors/CancelError ../has ./lang ../when".split(" "),
function(k,d,e,a,b,h,l){var m=function(){},g=Object.freeze||function(){},f=k.Deferred=function(c){function l(a){if(q)throw Error("This deferred has already been resolved");k=a;q=!0;r()}function r(){for(var a;!a&&w;){var c=w;w=w.next;if(a=c.progress==m)q=!1;var f=u?c.error:c.resolved;b("config-useDeferredInstrumentation")&&u&&d.instrumentRejected&&d.instrumentRejected(k,!!f);if(f)try{var g=f(k);g&&"function"===typeof g.then?g.then(h.hitch(c.deferred,"resolve"),h.hitch(c.deferred,"reject"),h.hitch(c.deferred,
"progress")):(f=a&&void 0===g,a&&!f&&(u=g instanceof Error),c.deferred[f&&u?"reject":"resolve"](f?k:g))}catch(e){c.deferred.reject(e)}else u?c.deferred.reject(k):c.deferred.resolve(k)}}var k,q,p,t,u,v,w,x=this.promise=new e;this.isResolved=x.isResolved=function(){return 0==t};this.isRejected=x.isRejected=function(){return 1==t};this.isFulfilled=x.isFulfilled=function(){return 0<=t};this.isCanceled=x.isCanceled=function(){return p};this.resolve=this.callback=function(a){this.fired=t=0;this.results=
[a,null];l(a)};this.reject=this.errback=function(a){u=!0;this.fired=t=1;b("config-useDeferredInstrumentation")&&d.instrumentRejected&&d.instrumentRejected(a,!!w);l(a);this.results=[null,a]};this.progress=function(a){for(var c=w;c;){var b=c.progress;b&&b(a);c=c.next}};this.addCallbacks=function(a,c){this.then(a,c,m);return this};x.then=this.then=function(a,c,b){var g=b==m?this:new f(x.cancel);a={resolved:a,error:c,progress:b,deferred:g};w?v=v.next=a:w=v=a;q&&r();return g.promise};var y=this;x.cancel=
this.cancel=function(){if(!q){var b=c&&c(y);q||(b instanceof Error||(b=new a(b)),b.log=!1,y.reject(b))}p=!0};g(x)};h.extend(f,{addCallback:function(a){return this.addCallbacks(h.hitch.apply(k,arguments))},addErrback:function(a){return this.addCallbacks(null,h.hitch.apply(k,arguments))},addBoth:function(a){var b=h.hitch.apply(k,arguments);return this.addCallbacks(b,b)},fired:-1});f.when=k.when=l;return f})},"dojo/dnd/Source":function(){define("../_base/array ../_base/declare ../_base/kernel ../_base/lang ../dom-class ../dom-geometry ../mouse ../ready ../topic ./common ./Selector ./Manager".split(" "),
function(k,d,e,a,b,h,l,m,g,f,c,n){e.isAsync||m(0,function(){require(["dojo/dnd/AutoSource","dojo/dnd/Target"])});var r=d("dojo.dnd.Source",c,{isSource:!0,horizontal:!1,copyOnly:!1,selfCopy:!1,selfAccept:!0,skipForm:!1,withHandles:!1,autoSync:!1,delay:0,accept:["text"],generateText:!0,constructor:function(c,f){a.mixin(this,a.mixin({},f));var d=this.accept;if(d.length){this.accept={};for(var h=0;h<d.length;++h)this.accept[d[h]]=1}this.mouseDown=this.isDragging=!1;this.targetBox=this.targetAnchor=null;
this.before=!0;this._lastY=this._lastX=0;this.sourceState="";this.isSource&&b.add(this.node,"dojoDndSource");this.targetState="";this.accept&&b.add(this.node,"dojoDndTarget");this.horizontal&&b.add(this.node,"dojoDndHorizontal");this.topics=[g.subscribe("/dnd/source/over",a.hitch(this,"onDndSourceOver")),g.subscribe("/dnd/start",a.hitch(this,"onDndStart")),g.subscribe("/dnd/drop",a.hitch(this,"onDndDrop")),g.subscribe("/dnd/cancel",a.hitch(this,"onDndCancel"))]},checkAcceptance:function(a,c){if(this==
a)return!this.copyOnly||this.selfAccept;for(var b=0;b<c.length;++b){for(var f=a.getItem(c[b].id).type,g=!1,d=0;d<f.length;++d)if(f[d]in this.accept){g=!0;break}if(!g)return!1}return!0},copyState:function(a,c){if(a)return!0;2>arguments.length&&(c=this==n.manager().target);if(c){if(this.copyOnly)return this.selfCopy}else return this.copyOnly;return!1},destroy:function(){r.superclass.destroy.call(this);k.forEach(this.topics,function(a){a.remove()});this.targetAnchor=null},onMouseMove:function(a){if(!(this.isDragging&&
"Disabled"==this.targetState)){r.superclass.onMouseMove.call(this,a);var c=n.manager();if(!this.isDragging&&this.mouseDown&&this.isSource&&(Math.abs(a.pageX-this._lastX)>this.delay||Math.abs(a.pageY-this._lastY)>this.delay)){var b=this.getSelectedNodes();b.length&&c.startDrag(this,b,this.copyState(f.getCopyKeyState(a),!0))}if(this.isDragging){b=!1;if(this.current){if(!this.targetBox||this.targetAnchor!=this.current)this.targetBox=h.position(this.current,!0);b=this.horizontal?a.pageX-this.targetBox.x<
this.targetBox.w/2==h.isBodyLtr(this.current.ownerDocument):a.pageY-this.targetBox.y<this.targetBox.h/2}if(this.current!=this.targetAnchor||b!=this.before)this._markTargetAnchor(b),c.canDrop(!this.current||c.source!=this||!(this.current.id in this.selection))}}},onMouseDown:function(a){if(!this.mouseDown&&this._legalMouseDown(a)&&(!this.skipForm||!f.isFormElement(a)))this.mouseDown=!0,this._lastX=a.pageX,this._lastY=a.pageY,r.superclass.onMouseDown.call(this,a)},onMouseUp:function(a){this.mouseDown&&
(this.mouseDown=!1,r.superclass.onMouseUp.call(this,a))},onDndSourceOver:function(a){this!==a?(this.mouseDown=!1,this.targetAnchor&&this._unmarkTargetAnchor()):this.isDragging&&(a=n.manager(),a.canDrop("Disabled"!=this.targetState&&(!this.current||a.source!=this||!(this.current.id in this.selection))))},onDndStart:function(a,c,b){this.autoSync&&this.sync();this.isSource&&this._changeState("Source",this==a?b?"Copied":"Moved":"");c=this.accept&&this.checkAcceptance(a,c);this._changeState("Target",c?
"":"Disabled");this==a&&n.manager().overSource(this);this.isDragging=!0},onDndDrop:function(a,c,b,f){if(this==f)this.onDrop(a,c,b);this.onDndCancel()},onDndCancel:function(){this.targetAnchor&&(this._unmarkTargetAnchor(),this.targetAnchor=null);this.before=!0;this.mouseDown=this.isDragging=!1;this._changeState("Source","");this._changeState("Target","")},onDrop:function(a,c,b){if(this!=a)this.onDropExternal(a,c,b);else this.onDropInternal(c,b)},onDropExternal:function(a,c,b){var g=this._normalizedCreator;
this._normalizedCreator=this.creator?function(c,b){return g.call(this,a.getItem(c.id).data,b)}:b?function(c){var b=a.getItem(c.id);c=c.cloneNode(!0);c.id=f.getUniqueId();return{node:c,data:b.data,type:b.type}}:function(c){var b=a.getItem(c.id);a.delItem(c.id);return{node:c,data:b.data,type:b.type}};this.selectNone();!b&&!this.creator&&a.selectNone();this.insertNodes(!0,c,this.before,this.current);!b&&this.creator&&a.deleteSelectedNodes();this._normalizedCreator=g},onDropInternal:function(a,c){var b=
this._normalizedCreator;if(!(this.current&&this.current.id in this.selection)){if(c)this._normalizedCreator=this.creator?function(a,c){return b.call(this,this.getItem(a.id).data,c)}:function(a){var c=this.getItem(a.id);a=a.cloneNode(!0);a.id=f.getUniqueId();return{node:a,data:c.data,type:c.type}};else{if(!this.current)return;this._normalizedCreator=function(a){var c=this.getItem(a.id);return{node:a,data:c.data,type:c.type}}}this._removeSelection();this.insertNodes(!0,a,this.before,this.current);this._normalizedCreator=
b}},onDraggingOver:function(){},onDraggingOut:function(){},onOverEvent:function(){r.superclass.onOverEvent.call(this);n.manager().overSource(this);if(this.isDragging&&"Disabled"!=this.targetState)this.onDraggingOver()},onOutEvent:function(){r.superclass.onOutEvent.call(this);n.manager().outSource(this);if(this.isDragging&&"Disabled"!=this.targetState)this.onDraggingOut()},_markTargetAnchor:function(a){this.current==this.targetAnchor&&this.before==a||(this.targetAnchor&&this._removeItemClass(this.targetAnchor,
this.before?"Before":"After"),this.targetAnchor=this.current,this.targetBox=null,this.before=a,this.targetAnchor&&this._addItemClass(this.targetAnchor,this.before?"Before":"After"))},_unmarkTargetAnchor:function(){this.targetAnchor&&(this._removeItemClass(this.targetAnchor,this.before?"Before":"After"),this.targetBox=this.targetAnchor=null,this.before=!0)},_markDndStatus:function(a){this._changeState("Source",a?"Copied":"Moved")},_legalMouseDown:function(a){if("touchstart"!=a.type&&!l.isLeft(a))return!1;
if(!this.withHandles)return!0;for(a=a.target;a&&a!==this.node;a=a.parentNode){if(b.contains(a,"dojoDndHandle"))return!0;if(b.contains(a,"dojoDndItem")||b.contains(a,"dojoDndIgnore"))break}return!1}});return r})},"dojo/dnd/common":function(){define(["../sniff","../_base/kernel","../_base/lang","../dom"],function(k,d,e,a){var b=e.getObject("dojo.dnd",!0);b.getCopyKeyState=function(a){return a[k("mac")?"metaKey":"ctrlKey"]};b._uniqueId=0;b.getUniqueId=function(){var h;do h=d._scopeName+"Unique"+ ++b._uniqueId;
while(a.byId(h));return h};b._empty={};b.isFormElement=function(a){a=a.target;3==a.nodeType&&(a=a.parentNode);return 0<=" a button textarea input select option ".indexOf(" "+a.tagName.toLowerCase()+" ")};return b})},"dojo/dnd/Selector":function(){define("../_base/array ../_base/declare ../_base/kernel ../_base/lang ../dom ../dom-construct ../mouse ../_base/NodeList ../on ../touch ./common ./Container".split(" "),function(k,d,e,a,b,h,l,m,g,f,c,n){var r=d("dojo.dnd.Selector",n,{constructor:function(c,
b){b||(b={});this.singular=b.singular;this.autoSync=b.autoSync;this.selection={};this.anchor=null;this.simpleSelection=!1;this.events.push(g(this.node,f.press,a.hitch(this,"onMouseDown")),g(this.node,f.release,a.hitch(this,"onMouseUp")))},singular:!1,getSelectedNodes:function(){var a=new m,f=c._empty,g;for(g in this.selection)g in f||a.push(b.byId(g));return a},selectNone:function(){return this._removeSelection()._removeAnchor()},selectAll:function(){this.forInItems(function(a,c){this._addItemClass(b.byId(c),
"Selected");this.selection[c]=1},this);return this._removeAnchor()},deleteSelectedNodes:function(){var a=c._empty,f;for(f in this.selection)if(!(f in a)){var g=b.byId(f);this.delItem(f);h.destroy(g)}this.anchor=null;this.selection={};return this},forInSelectedItems:function(a,b){b=b||e.global;var f=this.selection,g=c._empty,d;for(d in f)d in g||a.call(b,this.getItem(d),d,this)},sync:function(){r.superclass.sync.call(this);this.anchor&&!this.getItem(this.anchor.id)&&(this.anchor=null);var a=[],b=c._empty,
f;for(f in this.selection)f in b||this.getItem(f)||a.push(f);k.forEach(a,function(a){delete this.selection[a]},this);return this},insertNodes:function(a,c,b,f){var g=this._normalizedCreator;this._normalizedCreator=function(c,b){var f=g.call(this,c,b);a?(this.anchor?this.anchor!=f.node&&(this._removeItemClass(f.node,"Anchor"),this._addItemClass(f.node,"Selected")):(this.anchor=f.node,this._removeItemClass(f.node,"Selected"),this._addItemClass(this.anchor,"Anchor")),this.selection[f.node.id]=1):(this._removeItemClass(f.node,
"Selected"),this._removeItemClass(f.node,"Anchor"));return f};r.superclass.insertNodes.call(this,c,b,f);this._normalizedCreator=g;return this},destroy:function(){r.superclass.destroy.call(this);this.selection=this.anchor=null},onMouseDown:function(a){this.autoSync&&this.sync();if(this.current)if(!this.singular&&!c.getCopyKeyState(a)&&!a.shiftKey&&this.current.id in this.selection)this.simpleSelection=!0,l.isLeft(a)&&(a.stopPropagation(),a.preventDefault());else{if(!this.singular&&a.shiftKey){c.getCopyKeyState(a)||
this._removeSelection();var b=this.getAllNodes();if(b.length&&(this.anchor||(this.anchor=b[0],this._addItemClass(this.anchor,"Anchor")),this.selection[this.anchor.id]=1,this.anchor!=this.current)){for(var f=0,g;f<b.length&&!(g=b[f],g==this.anchor||g==this.current);++f);for(++f;f<b.length;++f){g=b[f];if(g==this.anchor||g==this.current)break;this._addItemClass(g,"Selected");this.selection[g.id]=1}this._addItemClass(this.current,"Selected");this.selection[this.current.id]=1}}else this.singular?this.anchor==
this.current?c.getCopyKeyState(a)&&this.selectNone():(this.selectNone(),this.anchor=this.current,this._addItemClass(this.anchor,"Anchor"),this.selection[this.current.id]=1):c.getCopyKeyState(a)?this.anchor==this.current?(delete this.selection[this.anchor.id],this._removeAnchor()):this.current.id in this.selection?(this._removeItemClass(this.current,"Selected"),delete this.selection[this.current.id]):(this.anchor&&(this._removeItemClass(this.anchor,"Anchor"),this._addItemClass(this.anchor,"Selected")),
this.anchor=this.current,this._addItemClass(this.current,"Anchor"),this.selection[this.current.id]=1):this.current.id in this.selection||(this.selectNone(),this.anchor=this.current,this._addItemClass(this.current,"Anchor"),this.selection[this.current.id]=1);a.stopPropagation();a.preventDefault()}},onMouseUp:function(){this.simpleSelection&&(this.simpleSelection=!1,this.selectNone(),this.current&&(this.anchor=this.current,this._addItemClass(this.anchor,"Anchor"),this.selection[this.current.id]=1))},
onMouseMove:function(){this.simpleSelection=!1},onOverEvent:function(){this.onmousemoveEvent=g(this.node,f.move,a.hitch(this,"onMouseMove"))},onOutEvent:function(){this.onmousemoveEvent&&(this.onmousemoveEvent.remove(),delete this.onmousemoveEvent)},_removeSelection:function(){var a=c._empty,f;for(f in this.selection)if(!(f in a)){var g=b.byId(f);g&&this._removeItemClass(g,"Selected")}this.selection={};return this},_removeAnchor:function(){this.anchor&&(this._removeItemClass(this.anchor,"Anchor"),
this.anchor=null);return this}});return r})},"dojo/_base/NodeList":function(){define(["./kernel","../query","./array","./html","../NodeList-dom"],function(k,d,e){d=d.NodeList;var a=d.prototype;a.connect=d._adaptAsForEach(function(){return k.connect.apply(this,arguments)});a.coords=d._adaptAsMap(k.coords);d.events="blur focus change click error keydown keypress keyup load mousedown mouseenter mouseleave mousemove mouseout mouseover mouseup submit".split(" ");e.forEach(d.events,function(b){var d="on"+
b;a[d]=function(a,b){return this.connect(d,a,b)}});return k.NodeList=d})},"dojo/_base/html":function(){define("./kernel ../dom ../dom-style ../dom-attr ../dom-prop ../dom-class ../dom-construct ../dom-geometry".split(" "),function(k,d,e,a,b,h,l,m){k.byId=d.byId;k.isDescendant=d.isDescendant;k.setSelectable=d.setSelectable;k.getAttr=a.get;k.setAttr=a.set;k.hasAttr=a.has;k.removeAttr=a.remove;k.getNodeProp=a.getNodeProp;k.attr=function(b,f,c){return 2==arguments.length?a["string"==typeof f?"get":"set"](b,
f):a.set(b,f,c)};k.hasClass=h.contains;k.addClass=h.add;k.removeClass=h.remove;k.toggleClass=h.toggle;k.replaceClass=h.replace;k._toDom=k.toDom=l.toDom;k.place=l.place;k.create=l.create;k.empty=function(a){l.empty(a)};k._destroyElement=k.destroy=function(a){l.destroy(a)};k._getPadExtents=k.getPadExtents=m.getPadExtents;k._getBorderExtents=k.getBorderExtents=m.getBorderExtents;k._getPadBorderExtents=k.getPadBorderExtents=m.getPadBorderExtents;k._getMarginExtents=k.getMarginExtents=m.getMarginExtents;
k._getMarginSize=k.getMarginSize=m.getMarginSize;k._getMarginBox=k.getMarginBox=m.getMarginBox;k.setMarginBox=m.setMarginBox;k._getContentBox=k.getContentBox=m.getContentBox;k.setContentSize=m.setContentSize;k._isBodyLtr=k.isBodyLtr=m.isBodyLtr;k._docScroll=k.docScroll=m.docScroll;k._getIeDocumentElementOffset=k.getIeDocumentElementOffset=m.getIeDocumentElementOffset;k._fixIeBiDiScrollLeft=k.fixIeBiDiScrollLeft=m.fixIeBiDiScrollLeft;k.position=m.position;k.marginBox=function(a,b){return b?m.setMarginBox(a,
b):m.getMarginBox(a)};k.contentBox=function(a,b){return b?m.setContentSize(a,b):m.getContentBox(a)};k.coords=function(a,b){k.deprecated("dojo.coords()","Use dojo.position() or dojo.marginBox().");a=d.byId(a);var c=e.getComputedStyle(a),c=m.getMarginBox(a,c),h=m.position(a,b);c.x=h.x;c.y=h.y;return c};k.getProp=b.get;k.setProp=b.set;k.prop=function(a,f,c){return 2==arguments.length?b["string"==typeof f?"get":"set"](a,f):b.set(a,f,c)};k.getStyle=e.get;k.setStyle=e.set;k.getComputedStyle=e.getComputedStyle;
k.__toPixelValue=k.toPixelValue=e.toPixelValue;k.style=function(a,b,c){switch(arguments.length){case 1:return e.get(a);case 2:return e["string"==typeof b?"get":"set"](a,b)}return e.set(a,b,c)};return k})},"dojo/NodeList-dom":function(){define("./_base/kernel ./query ./_base/array ./_base/lang ./dom-class ./dom-construct ./dom-geometry ./dom-attr ./dom-style".split(" "),function(k,d,e,a,b,h,l,m,g){function f(a){return function(c,b,f){return 2==arguments.length?a["string"==typeof b?"get":"set"](c,b):
a.set(c,b,f)}}var c=function(a){return 1==a.length&&"string"==typeof a[0]},n=function(a){var c=a.parentNode;c&&c.removeChild(a)},r=d.NodeList,s=r._adaptWithCondition,q=r._adaptAsForEach,p=r._adaptAsMap;a.extend(r,{_normalize:function(c,b){var f=!0===c.parse;if("string"==typeof c.template){var g=c.templateFunc||k.string&&k.string.substitute;c=g?g(c.template,c):c}g=typeof c;"string"==g||"number"==g?(c=h.toDom(c,b&&b.ownerDocument),c=11==c.nodeType?a._toArray(c.childNodes):[c]):a.isArrayLike(c)?a.isArray(c)||
(c=a._toArray(c)):c=[c];f&&(c._runParse=!0);return c},_cloneNode:function(a){return a.cloneNode(!0)},_place:function(a,c,b,f){if(!(1!=c.nodeType&&"only"==b))for(var g,d=a.length,e=d-1;0<=e;e--){var l=f?this._cloneNode(a[e]):a[e];if(a._runParse&&k.parser&&k.parser.parse){g||(g=c.ownerDocument.createElement("div"));g.appendChild(l);k.parser.parse(g);for(l=g.firstChild;g.firstChild;)g.removeChild(g.firstChild)}e==d-1?h.place(l,c,b):c.parentNode.insertBefore(l,c);c=l}},position:p(l.position),attr:s(f(m),
c),style:s(f(g),c),addClass:q(b.add),removeClass:q(b.remove),toggleClass:q(b.toggle),replaceClass:q(b.replace),empty:q(h.empty),removeAttr:q(m.remove),marginBox:p(l.getMarginBox),place:function(a,c){var b=d(a)[0];return this.forEach(function(a){h.place(a,b,c)})},orphan:function(a){return(a?d._filterResult(this,a):this).forEach(n)},adopt:function(a,c){return d(a).place(this[0],c)._stash(this)},query:function(a){if(!a)return this;var c=new r;this.map(function(b){d(a,b).forEach(function(a){void 0!==
a&&c.push(a)})});return c._stash(this)},filter:function(a){var c=arguments,b=this,f=0;if("string"==typeof a){b=d._filterResult(this,c[0]);if(1==c.length)return b._stash(this);f=1}return this._wrap(e.filter(b,c[f],c[f+1]),this)},addContent:function(a,c){a=this._normalize(a,this[0]);for(var b=0,f;f=this[b];b++)a.length?this._place(a,f,c,0<b):h.empty(f);return this}});return r})},"dojo/dnd/Container":function(){define("../_base/array ../_base/declare ../_base/kernel ../_base/lang ../_base/window ../dom ../dom-class ../dom-construct ../Evented ../has ../on ../query ../touch ./common".split(" "),
function(k,d,e,a,b,h,l,m,g,f,c,n,r,s){d=d("dojo.dnd.Container",g,{skipForm:!1,allowNested:!1,constructor:function(b,f){this.node=h.byId(b);f||(f={});this.creator=f.creator||null;this.skipForm=f.skipForm;this.parent=f.dropParent&&h.byId(f.dropParent);this.map={};this.current=null;this.containerState="";l.add(this.node,"dojoDndContainer");(!f||!f._skipStartup)&&this.startup();this.events=[c(this.node,r.over,a.hitch(this,"onMouseOver")),c(this.node,r.out,a.hitch(this,"onMouseOut")),c(this.node,"dragstart",
a.hitch(this,"onSelectStart")),c(this.node,"selectstart",a.hitch(this,"onSelectStart"))]},creator:function(){},getItem:function(a){return this.map[a]},setItem:function(a,c){this.map[a]=c},delItem:function(a){delete this.map[a]},forInItems:function(a,c){c=c||e.global;var b=this.map,f=s._empty,g;for(g in b)g in f||a.call(c,b[g],g,this);return c},clearItems:function(){this.map={}},getAllNodes:function(){return n((this.allowNested?"":"\x3e ")+".dojoDndItem",this.parent)},sync:function(){var a={};this.getAllNodes().forEach(function(c){if(c.id){var b=
this.getItem(c.id);if(b){a[c.id]=b;return}}else c.id=s.getUniqueId();var b=c.getAttribute("dndType"),f=c.getAttribute("dndData");a[c.id]={data:f||c.innerHTML,type:b?b.split(/\s*,\s*/):["text"]}},this);this.map=a;return this},insertNodes:function(a,c,b){this.parent.firstChild?c?b||(b=this.parent.firstChild):b&&(b=b.nextSibling):b=null;var f;if(b)for(c=0;c<a.length;++c)f=this._normalizedCreator(a[c]),this.setItem(f.node.id,{data:f.data,type:f.type}),b.parentNode.insertBefore(f.node,b);else for(c=0;c<
a.length;++c)f=this._normalizedCreator(a[c]),this.setItem(f.node.id,{data:f.data,type:f.type}),this.parent.appendChild(f.node);return this},destroy:function(){k.forEach(this.events,function(a){a.remove()});this.clearItems();this.node=this.parent=this.current=null},markupFactory:function(a,c,b){a._skipStartup=!0;return new b(c,a)},startup:function(){if(!this.parent&&(this.parent=this.node,"table"==this.parent.tagName.toLowerCase())){var a=this.parent.getElementsByTagName("tbody");a&&a.length&&(this.parent=
a[0])}this.defaultCreator=s._defaultCreator(this.parent);this.sync()},onMouseOver:function(a){for(var c=a.relatedTarget;c&&c!=this.node;)try{c=c.parentNode}catch(b){c=null}c||(this._changeState("Container","Over"),this.onOverEvent());c=this._getChildByEvent(a);this.current!=c&&(this.current&&this._removeItemClass(this.current,"Over"),c&&this._addItemClass(c,"Over"),this.current=c)},onMouseOut:function(a){for(a=a.relatedTarget;a;){if(a==this.node)return;try{a=a.parentNode}catch(c){a=null}}this.current&&
(this._removeItemClass(this.current,"Over"),this.current=null);this._changeState("Container","");this.onOutEvent()},onSelectStart:function(a){if(!this.skipForm||!s.isFormElement(a))a.stopPropagation(),a.preventDefault()},onOverEvent:function(){},onOutEvent:function(){},_changeState:function(a,c){var b="dojoDnd"+a,f=a.toLowerCase()+"State";l.replace(this.node,b+c,b+this[f]);this[f]=c},_addItemClass:function(a,c){l.add(a,"dojoDndItem"+c)},_removeItemClass:function(a,c){l.remove(a,"dojoDndItem"+c)},
_getChildByEvent:function(a){if(a=a.target)for(var c=a.parentNode;c;a=c,c=a.parentNode)if((c==this.parent||this.allowNested)&&l.contains(a,"dojoDndItem"))return a;return null},_normalizedCreator:function(c,b){var f=(this.creator||this.defaultCreator).call(this,c,b);a.isArray(f.type)||(f.type=["text"]);f.node.id||(f.node.id=s.getUniqueId());l.add(f.node,"dojoDndItem");return f}});s._createNode=function(a){return!a?s._createSpan:function(c){return m.create(a,{innerHTML:c})}};s._createTrTd=function(a){var c=
m.create("tr");m.create("td",{innerHTML:a},c);return c};s._createSpan=function(a){return m.create("span",{innerHTML:a})};s._defaultCreatorNodes={ul:"li",ol:"li",div:"div",p:"div"};s._defaultCreator=function(c){c=c.tagName.toLowerCase();var b="tbody"==c||"thead"==c?s._createTrTd:s._createNode(s._defaultCreatorNodes[c]);return function(c,f){var g=c&&a.isObject(c),d,h;g&&c.tagName&&c.nodeType&&c.getAttribute?(d=c.getAttribute("dndData")||c.innerHTML,g=(g=c.getAttribute("dndType"))?g.split(/\s*,\s*/):
["text"],h=c):(d=g&&c.data?c.data:c,g=g&&c.type?c.type:["text"],h=("avatar"==f?s._createSpan:b)(String(d)));h.id||(h.id=s.getUniqueId());return{node:h,data:d,type:g}}};return d})},"dojo/dnd/Manager":function(){define("../_base/array ../_base/declare ../_base/lang ../_base/window ../dom-class ../Evented ../has ../keys ../on ../topic ../touch ./common ./autoscroll ./Avatar".split(" "),function(k,d,e,a,b,h,l,m,g,f,c,n,r,s){var q=d("dojo.dnd.Manager",[h],{constructor:function(){this.source=this.avatar=
null;this.nodes=[];this.copy=!0;this.target=null;this.canDropFlag=!1;this.events=[]},OFFSET_X:l("touch")?4:16,OFFSET_Y:l("touch")?4:16,overSource:function(a){this.avatar&&(this.target=a&&"Disabled"!=a.targetState?a:null,this.canDropFlag=Boolean(this.target),this.avatar.update());f.publish("/dnd/source/over",a)},outSource:function(a){this.avatar?this.target==a&&(this.target=null,this.canDropFlag=!1,this.avatar.update(),f.publish("/dnd/source/over",null)):f.publish("/dnd/source/over",null)},startDrag:function(d,
h,l){function m(a){a.preventDefault();a.stopPropagation()}r.autoScrollStart(a.doc);this.source=d;this.nodes=h;this.copy=Boolean(l);this.avatar=this.makeAvatar();a.body().appendChild(this.avatar.node);f.publish("/dnd/start",d,h,this.copy);this.events=[g(a.doc,c.move,e.hitch(this,"onMouseMove")),g(a.doc,c.release,e.hitch(this,"onMouseUp")),g(a.doc,"keydown",e.hitch(this,"onKeyDown")),g(a.doc,"keyup",e.hitch(this,"onKeyUp")),g(a.doc,"dragstart",m),g(a.body(),"selectstart",m)];b.add(a.body(),"dojoDnd"+
(l?"Copy":"Move"))},canDrop:function(a){a=Boolean(this.target&&a);this.canDropFlag!=a&&(this.canDropFlag=a,this.avatar.update())},stopDrag:function(){b.remove(a.body(),["dojoDndCopy","dojoDndMove"]);k.forEach(this.events,function(a){a.remove()});this.events=[];this.avatar.destroy();this.source=this.target=this.avatar=null;this.nodes=[]},makeAvatar:function(){return new s(this)},updateAvatar:function(){this.avatar.update()},onMouseMove:function(a){var c=this.avatar;c&&(r.autoScrollNodes(a),c=c.node.style,
c.left=a.pageX+this.OFFSET_X+"px",c.top=a.pageY+this.OFFSET_Y+"px",c=Boolean(this.source.copyState(n.getCopyKeyState(a))),this.copy!=c&&this._setCopyStatus(c));l("touch")&&a.preventDefault()},onMouseUp:function(a){if(this.avatar){if(this.target&&this.canDropFlag){var c=Boolean(this.source.copyState(n.getCopyKeyState(a)));f.publish("/dnd/drop/before",this.source,this.nodes,c,this.target,a);f.publish("/dnd/drop",this.source,this.nodes,c,this.target,a)}else f.publish("/dnd/cancel");this.stopDrag()}},
onKeyDown:function(a){if(this.avatar)switch(a.keyCode){case m.CTRL:a=Boolean(this.source.copyState(!0));this.copy!=a&&this._setCopyStatus(a);break;case m.ESCAPE:f.publish("/dnd/cancel"),this.stopDrag()}},onKeyUp:function(a){this.avatar&&a.keyCode==m.CTRL&&(a=Boolean(this.source.copyState(!1)),this.copy!=a&&this._setCopyStatus(a))},_setCopyStatus:function(c){this.copy=c;this.source._markDndStatus(this.copy);this.updateAvatar();b.replace(a.body(),"dojoDnd"+(this.copy?"Copy":"Move"),"dojoDnd"+(this.copy?
"Move":"Copy"))}});n._manager=null;q.manager=n.manager=function(){n._manager||(n._manager=new q);return n._manager};return q})},"dojo/dnd/autoscroll":function(){define("../_base/lang ../sniff ../_base/window ../dom-geometry ../dom-style ../window".split(" "),function(k,d,e,a,b,h){var l={};k.setObject("dojo.dnd.autoscroll",l);l.getViewport=h.getBox;l.V_TRIGGER_AUTOSCROLL=32;l.H_TRIGGER_AUTOSCROLL=32;l.V_AUTOSCROLL_VALUE=16;l.H_AUTOSCROLL_VALUE=16;var m,g=e.doc,f=Infinity,c=Infinity;l.autoScrollStart=
function(a){g=a;m=h.getBox(g);a=e.body(g).parentNode;f=Math.max(a.scrollHeight-m.h,0);c=Math.max(a.scrollWidth-m.w,0)};l.autoScroll=function(a){var b=m||h.getBox(g),d=e.body(g).parentNode,k=0,p=0;a.clientX<l.H_TRIGGER_AUTOSCROLL?k=-l.H_AUTOSCROLL_VALUE:a.clientX>b.w-l.H_TRIGGER_AUTOSCROLL&&(k=Math.min(l.H_AUTOSCROLL_VALUE,c-d.scrollLeft));a.clientY<l.V_TRIGGER_AUTOSCROLL?p=-l.V_AUTOSCROLL_VALUE:a.clientY>b.h-l.V_TRIGGER_AUTOSCROLL&&(p=Math.min(l.V_AUTOSCROLL_VALUE,f-d.scrollTop));window.scrollBy(k,
p)};l._validNodes={div:1,p:1,td:1};l._validOverflow={auto:1,scroll:1};l.autoScrollNodes=function(c){for(var f,g,h,m,k,u,v=0,w=0,x=c.target;x;){if(1==x.nodeType&&x.tagName.toLowerCase()in l._validNodes){h=b.getComputedStyle(x);m=h.overflow.toLowerCase()in l._validOverflow;k=h.overflowX.toLowerCase()in l._validOverflow;u=h.overflowY.toLowerCase()in l._validOverflow;if(m||k||u)f=a.getContentBox(x,h),g=a.position(x,!0);if(m||k){h=Math.min(l.H_TRIGGER_AUTOSCROLL,f.w/2);k=c.pageX-g.x;if(d("webkit")||d("opera"))k+=
e.body().scrollLeft;v=0;0<k&&k<f.w&&(k<h?v=-h:k>f.w-h&&(v=h),x.scrollLeft+=v)}if(m||u){m=Math.min(l.V_TRIGGER_AUTOSCROLL,f.h/2);u=c.pageY-g.y;if(d("webkit")||d("opera"))u+=e.body().scrollTop;w=0;0<u&&u<f.h&&(u<m?w=-m:u>f.h-m&&(w=m),x.scrollTop+=w)}if(v||w)return}try{x=x.parentNode}catch(y){x=null}}l.autoScroll(c)};return l})},"dojo/dnd/Avatar":function(){define("../_base/declare ../_base/window ../dom ../dom-attr ../dom-class ../dom-construct ../hccss ../query".split(" "),function(k,d,e,a,b,h,l,m){return k("dojo.dnd.Avatar",
null,{constructor:function(a){this.manager=a;this.construct()},construct:function(){var b=h.create("table",{"class":"dojoDndAvatar",style:{position:"absolute",zIndex:"1999",margin:"0px"}}),f=this.manager.source,c,d=h.create("tbody",null,b),e=h.create("tr",null,d),m=h.create("td",null,e),k=Math.min(5,this.manager.nodes.length),p=0;l("highcontrast")&&h.create("span",{id:"a11yIcon",innerHTML:this.manager.copy?"+":"\x3c"},m);h.create("span",{innerHTML:f.generateText?this._generateText():""},m);for(a.set(e,
{"class":"dojoDndAvatarHeader",style:{opacity:0.9}});p<k;++p)f.creator?c=f._normalizedCreator(f.getItem(this.manager.nodes[p].id).data,"avatar").node:(c=this.manager.nodes[p].cloneNode(!0),"tr"==c.tagName.toLowerCase()&&(e=h.create("table"),h.create("tbody",null,e).appendChild(c),c=e)),c.id="",e=h.create("tr",null,d),m=h.create("td",null,e),m.appendChild(c),a.set(e,{"class":"dojoDndAvatarItem",style:{opacity:(9-p)/10}});this.node=b},destroy:function(){h.destroy(this.node);this.node=!1},update:function(){b.toggle(this.node,
"dojoDndAvatarCanDrop",this.manager.canDropFlag);if(l("highcontrast")){var a=e.byId("a11yIcon"),f="+";this.manager.canDropFlag&&!this.manager.copy?f="\x3c ":!this.manager.canDropFlag&&!this.manager.copy?f="o":this.manager.canDropFlag||(f="x");a.innerHTML=f}m("tr.dojoDndAvatarHeader td span"+(l("highcontrast")?" span":""),this.node).forEach(function(a){a.innerHTML=this.manager.source.generateText?this._generateText():""},this)},_generateText:function(){return this.manager.nodes.length.toString()}})})},
"put-selector/put":function(){(function(k){var d,e=/[-+,> ]/;k([],d=function(a,b){function h(c){function b(){t&&(p&&t!=p)&&(p==c&&(d||(d=e.test(x)&&a.createDocumentFragment()))?d:p).insertBefore(t,q||null)}for(var d,k,q,p,t,u=arguments,v=u[0],w=0;w<u.length;w++){var x=u[w];if("object"==typeof x){k=!1;if(x instanceof Array){t=a.createDocumentFragment();for(var y=0;y<x.length;y++)t.appendChild(h(x[y]));x=t}if(x.nodeType)t=x,b(),p=x,q=0;else for(y in x)t[y]=x[y]}else if(k)k=!1,t.appendChild(a.createTextNode(x));
else{1>w&&(c=null);k=!0;if(v=x.replace(l,function(d,e,l,r,k,s){e&&(b(),"-"==e||"+"==e?(p=(q=t||p).parentNode,t=null,"+"==e&&(q=q.nextSibling)):("\x3c"==e?p=t=(t||p).parentNode:(","==e?p=c:t&&(p=t),t=null),q=0),t&&(p=t));if((d=!l&&r)||!t&&(l||k))"$"==d?(d=u[++w],p.appendChild(a.createTextNode(d))):(d=d||h.defaultTag,(e=f&&u[w+1]&&u[w+1].name)&&(d="\x3c"+d+' name\x3d"'+e+'"\x3e'),t=g&&~(m=d.indexOf("|"))?a.createElementNS(g[d.slice(0,m)],d.slice(m+1)):a.createElement(d));if(l)if("$"==r&&(r=u[++w]),
"#"==l)t.id=r;else if(e=(d=t.className)&&(" "+d+" ").replace(" "+r+" "," "),"."==l)t.className=d?(e+r).substring(1):r;else if("!"==x){var y;f?h("div",t,"\x3c").innerHTML="":(y=t.parentNode)&&y.removeChild(t)}else e=e.substring(1,e.length-1),e!=d&&(t.className=e);k&&("$"==s&&(s=u[++w]),"style"==k?t.style.cssText=s:(l="!"==k.charAt(0)?(k=k.substring(1))&&"removeAttribute":"setAttribute",s=""===s?k:s,g&&~(m=k.indexOf("|"))?t[l+"NS"](g[k.slice(0,m)],k.slice(m+1),s):t[l](k,s)));return""}))throw new SyntaxError("Unexpected char "+
v+" in "+x);b();p=v=t||p}}c&&d&&c.appendChild(d);return v}e=b||e;var l=/(?:\s*([-+ ,<>]))?\s*(\.|!\.?|#)?([-\w\u00A0-\uFFFF%$|]+)?(?:\[([^\]=]+)=?['"]?([^\]'"]*)['"]?\])?/g,m,g=!1;a=a||document;var f="object"==typeof a.createElement;h.addNamespace=function(c,b){a.createElementNS?(g||(g={}))[c]=b:a.namespaces.add(c,b)};h.defaultTag="div";h.forDocument=d;return h})})(function(k,d,e){e=e||d;"function"===typeof define?define([],function(){return e()}):"undefined"==typeof window?require("./node-html")(module,
e):put=e()})},"dgrid/Selection":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/Deferred dojo/on dojo/has dojo/aspect ./List ./util/has-pointer ./util/touch put-selector/put dojo/query dojo/_base/sniff".split(" "),function(k,d,e,a,b,h,l,m,g,f){function c(a,c){for(var b=a.unselectable=c?"on":"",f=a.getElementsByTagName("*"),g=f.length;--g;)"INPUT"===f[g].tagName||"TEXTAREA"===f[g].tagName||(f[g].unselectable=b)}function n(f,g){var d=f.bodyNode,e=g?"text":21>b("ff")?"-moz-none":"none";
s&&"msUserSelect"!==s?d.style[s]=e:b("dom-selectstart")?!g&&!f._selectstartHandle?f._selectstartHandle=a(d,"selectstart",function(a){var c=a.target&&a.target.tagName;"INPUT"!==c&&"TEXTAREA"!==c&&a.preventDefault()}):g&&f._selectstartHandle&&(f._selectstartHandle.remove(),delete f._selectstartHandle):(c(d,!g),!g&&!f._unselectableHandle?f._unselectableHandle=h.after(f,"renderRow",function(a){c(a,!0);return a}):g&&f._unselectableHandle&&(f._unselectableHandle.remove(),delete f._unselectableHandle))}
b.add("dom-comparedocumentposition",function(a,c,b){return!!b.compareDocumentPosition});b.add("css-user-select",function(a,c,b){a=b.style;c=["Khtml","O","ms","Moz","Webkit"];b=c.length;var f="userSelect";do if("undefined"!==typeof a[f])return f;while(b--&&(f=c[b]+"UserSelect"));return!1});b.add("dom-selectstart","undefined"!==typeof document.onselectstart);var r=b("mac")?"metaKey":"ctrlKey",s=b("css-user-select");l=m.pointer;m=m.MSPointer;var q=l?l+(m?"Down":"down"):"mousedown",p=l?l+(m?"Up":"up"):
"mouseup";return d(null,{selectionDelegate:".dgrid-row",selectionEvents:q+","+p+",dgrid-cellfocusin",selectionTouchEvents:b("touch")?g.tap:null,deselectOnRefresh:!0,allowSelectAll:!1,selection:{},selectionMode:"extended",allowTextSelection:void 0,_selectionTargetType:"rows",create:function(){this.selection={};return this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this._initSelectionEvents();var a=this.selectionMode;this.selectionMode="";this._setSelectionMode(a)},destroy:function(){this.inherited(arguments);
this._selectstartHandle&&this._selectstartHandle.remove();this._unselectableHandle&&this._unselectableHandle.remove();this._removeDeselectSignals&&this._removeDeselectSignals()},_setSelectionMode:function(a){a!=this.selectionMode&&(this.clearSelection(),this.selectionMode=a,this._selectionHandlerName="_"+a+"SelectionHandler",this._setAllowTextSelection(this.allowTextSelection))},setSelectionMode:function(a){k.deprecated("setSelectionMode(...)",'use set("selectionMode", ...) instead',"dgrid 0.4");
this.set("selectionMode",a)},_setAllowTextSelection:function(a){"undefined"!==typeof a?n(this,a):n(this,"none"===this.selectionMode);this.allowTextSelection=a},_handleSelect:function(a,c){if(this[this._selectionHandlerName]&&this.allowSelect(this.row(c))&&!("dgrid-cellfocusin"===a.type&&a.parentType===q||a.type===p&&c!=this._waitForMouseUp)){this._waitForMouseUp=null;this._selectionTriggerEvent=a;if(!a.keyCode||!a.ctrlKey||32==a.keyCode)if(!a.shiftKey&&a.type===q&&this.isSelected(c))this._waitForMouseUp=
c;else this[this._selectionHandlerName](a,c);this._selectionTriggerEvent=null}},_singleSelectionHandler:function(a,c){var b=a.keyCode?a.ctrlKey:a[r];this._lastSelected===c?this.select(c,null,!b||!this.isSelected(c)):(this.clearSelection(),this.select(c),this._lastSelected=c)},_multipleSelectionHandler:function(a,c){var b=this._lastSelected,f=a.keyCode?a.ctrlKey:a[r],g;a.shiftKey||(g=f?null:!0,b=null);this.select(c,b,g);b||(this._lastSelected=c)},_extendedSelectionHandler:function(a,c){(2===a.button?
!this.isSelected(c):!(a.keyCode?a.ctrlKey:a[r]))&&this.clearSelection(null,!0);this._multipleSelectionHandler(a,c)},_toggleSelectionHandler:function(a,c){this.select(c,null,null)},_initSelectionEvents:function(){var c=this,f=this.contentNode,d=this.selectionDelegate;this._selectionEventQueues={deselect:[],select:[]};b("touch")&&!b("pointer")&&this.selectionTouchEvents?(a(f,g.selector(d,this.selectionTouchEvents),function(a){c._handleSelect(a,this);c._ignoreMouseSelect=this}),a(f,a.selector(d,this.selectionEvents),
function(a){c._ignoreMouseSelect!==this?c._handleSelect(a,this):a.type===p&&(c._ignoreMouseSelect=null)})):a(f,a.selector(d,this.selectionEvents),function(a){c._handleSelect(a,this)});this.addKeyHandler&&this.addKeyHandler(32,function(a){c._handleSelect(a,a.target)});if(this.allowSelectAll)this.on("keydown",function(a){a[r]&&(65==a.keyCode&&!/\bdgrid-input\b/.test(a.target.className))&&(a.preventDefault(),c[c.allSelected?"clearSelection":"selectAll"]())});this._setStore&&h.after(this,"_setStore",
function(){c._updateDeselectionAspect()});this._updateDeselectionAspect()},_updateDeselectionAspect:function(){function a(b,f,g){b=f||b&&b[c.idProperty||"id"];if(null!=b&&(f=(b=c.row(b))&&c.selection[b.id]))c[g](b,null,f)}var c=this,b=this.store,f,g;this._removeDeselectSignals&&this._removeDeselectSignals();b&&b.notify?(f=h.before(b,"notify",function(c,b){c||a(c,b,"deselect")}),g=h.after(b,"notify",function(c,b){a(c,b,"select")},!0),this._removeDeselectSignals=function(){f.remove();g.remove()}):(f=
h.before(this,"removeRow",function(a,c){var b;c||(b=this.row(a))&&b.id in this.selection&&this.deselect(b)}),this._removeDeselectSignals=function(){f.remove()})},allowSelect:function(a){return!0},_fireSelectionEvent:function(c){var b=this._selectionEventQueues[c],f=this._selectionTriggerEvent,g;g={bubbles:!0,grid:this};f&&(g.parentType=f.type);g[this._selectionTargetType]=b;a.emit(this.contentNode,"dgrid-"+c,g);this._selectionEventQueues[c]=[]},_fireSelectionEvents:function(){var a=this._selectionEventQueues,
c;for(c in a)a[c].length&&this._fireSelectionEvent(c)},_select:function(a,c,b){var g,d,h;"undefined"===typeof b&&(b=!0);a.element||(a=this.row(a));if(!1===b||this.allowSelect(a))if(g=this.selection,d=!!g[a.id],null===b&&(b=!d),h=a.element,!b&&!this.allSelected?delete this.selection[a.id]:g[a.id]=b,h&&(b?f(h,".dgrid-selected"+(this.addUiClasses?".ui-state-active":"")):f(h,"!dgrid-selected!ui-state-active")),b!==d&&h&&this._selectionEventQueues[(b?"":"de")+"select"].push(a),c)if(c.element||(c=this.row(c)),
c){if(c=c.element){g=this._determineSelectionDirection(h,c);g||(c=document.getElementById(c.id),g=this._determineSelectionDirection(h,c));for(;a.element!=c&&(a=this[g](a));)this._select(a,null,b)}}else this._lastSelected=h},_determineSelectionDirection:b("dom-comparedocumentposition")?function(a,c){var b=c.compareDocumentPosition(a);return b&1?!1:2===b?"down":"up"}:function(a,c){return 1>c.sourceIndex?!1:c.sourceIndex>a.sourceIndex?"down":"up"},select:function(a,c,b){this._select(a,c,b);this._fireSelectionEvents()},
deselect:function(a,c){this.select(a,c,!1)},clearSelection:function(a,c){this.allSelected=!1;for(var b in this.selection)a!==b&&this._select(b,null,!1);c||(this._lastSelected=null);this._fireSelectionEvents()},selectAll:function(){this.allSelected=!0;this.selection={};for(var a in this._rowIdToObject){var c=this.row(this._rowIdToObject[a]);this._select(c.id,null,!0)}this._fireSelectionEvents()},isSelected:function(a){if("undefined"===typeof a||null===a)return!1;a.element||(a=this.row(a));return a.id in
this.selection?!!this.selection[a.id]:this.allSelected&&(!a.data||this.allowSelect(a))},refresh:function(){this.deselectOnRefresh&&this.clearSelection();this._lastSelected=null;return this.inherited(arguments)},renderArray:function(){var a=this,c=this.inherited(arguments);e.when(c,function(c){var b=a.selection,f,g,d;for(f=0;f<c.length;f++)g=a.row(c[f]),(d=g.id in b?b[g.id]:a.allSelected)&&a._select(g,null,d);a._fireSelectionEvents()});return c}})})},"dgrid/List":function(){define("dojo/_base/kernel dojo/_base/declare dojo/dom dojo/on dojo/has ./util/misc ./TouchScroll xstyle/has-class put-selector/put dojo/_base/sniff xstyle/css!./css/dgrid.css".split(" "),
function(k,d,e,a,b,h,l,m,g){function f(a,c){g(document.body,a,".dgrid-scrollbar-measure");var b=a["offset"+c]-a["client"+c];a.className="";document.body.removeChild(a);return b}function c(a){var c=a?"."+a.replace(u,"."):"";this._class&&(c="!"+this._class.replace(u,"!")+c);g(this.domNode,c);this._class=a}function n(){return this._class}function r(){return{x:this.bodyNode.scrollLeft,y:this.bodyNode.scrollTop}}function s(a){"undefined"!==typeof a.x&&(this.bodyNode.scrollLeft=a.x);"undefined"!==typeof a.y&&
(this.bodyNode.scrollTop=a.y)}m("mozilla","opera","webkit","ie","ie-6","ie-6-7","quirks","no-quirks","touch");var q,p;b.add("dom-scrollbar-width",function(a,c,b){return f(b,"Width")});b.add("dom-scrollbar-height",function(a,c,b){return f(b,"Height")});b.add("dom-rtl-scrollbar-left",function(a,c,f){a=g("div");g(document.body,f,".dgrid-scrollbar-measure[dir\x3drtl]");g(f,a);c=!!b("ie")||!!b("trident")||a.offsetLeft>=b("dom-scrollbar-width");f.className="";document.body.removeChild(f);g(a,"!");f.removeAttribute("dir");
return c});var t=0,u=/ +/g,v=7>b("ie")&&!b("quirks")?function(){var a,c,b;if(this._started&&(a=document.documentElement,c=a.clientWidth,a=a.clientHeight,b=this._prevWinDims||[],b[0]!==c||b[1]!==a))this.resize(),this._prevWinDims=[c,a]}:function(){this._started&&this.resize()};return d(b("touch")?l:null,{tabableHeader:!1,showHeader:!1,showFooter:!1,maintainOddEven:!0,cleanAddedRules:!0,useTouchScroll:null,addUiClasses:!0,cleanEmptyObservers:!0,highlightDuration:250,postscript:function(a,c){var b=this;
(this._Row=function(a,c,b){this.id=a;this.data=c;this.element=b}).prototype.remove=function(){b.removeRow(this.element)};c&&(this.srcNodeRef=c=c.nodeType?c:document.getElementById(c));this.create(a,c)},listType:"list",create:function(a,f){var h=this.domNode=f||g("div"),e;a?(this.params=a,d.safeMixin(this,a),e=a["class"]||a.className||h.className,this._sort=a.sort||[],delete this.sort):this._sort=[];this.observers=[];this._numObservers=0;this._listeners=[];this._rowIdToObject={};this.postMixInProperties&&
this.postMixInProperties();this.id=h.id=h.id||this.id||"dgrid_"+t++;null===this.useTouchScroll&&(this.useTouchScroll=!b("dom-scrollbar-width"));this.buildRendering();e&&c.call(this,e);this.postCreate();delete this.srcNodeRef;this.domNode.offsetHeight&&this.startup()},buildRendering:function(){var c=this.domNode,f=this.addUiClasses,d=this,e,l,m,n;n=this.isRTL="rtl"==(document.body.dir||document.documentElement.dir||document.body.style.direction).toLowerCase();c.className="";g(c,"[role\x3dgrid].dgrid.dgrid-"+
this.listType+(f?".ui-widget":""));e=this.headerNode=g(c,"div.dgrid-header.dgrid-header-row"+(f?".ui-widget-header":"")+(this.showHeader?"":".dgrid-header-hidden"));(b("quirks")||8>b("ie"))&&g(c,"div.dgrid-spacer");l=this.bodyNode=g(c,"div.dgrid-scroller");b("ff")&&(l.tabIndex=-1);this.headerScrollNode=g(c,"div.dgrid-header.dgrid-header-scroll.dgrid-scrollbar-width"+(f?".ui-widget-header":""));m=this.footerNode=g("div.dgrid-footer"+(this.showFooter?"":".dgrid-footer-hidden"));g(c,m);n&&(c.className+=
" dgrid-rtl"+(b("dom-rtl-scrollbar-left")?" dgrid-rtl-swap":""));a(l,"scroll",function(b){d.showHeader&&(e.scrollLeft=b.scrollLeft||l.scrollLeft);b.stopPropagation();a.emit(c,"scroll",{scrollTarget:l})});this.configStructure();this.renderHeader();this.contentNode=this.touchNode=g(this.bodyNode,"div.dgrid-content"+(f?".ui-widget-content":""));this._listeners.push(this._resizeHandle=a(window,"resize",h.throttleDelayed(v,this)))},postCreate:b("touch")?function(){this.useTouchScroll&&this.inherited(arguments)}:
function(){},startup:function(){this._started||(this.inherited(arguments),this._started=!0,this.resize(),this.set("sort",this._sort))},configStructure:function(){},resize:function(){var a=this.bodyNode,c=this.headerNode,f=this.footerNode,g=c.offsetHeight,d=this.showFooter?f.offsetHeight:0,e=b("quirks")||7>b("ie");this.headerScrollNode.style.height=a.style.marginTop=g+"px";a.style.marginBottom=d+"px";e&&(a.style.height="",a.style.height=Math.max(this.domNode.offsetHeight-g-d,0)+"px",d&&(f.style.bottom=
"1px",setTimeout(function(){f.style.bottom=""},0)));q||(q=b("dom-scrollbar-width"),p=b("dom-scrollbar-height"),b("ie")&&(q++,p++),h.addCssRule(".dgrid-scrollbar-width","width: "+q+"px"),h.addCssRule(".dgrid-scrollbar-height","height: "+p+"px"),17!=q&&!e&&(h.addCssRule(".dgrid-header-row","right: "+q+"px"),h.addCssRule(".dgrid-rtl-swap .dgrid-header-row","left: "+q+"px")));e&&(c.style.width=a.clientWidth+"px",setTimeout(function(){c.scrollLeft=a.scrollLeft},0))},addCssRule:function(a,c){var b=h.addCssRule(a,
c);this.cleanAddedRules&&this._listeners.push(b);return b},on:function(c,f){var g=a(this.domNode,c,f);b("dom-addeventlistener")||this._listeners.push(g);return g},cleanup:function(){var a=this.observers,c;for(c in this._rowIdToObject)if(this._rowIdToObject[c]!=this.columns){var b=document.getElementById(c);b&&this.removeRow(b,!0)}for(c=0;c<a.length;c++)(b=a[c])&&b.cancel();this.observers=[];this._numObservers=0;this.preload=null},destroy:function(){if(this._listeners){for(var a=this._listeners.length;a--;)this._listeners[a].remove();
delete this._listeners}this._started=!1;this.cleanup();g(this.domNode,"!");this.useTouchScroll&&this.inherited(arguments)},refresh:function(){this.cleanup();this._rowIdToObject={};this._autoId=0;this.contentNode.innerHTML="";this.scrollTo({x:0,y:0})},newRow:function(a,c,b,f,d){if(c){var h=this.insertRow(a,c,b,f,d);g(h,".dgrid-highlight"+(this.addUiClasses?".ui-state-highlight":""));setTimeout(function(){g(h,"!dgrid-highlight!ui-state-highlight")},this.highlightDuration);return h}},adjustRowIndices:function(a){var c=
a.rowIndex;if(-1<c){do-1<a.rowIndex&&(this.maintainOddEven&&-1<(a.className+" ").indexOf("dgrid-row ")&&g(a,"."+(1==c%2?"dgrid-row-odd":"dgrid-row-even")+"!"+(0==c%2?"dgrid-row-odd":"dgrid-row-even")),a.rowIndex=c++);while((a=a.nextSibling)&&a.rowIndex!=c)}},renderArray:function(a,c,b){function f(){var c=arguments;if(-1<s)for(var d=0;d<c.length;d++){var h=c[d],e=k[h?0:k.length-1];if(e=e&&g(e)){var m=e[h?"previousSibling":"nextSibling"];m&&(m=l.row(m));m&&m.element!=e&&(h=h?"unshift":"push",a[h](m.data),
k[h](m.element),b.count++)}}}function g(a){return!e.isDescendant(a,l.domNode)&&document.getElementById(a.id)?l.row(a.id.slice(l.id.length+5)).element:a}function d(a){q=l.insertRow(a,t,null,m++,b);q.observerIndex=s;return q}function h(a){u=a.slice(0);(r=c?c.parentNode:l.contentNode)&&r.parentNode&&(r!==l.contentNode||a.length)?(r.insertBefore(t,c||null),(q=a[a.length-1])&&l.adjustRowIndices(q)):n[s]&&l.cleanEmptyObservers&&"undefined"!==typeof s&&(n[s].cancel(),n[s]=0,l._numObservers--);k=a;p&&(p.rows=
k)}b=b||{};var l=this,m=b.start||0,n=this.observers,k,r,s;c||(this._lastCollection=a);if(a.observe){l._numObservers++;var p=a.observe(function(d,h,e){var m,n,p;-1<h&&k[h]&&(m=k.splice(h,1)[0],m.parentNode==r&&((n=m.nextSibling)&&h!=e&&n.rowIndex--,l.removeRow(m)),b.count--,l._processScroll&&l._processScroll());if(-1<e){if(k.length)if(0===e)p=(p=k[e])&&g(p);else{if(p=k[e-1])p=g(p),p=(p.connected||p).nextSibling}else p=l._getFirstRowSibling&&l._getFirstRowSibling(r);m&&(p&&m.id===p.id)&&(p=(p.connected||
p).nextSibling);p&&!p.parentNode&&(p=document.getElementById(p.id));m=c&&c.parentNode||p&&p.parentNode||l.contentNode;if(m=l.newRow(d,m,p,b.start+e,b))if(m.observerIndex=s,k.splice(e,0,m),!n||e<h)n=m.previousSibling,n=!n||n.rowIndex+1==m.rowIndex||0==m.rowIndex?m:n;b.count++}0===h?f(1,1):h===a.length-(-1===e?0:1)&&f(0,0);h!=e&&n&&l.adjustRowIndices(n);l._onNotification(k,d,h,e)},!0);s=n.push(p)-1}var t=document.createDocumentFragment(),q,u;if(a.map){if(k=a.map(d,console.error),k.then)return a.then(function(c){a=
c;return k.then(function(a){h(a);f(1,1,0,0);return u})})}else{k=[];for(var v=0,M=a.length;v<M;v++)k[v]=d(a[v])}h(k);f(1,1,0,0);return u},_onNotification:function(a,c,b,f){},renderHeader:function(){},_autoId:0,insertRow:function(a,c,b,f,g){var d=g.parentId,d=this.id+"-row-"+(d?d+"-":"")+(this.store&&this.store.getIdentity?this.store.getIdentity(a):this._autoId++),h=document.getElementById(d),e=h&&h.previousSibling;h&&(h===b&&(b=(b.connected||b).nextSibling),this.removeRow(h));h=this.renderRow(a,g);
h.className=(h.className||"")+" dgrid-row "+(1==f%2?"dgrid-row-odd":"dgrid-row-even")+(this.addUiClasses?" ui-state-default":"");this._rowIdToObject[h.id=d]=a;c.insertBefore(h,b||null);e&&this.adjustRowIndices(e);h.rowIndex=f;return h},renderRow:function(a,c){return g("div",""+a)},removeRow:function(a,c){a=a.element||a;delete this._rowIdToObject[a.id];c||g(a,"!")},row:function(a){var c;if(a instanceof this._Row)return a;a.target&&a.target.nodeType&&(a=a.target);if(a.nodeType){do{var b=a.id;if(c=this._rowIdToObject[b])return new this._Row(b.substring(this.id.length+
5),c,a);a=a.parentNode}while(a&&a!=this.domNode)}else return"object"==typeof a?c=this.store.getIdentity(a):(c=a,a=this._rowIdToObject[this.id+"-row-"+c]),new this._Row(c,a,document.getElementById(this.id+"-row-"+c))},cell:function(a){return{row:this.row(a)}},_move:function(a,c,b,f){var g,d;d=g=a.element;c=c||1;do if(a=g[0>c?"previousSibling":"nextSibling"]){do if((g=a)&&-1<(g.className+" ").indexOf(b+" ")){d=g;c+=0>c?1:-1;break}while(a=(!f||!g.hidden)&&g[0>c?"lastChild":"firstChild"])}else if(g=g.parentNode,
!g||g===this.bodyNode||g===this.headerNode)break;while(c);return d},up:function(a,c,b){a.element||(a=this.row(a));return this.row(this._move(a,-(c||1),"dgrid-row",b))},down:function(a,c,b){a.element||(a=this.row(a));return this.row(this._move(a,c||1,"dgrid-row",b))},scrollTo:b("touch")?function(a){return this.useTouchScroll?this.inherited(arguments):s.call(this,a)}:s,getScrollPosition:b("touch")?function(){return this.useTouchScroll?this.inherited(arguments):r.call(this)}:r,get:function(a){var c=
"_get"+a.charAt(0).toUpperCase()+a.slice(1);return"function"===typeof this[c]?this[c].apply(this,[].slice.call(arguments,1)):this[a]},set:function(a,c){if("object"===typeof a)for(var b in a)this.set(b,a[b]);else b="_set"+a.charAt(0).toUpperCase()+a.slice(1),"function"===typeof this[b]?this[b].apply(this,[].slice.call(arguments,1)):this[a]=c;return this},_getClass:n,_setClass:c,_getClassName:n,_setClassName:c,_setSort:function(a,c){this._sort="string"!=typeof a?a:[{attribute:a,descending:c}];this.refresh();
this._lastCollection&&(a.length&&("string"!=typeof a&&(c=a[0].descending,a=a[0].attribute),this._lastCollection.sort(function(b,f){var g=b[a],d=f[a];void 0===g&&(g="");void 0===d&&(d="");return g==d?0:g>d==!c?1:-1})),this.renderArray(this._lastCollection))},sort:function(a,c){k.deprecated("sort(...)",'use set("sort", ...) instead',"dgrid 0.4");this.set("sort",a,c)},_getSort:function(){return this._sort},_setShowHeader:function(a){var c=this.headerNode;this.showHeader=a;g(c,(a?"!":".")+"dgrid-header-hidden");
this.renderHeader();this.resize();a&&(c.scrollLeft=this.getScrollPosition().x)},setShowHeader:function(a){k.deprecated("setShowHeader(...)",'use set("showHeader", ...) instead',"dgrid 0.4");this.set("showHeader",a)},_setShowFooter:function(a){this.showFooter=a;g(this.footerNode,(a?"!":".")+"dgrid-footer-hidden");this.resize()}})})},"dgrid/util/misc":function(){define(["dojo/has","put-selector/put"],function(k,d){k.add("dom-contains",function(a,b,c){return!!c.contains});var e=[],a,b,h,l=/([^A-Za-z0-9_\u00A0-\uFFFF-])/g,
m={defaultDelay:15,throttle:function(a,b,c){var d=!1;c=c||m.defaultDelay;return function(){d||(d=!0,a.apply(b,arguments),setTimeout(function(){d=!1},c))}},throttleDelayed:function(a,b,c){var d=!1;c=c||m.defaultDelay;return function(){if(!d){d=!0;var h=arguments;setTimeout(function(){d=!1;a.apply(b,h)},c)}}},debounce:function(a,b,c){var d;c=c||m.defaultDelay;return function(){d&&(clearTimeout(d),d=null);var h=arguments;d=setTimeout(function(){a.apply(b,h)},c)}},each:function(a,b,c){var d,h;if(a)if("number"===
typeof a.length){d=0;for(h=a.length;d<h;d++)b.call(c,a[d],d,a)}else for(d in a)b.call(c,a[d],d,a)},contains:function(a,b){return k("dom-contains")?a.contains(b):a.compareDocumentPosition(b)&8},addCssRule:function(g,f){a||(a=d(document.getElementsByTagName("head")[0],"style"),a=a.sheet||a.styleSheet,b=a.deleteRule?"deleteRule":"removeRule",h=a.cssRules?"cssRules":"rules");var c=e.length;e[c]=(a.cssRules||a.rules).length;a.addRule?a.addRule(g,f):a.insertRule(g+"{"+f+"}",e[c]);return{get:function(b){return a[h][e[c]].style[b]},
set:function(b,f){"undefined"!==typeof e[c]&&(a[h][e[c]].style[b]=f)},remove:function(){var f=e[c],g,d;if(void 0!==f){a[b](f);e[c]=void 0;g=c+1;for(d=e.length;g<d;g++)e[g]>f&&e[g]--}}}},escapeCssIdentifier:function(a,b){return"string"===typeof a?a.replace(l,b||"\\$1"):a}};return m})},"dgrid/TouchScroll":function(){define("dojo/_base/declare dojo/on ./util/touch ./util/has-css3 put-selector/put xstyle/css!./css/TouchScroll.css".split(" "),function(k,d,e,a,b){function h(a,c,b,f){f=a.touchNode;var g=
p[a.id],h,e,l;if("object"!==typeof c)l=c,c=b,b=e=!0;else{b="x"in c;e="y"in c;if(!b||!e)h=a.getScrollPosition();l=b?c.x:h.x;c=e?c.y:h.y}f.style[E]=J+-l+"px,"+-c+"px"+H;g&&(b&&a._scrollbarXNode)&&(a._scrollbarXNode.style[E]=J+l*g.parentWidth/g.scrollWidth+"px,0"+H);g&&(e&&a._scrollbarYNode)&&(a._scrollbarYNode.style[E]=J+"0,"+c*g.parentHeight/g.scrollHeight+"px"+H);d.emit(a.touchNode.parentNode,"scroll",{scrollLeft:l,scrollTop:c})}function l(a){return p[a.id]?x.exec(window.getComputedStyle(a.touchNode)[E]):
w.exec(a.touchNode.style[E])}function m(a){var c=this.widget,c=[this.node,c._scrollbarXNode,c._scrollbarYNode],f=c.length;this.timer&&(clearTimeout(this.timer),this.timer=null);for(this.transitionHandler&&this.transitionHandler.remove();f--;)c[f]&&(c[f].style[B+"Duration"]="0");(!a||!a.preserveScrollbars)&&b(this.node.parentNode,".touchscroll-fadeout");delete this.resetEffects}function g(a){var c=a.widget,b=c.touchNode,f=c.id,g=0,d=0,h;if(e.countCurrentTouches(a,b)===c.touchesToScroll){if(h=l(c))g=
+h[1],d=+h[2];if(h=p[f])h.resetEffects&&h.resetEffects({preserveScrollbars:!0}),b.style[E]=J+g+"px,"+d+"px"+H,t[f]=h;a=a.targetTouches[0];h=p[f]={widget:c,node:b,startX:g-a.pageX,startY:d-a.pageY,lastX:g,lastY:d,pageX:a.pageX,pageY:a.pageY,tickFunc:function(){var a=p[f],c,b;a&&(c=a.node,(b=w.exec(c.style[E]))?(c=+b[1],b=+b[2],a.velX=c-a.lastX,a.velY=b-a.lastY,a.lastX=c,a.lastY=b):a.lastX=a.lastY=0,a.timer=setTimeout(a.tickFunc,s))}};h.timer=setTimeout(h.tickFunc,s)}}function f(a){var c=a.widget,f=
c.id,g=c.touchesToScroll,d=p[f],l,m;if(!d||(l=e.countCurrentTouches(a,c.touchNode))!==g)l>g&&c.cancelTouchScroll();else{l=a.targetTouches;g=l[0];if(!d.scrollbarsShown&&(t[f]||Math.abs(g.pageX-d.pageX)>c.scrollThreshold||Math.abs(g.pageY-d.pageY)>c.scrollThreshold)){var f=c.touchNode,n=f.parentNode,k=n.offsetWidth-v,r=n.offsetHeight-v,s=d.scrollWidth=f.scrollWidth,q=d.scrollHeight=f.scrollHeight,u=d.parentWidth=n.offsetWidth,y=d.parentHeight=n.offsetHeight;s>u?(c._scrollbarXNode||(m=b(n,"div.touchscroll-x")),
m=c._scrollbarXNode=c._scrollbarXNode||b(m,"div.touchscroll-bar"),m.style.width=k*k/s+"px",m.style.left=f.offsetLeft+"px",b(n,".touchscroll-scrollable-x"),d.scrollableX=!0):b(n,"!touchscroll-scrollable-x");q>y?(c._scrollbarYNode||(m=b(n,"div.touchscroll-y")),m=c._scrollbarYNode=c._scrollbarYNode||b(m,"div.touchscroll-bar"),m.style.height=r*r/q+"px",m.style.top=f.offsetTop+"px",b(n,".touchscroll-scrollable-y"),d.scrollableY=!0):b(n,"!touchscroll-scrollable-y");b(n,"!touchscroll-fadeout");d.scrollbarsShown=
!0;for(m=l.length;m--;)l[m].touchScrolled=!0}if(d.scrollbarsShown&&(d.scrollableX||d.scrollableY))a.preventDefault(),a=d.scrollableX?d.startX+g.pageX:0,g=d.scrollableY?d.startY+g.pageY:0,m=d.scrollableX?-(d.scrollWidth-d.parentWidth):0,d=d.scrollableY?-(d.scrollHeight-d.parentHeight):0,0<a?a/=2:a<m&&(a=m-(m-a)/2),0<g?g/=2:g<d&&(g=d-(d-g)/2),h(c,-a,-g)}}function c(a){var c=a.widget,b=c.id;p[b]&&e.countCurrentTouches(a,c.touchNode)==c.touchesToScroll-1&&r(b)}function n(a,c,b){function f(){delete g.transitionHandler;
g.resetEffects();delete p[a]}var g=p[a],h=g.widget,e=g.node,l=g.scrollableX?Math.max(Math.min(0,c),-(g.scrollWidth-g.parentWidth)):c,m=g.scrollableY?Math.max(Math.min(0,b),-(g.scrollHeight-g.parentHeight)):b;delete g.timer;l!=c||m!=b?(g.transitionHandler=d.once(e,z,f),e.style[B+"Duration"]=h.bounceDuration+"ms",e.style[E]=J+l+"px,"+m+"px"+H,l!=c&&g.scrollableX&&(e=g.widget._scrollbarXNode,e.style[B+"Duration"]=h.bounceDuration+"ms",e.style[E]=c>l?J+"0,0"+H:J+(e.parentNode.offsetWidth-e.offsetWidth)+
"px,0"+H),m!=b&&g.scrollableY&&(e=g.widget._scrollbarYNode,e.style[B+"Duration"]=h.bounceDuration+"ms",e.style[E]=b>m?J+"0,0"+H:J+"0,"+(e.parentNode.offsetHeight-e.offsetHeight)+"px"+H)):f()}function r(a){var c=p[a],b=t[a],f,g;delete t[a];c.timer&&clearTimeout(c.timer);c.resetEffects=m;(f=w.exec(c.node.style[E]))?(g=+f[1],f=+f[2]):g=f=0;if(!c.velX&&!c.velY||(0<=g||g<=-(c.scrollWidth-c.parentWidth))&&(0<=f||f<=-(c.scrollHeight-c.parentHeight)))n(a,g,f);else{if(b&&(b.velX||b.velY)&&(0>=c.velX&&0>=b.velX||
0<=c.velX&&0<=b.velX)&&(0>=c.velY&&0>=b.velY||0<=c.velY&&0<=b.velY))c.velX=1.15*(c.velX+b.velX),c.velY=1.15*(c.velY+b.velY);c.lastX=g;c.lastY=f;c.calcFunc=function(){var c=p[a],b,f,g,d,e,l;if(c)if(b=c.widget,e=b.glideDecel(c.velX),l=b.glideDecel(c.velY),Math.abs(e)>=u||Math.abs(l)>=u){g=c.lastX+e;d=c.lastY+l;if(0<g||g<-(c.scrollWidth-c.parentWidth))for(f=6;f--;)e=b.glideDecel(e);if(0<d||d<-(c.scrollHeight-c.parentHeight))for(f=6;f--;)l=b.glideDecel(l);h(b,-g,-d);c.lastX=g;c.lastY=d;c.velX=e;c.velY=
l;c.timer=setTimeout(c.calcFunc,q)}else n(a,c.lastX,c.lastY)};c.timer=setTimeout(c.calcFunc,q)}}var s=50,q=30,p={},t={},u=1,v=8,w=/^translate(?:3d)?\((-?\d+)(?:\.\d*)?(?:px)?, (-?\d+)/,x=/^matrix\(1, 0, 0, 1, (-?\d+)(?:\.\d*)?(?:px)?, (-?\d+)/,y=a("css-transitions"),z=a("transitionend"),C=a("css-transforms");a=a("css-transforms3d");var D,B,E,J,H;a?(J="translate3d(",H=",0)"):C&&(J="translate(",H=")");if(!y||!J)return function(){};E=a||C;E=!0===E?"transform":E+"Transform";B=!0===y?"transition":y+"Transition";
D=!0===C?"":"-"+C.toLowerCase()+"-";return k(null,{touchesToScroll:1,touchNode:null,scrollThreshold:10,bounceDuration:300,postCreate:function(){this._initTouch();this.inherited(arguments)},_initTouch:function(){function a(){e.cancelTouchScroll()}function b(c){return function(b){b.widget=e;b.cancelTouchScroll=a;c.call(this,b)}}var h=this.touchNode=this.touchNode||this.containerNode,e=this,l;h&&h.parentNode&&(l=h.parentNode,l.style.overflow="hidden",h.style[B+"Property"]=D+"transform",h.style[B+"TimingFunction"]=
"cubic-bezier(0.33, 0.66, 0.66, 1)",this._touchScrollListeners=[d(l,"touchstart",b(g)),d(l,"touchmove",b(f)),d(l,"touchend,touchcancel",b(c))])},destroy:function(){for(var a=this._touchScrollListeners.length;a--;)this._touchScrollListeners[a].remove();delete p[this.id];this.inherited(arguments)},scrollTo:function(a){var c=p[this.id],b=this.touchNode,f=b.parentNode;!a.preserveMomentum&&(c&&c.resetEffects)&&c.resetEffects();a.x&&(a.x=Math.max(0,Math.min(a.x,b.scrollWidth-f.offsetWidth)));a.y&&(a.y=
Math.max(0,Math.min(a.y,b.scrollHeight-f.offsetHeight)));h(this,a)},getScrollPosition:function(){var a=l(this);return a?{x:-a[1],y:-a[2]}:{x:0,y:0}},cancelTouchScroll:function(){var a=p[this.id];a&&(a.resetEffects?a.resetEffects():(a.timer&&clearTimeout(a.timer),b(a.node.parentNode,".touchscroll-fadeout")),delete p[this.id])},glideDecel:function(a){return 0.9*a}})})},"dgrid/util/touch":function(){define(["dojo/on","dojo/query"],function(k,d){function e(b,d,e,m){if(!(1<e.targetTouches.length)){var g=
e.changedTouches[0],f=g.screenX,c=g.screenY;m&&e.preventDefault();var n=k(b,"touchend",function(b){var g=b.changedTouches[0];b.targetTouches.length||(Math.abs(g.screenX-f)<a.tapRadius&&Math.abs(g.screenY-c)<a.tapRadius&&(m&&b.preventDefault(),d.call(this,b)),n.remove())})}}var a={tapRadius:10,dbltapTime:250,selector:function(a,h,e){return function(m,g){var f=h.bubble;f?h=f:!1!==e&&(e=!0);return k(m,h,function(c){var f=c.target;3==f.nodeType&&(f=f.parentNode);for(;!d.matches(f,a,m);)if(f==m||!e||!(f=
f.parentNode))return;return g.call(f,c)})}},countCurrentTouches:function(a,d){if(!("touches"in a))return-1;var e,m,g;for(m=e=0;g=a.touches[e];++e)d.contains(g.target)&&++m;return m},tap:function(a,d){return k(a,"touchstart",function(l){e(a,d,l)})},dbltap:function(b,d){var l,m;return k(b,"touchstart",function(g){l?e(b,function(b){if(l){var c=b.changedTouches[0];Math.abs(c.screenX-l.screenX)<a.tapRadius&&Math.abs(c.screenY-l.screenY)<a.tapRadius&&(m&&clearTimeout(m),l=m=null,d.call(this,b))}},g,!0):
e(b,function(b){l=b.changedTouches[0];m=setTimeout(function(){l=m=null},a.dbltapTime)},g)})}};return a})},"dgrid/util/has-css3":function(){define(["dojo/has"],function(k){function d(a,b){var d=a.style,l;if(b in d)return!0;b=b.slice(0,1).toUpperCase()+b.slice(1);for(l=e.length;l--;)if(e[l]+b in d)return e[l];return!1}var e=["ms","O","Moz","Webkit"];k.add("css-transitions",function(a,b,h){return d(h,"transitionProperty")});k.add("css-transforms",function(a,b,h){return d(h,"transform")});k.add("css-transforms3d",
function(a,b,h){return d(h,"perspective")});k.add("transitionend",function(){var a=k("css-transitions");return!a?!1:!0===a?"transitionend":{ms:"MSTransitionEnd",O:"oTransitionEnd",Moz:"transitionend",Webkit:"webkitTransitionEnd"}[a]});return k})},"xstyle/css":function(){define(["require"],function(k){function d(d,a,b){var h=document.documentElement;d=h.insertBefore(document.createElement(d),h.firstChild);d.id=a;a=(d.currentStyle||getComputedStyle(d,null))[b];h.removeChild(d);return a}return{load:function(e,
a,b,h){function l(c){var f=d("x-parse",null,"content"),g=c&&(c.sheet||c.styleSheet);f&&"none"!=f&&"normal"!=f?a([eval(f)],function(a){c?a.process(c,b):(a.processAll(),b(g))}):b(g)}var m=a.toUrl(e),g;m.match(/!$/)&&(g={wait:!1},m=m.slice(0,-1));var f=a.cache&&a.cache["url:"+m];if(f)f.xCss&&(f=f.cssText),k(["./core/load-css"],function(a){l(a.insertCss(f))});else{if("none"==d("div",e.replace(/\//g,"-").replace(/\..*/,"")+"-loaded","display"))return l();k(["./core/load-css"],function(a){a(m,l,g)})}}}})},
"xstyle/has-class":function(){define(["dojo/has"],function(k){var d={};return function(){for(var e,a=arguments,b=0;b<a.length;b++)if(e=a[b],!d[e]){d[e]=!0;var h=e.match(/^(no-)?(.+?)((-[\d\.]+)(-[\d\.]+)?)?$/),l=k(h[2]),m=-h[4];if((0<m?m<=l&&(-h[5]||m)>=l:!!l)==!h[1])document.documentElement.className+=" has-"+e}}})},"dgrid/util/has-pointer":function(){define(["dojo/has"],function(k){k.add("pointer",function(a){return"PointerEvent"in a?"pointer":"MSPointerEvent"in a?"MSPointer":!1});var d=(k=k("pointer"))&&
"MS"===k.slice(0,2),e={};e.pointer=k;e.MSPointer=d;return e})},"dgrid/extensions/_DnD-touch-autoscroll":function(){define(["dojo/aspect","dojo/dom-geometry","dojo/dnd/autoscroll","../List"],function(k,d,e,a){var b=e.autoScrollNodes,h,l;h={};k.after(a.prototype,"postCreate",function(a){h[this.id]=this;return a});k.after(a.prototype,"destroy",function(a){delete h[this.id];return a});l=function(a){for(var b,f;a;){if((b=a.id)&&(f=h[b]))return f;a=a.parentNode}};e.autoScrollNodes=function(a){var g=a.target,
f=l(g),c,h,k,s,q,p;if(f&&(g=f.touchNode.parentNode,g=d.position(g,!0),c=a.pageX-g.x,h=a.pageY-g.y,k=Math.min(e.H_TRIGGER_AUTOSCROLL,g.w/2),s=Math.min(e.V_TRIGGER_AUTOSCROLL,g.h/2),c<k?q=-k:c>g.w-k&&(q=k),h<s?p=-s:h>g.h-s&&(p=s),q||p)){a=f.getScrollPosition();g={};q&&(g.x=a.x+q);p&&(g.y=a.y+p);f.scrollTo(g);return}b.call(this,a)};return e})},"dgrid/Keyboard":function(){define("dojo/_base/declare dojo/aspect dojo/on dojo/_base/lang dojo/has put-selector/put ./util/has-pointer ./util/misc dojo/_base/Deferred dojo/_base/sniff".split(" "),
function(k,d,e,a,b,h,l,m,g){function f(a){a.preventDefault()}var c={checkbox:1,radio:1,button:1},n=/\bdgrid-cell\b/,r=/\bdgrid-row\b/,s=l.pointer;l=l.MSPointer;var q=s?s+(l?"Down":"down"):"mousedown",p=k(null,{pageSkip:10,tabIndex:0,keyMap:null,headerKeyMap:null,postMixInProperties:function(){this.inherited(arguments);this.keyMap||(this.keyMap=a.mixin({},p.defaultKeyMap));this.headerKeyMap||(this.headerKeyMap=a.mixin({},p.defaultHeaderKeyMap))},postCreate:function(){function a(b){var f=b.target;return f.type&&
(!c[f.type]||32==b.keyCode)}function b(c){function h(){f._focusedHeaderNode&&(f._focusedHeaderNode.tabIndex=-1);if(f.showHeader){if(l)for(var a=0,c,b=f.headerNode.getElementsByTagName("th");c=b[a];++a){if(k.test(c.className)){f._focusedHeaderNode=p=c;break}}else f._focusedHeaderNode=p=f.headerNode;p&&(p.tabIndex=f.tabIndex)}}var l=f.cellNavigation,k=l?n:r,s=c===f.headerNode,p=c;s?(h(),d.after(f,"renderHeader",h,!0)):d.after(f,"renderArray",function(a){return g.when(a,function(a){var b=f._focusedNode||
p;if(k.test(b.className)&&m.contains(c,b))return a;for(var g=0,d=c.getElementsByTagName("*"),h;h=d[g];++g)if(k.test(h.className)){b=f._focusedNode=h;break}b.tabIndex=f.tabIndex;return a})});f._listeners.push(e(c,q,function(c){a(c)||f._focusOnNode(c.target,s,c)}));f._listeners.push(e(c,"keydown",function(c){if(!c.metaKey&&!c.altKey){var b=f[s?"headerKeyMap":"keyMap"][c.keyCode];b&&!a(c)&&b.call(f,c)}}))}this.inherited(arguments);var f=this;this.tabableHeader&&(b(this.headerNode),e(this.headerNode,
"dgrid-cellfocusin",function(){f.scrollTo({x:this.scrollLeft})}));b(this.contentNode)},removeRow:function(a){if(!this._focusedNode)return this.inherited(arguments);var c=this,b=document.activeElement===this._focusedNode,f=this[this.cellNavigation?"cell":"row"](this._focusedNode),g=f.row||f,d;a=a.element||a;if(a===g.element){d=this.down(g,!0);if(!d||d.element===a)d=this.up(g,!0);this._removedFocus={active:b,rowId:g.id,columnId:f.column&&f.column.id,siblingId:!d||d.element===a?void 0:d.id};setTimeout(function(){c._removedFocus&&
c._restoreFocus(g.id)},0);this._focusedNode=null}this.inherited(arguments)},insertRow:function(a){var c=this.inherited(arguments);this._removedFocus&&!this._removedFocus.wait&&this._restoreFocus(c);return c},_restoreFocus:function(a){var c=this._removedFocus,b;if((a=(a=a&&this.row(a))&&a.element&&a.id===c.rowId?a:"undefined"!==typeof c.siblingId&&this.row(c.siblingId))&&a.element){if(!a.element.parentNode.parentNode){c.wait=!0;return}"undefined"!==typeof c.columnId&&(b=this.cell(a,c.columnId))&&b.element&&
(a=b);c.active&&0!==a.element.offsetHeight?this._focusOnNode(a,!1,null):(h(a.element,".dgrid-focus"),a.element.tabIndex=this.tabIndex,this._focusedNode=a.element)}delete this._removedFocus},addKeyHandler:function(a,c,b){return d.after(this[b?"headerKeyMap":"keyMap"],a,c,!0)},_focusOnNode:function(c,f,g){var d="_focused"+(f?"Header":"")+"Node";f=this[d];var l=this.cellNavigation?"cell":"row",m=this[l](c),k,s,p,t,q;if(c=m&&m.element){if(this.cellNavigation){k=c.getElementsByTagName("input");q=0;for(p=
k.length;q<p;q++)if(s=k[q],(-1!=s.tabIndex||"_dgridLastValue"in s)&&!s.disabled){8>b("ie")&&(s.style.position="relative");s.focus();8>b("ie")&&(s.style.position="");t=!0;break}}null!==g&&(g=a.mixin({grid:this},g),g.type&&(g.parentType=g.type),g.bubbles||(g.bubbles=!0));f&&(h(f,"!dgrid-focus[!tabIndex]"),8>b("ie")&&(f.style.position=""),g&&(g[l]=this[l](f),e.emit(f,"dgrid-cellfocusout",g)));f=this[d]=c;g&&(g[l]=m);d=this.cellNavigation?n:r;!t&&d.test(c.className)&&(8>b("ie")&&(c.style.position="relative"),
c.tabIndex=this.tabIndex,c.focus());h(c,".dgrid-focus");g&&e.emit(f,"dgrid-cellfocusin",g)}},focusHeader:function(a){this._focusOnNode(a||this._focusedHeaderNode,!0)},focus:function(a){(a=a||this._focusedNode)?this._focusOnNode(a,!1):this.contentNode.focus()}}),t=p.moveFocusVertical=function(a,c){var b=this.cellNavigation,f=this[b?"cell":"row"](a),f=b&&f.column.id,g=this.down(this._focusedNode,c,!0);b&&(g=this.cell(g,f));this._focusOnNode(g,!1,a);a.preventDefault()};k=p.moveFocusUp=function(a){t.call(this,
a,-1)};s=p.moveFocusDown=function(a){t.call(this,a,1)};l=p.moveFocusPageUp=function(a){t.call(this,a,-this.pageSkip)};var u=p.moveFocusPageDown=function(a){t.call(this,a,this.pageSkip)},v=p.moveFocusHorizontal=function(a,c){if(this.cellNavigation){var b=!this.row(a);this._focusOnNode(this.right(this["_focused"+(b?"Header":"")+"Node"],c),b,a);a.preventDefault()}},w=p.moveFocusLeft=function(a){v.call(this,a,-1)},x=p.moveFocusRight=function(a){v.call(this,a,1)},y=p.moveHeaderFocusEnd=function(a,c){var b;
this.cellNavigation&&(b=this.headerNode.getElementsByTagName("th"),this._focusOnNode(b[c?0:b.length-1],!0,a));a.preventDefault()},z=p.moveHeaderFocusHome=function(a){y.call(this,a,!0)},C=p.moveFocusEnd=function(c,f){var h=this,e=this.cellNavigation,l=this.contentNode,m=l.scrollTop+(f?0:l.scrollHeight),l=l[f?"firstChild":"lastChild"],k=-1<l.className.indexOf("dgrid-preload"),n=k?l[(f?"next":"previous")+"Sibling"]:l,r=n.offsetTop+(f?0:n.offsetHeight),s;if(k){for(;n&&0>n.className.indexOf("dgrid-row");)n=
n[(f?"next":"previous")+"Sibling"];if(!n)return}!k||1>l.offsetHeight?(e&&(n=this.cell(n,this.cell(c).column.id)),this._focusOnNode(n,!1,c)):(b("dom-addeventlistener")||(c=a.mixin({},c)),s=d.after(this,"renderArray",function(a){s.remove();return g.when(a,function(a){a=a[f?0:a.length-1];e&&(a=h.cell(a,h.cell(c).column.id));h._focusOnNode(a,!1,c)})}));m===r&&c.preventDefault()},D=p.moveFocusHome=function(a){C.call(this,a,!0)};p.defaultKeyMap={32:f,33:l,34:u,35:C,36:D,37:w,38:k,39:x,40:s};p.defaultHeaderKeyMap=
{32:f,35:y,36:z,37:w,39:x};return p})},"dgrid/OnDemandGrid":function(){define(["dojo/_base/declare","./Grid","./OnDemandList"],function(k,d,e){return k([d,e],{})})},"dgrid/Grid":function(){define("dojo/_base/kernel dojo/_base/declare dojo/on dojo/has put-selector/put ./List ./util/misc dojo/_base/sniff".split(" "),function(k,d,e,a,b,h,l){function m(a,b){b&&b.nodeType&&a.appendChild(b)}function g(a,b,f,g){if(this.formatter){g=this.formatter;var d=this.grid.formatterScope;f.innerHTML="string"===typeof g&&
d?d[g](b,a):this.formatter(b,a)}else null!=b&&f.appendChild(document.createTextNode(b))}var f=8>a("ie")&&!a("quirks");d=d(h,{columns:null,cellNavigation:!0,tabableHeader:!0,showHeader:!0,column:function(a){return"object"!=typeof a?this.columns[a]:this.cell(a).column},listType:"grid",cell:function(a,b){if(a.column&&a.element)return a;a.target&&a.target.nodeType&&(a=a.target);var f;if(a.nodeType){do{if(this._rowIdToObject[a.id])break;var g=a.columnId;if(g){b=g;f=a;break}a=a.parentNode}while(a&&a!=this.domNode)
}if(!f&&"undefined"!=typeof b){var d=this.row(a);if(g=d&&d.element)for(var g=g.getElementsByTagName("td"),h=0;h<g.length;h++)if(g[h].columnId==b){f=g[h];break}}if(null!=a)return{row:d||this.row(a),column:b&&this.column(b),element:f}},createRowCells:function(c,g,d,h){var e=b("table.dgrid-row-table[role\x3dpresentation]"),m=9>a("ie")||a("quirks")?b(e,"tbody"):e,k,u,v,w,x,y,z,C,D,B;d=d||this.subRows;u=0;for(v=d.length;u<v;u++){y=d[u];k=b(m,"tr");y.className&&b(k,"."+y.className);w=0;for(x=y.length;w<
x;w++){z=y[w];C=z.id;D=z.field?".field-"+l.escapeCssIdentifier(z.field,"-"):"";(B="function"===typeof z.className?z.className(h):z.className)&&(D+="."+B);D=b(c+(".dgrid-cell.dgrid-cell-padding"+(C?".dgrid-column-"+l.escapeCssIdentifier(C,"-"):"")+D.replace(/ +/g,"."))+"[role\x3d"+("th"===c?"columnheader":"gridcell")+"]");D.columnId=C;f?(C=b(D,"!dgrid-cell-padding div.dgrid-cell-padding"),D.contents=C):C=D;if(B=z.colSpan)D.colSpan=B;if(B=z.rowSpan)D.rowSpan=B;g(C,z);k.appendChild(D)}}return e},left:function(a,
b){a.element||(a=this.cell(a));return this.cell(this._move(a,-(b||1),"dgrid-cell"))},right:function(a,b){a.element||(a=this.cell(a));return this.cell(this._move(a,b||1,"dgrid-cell"))},renderRow:function(a,f){var d=this.createRowCells("td",function(b,d){var h=a;d.get?h=d.get(a):"field"in d&&"_item"!=d.field&&(h=h[d.field]);d.renderCell?m(b,d.renderCell(a,h,b,f)):g.call(d,a,h,b,f)},f&&f.subRows,a);return b("div[role\x3drow]\x3e",d)},renderHeader:function(){var c=this,g=this.headerNode,d=g.childNodes.length;
for(g.setAttribute("role","row");d--;)b(g.childNodes[d],"!");d=this.createRowCells("th",function(a,c){var b=c.headerNode=a;f&&(a=a.parentNode);var g=c.field;g&&(a.field=g);if(c.renderHeaderCell)m(b,c.renderHeaderCell(b));else if("label"in c||c.field)b.appendChild(document.createTextNode("label"in c?c.label:c.field));!1!==c.sortable&&(g&&"_item"!=g)&&(a.sortable=!0,a.className+=" dgrid-sortable")},this.subRows&&this.subRows.headerRows);this._rowIdToObject[d.id=this.id+"-header"]=this.columns;g.appendChild(d);
this._sortListener&&this._sortListener.remove();this._sortListener=e(d,"click,keydown",function(b){if("click"==b.type||32==b.keyCode||!a("opera")&&13==b.keyCode){var f=b.target,d,h,l;do if(f.sortable){l=[{attribute:d=f.field||f.columnId,descending:(h=c._sort[0])&&h.attribute==d&&!h.descending}];d={bubbles:!0,cancelable:!0,grid:c,parentType:b.type,sort:l};e.emit(b.target,"dgrid-sort",d)&&(c._sortNode=f,c.set("sort",l));break}while((f=f.parentNode)&&f!=g)}})},resize:function(){var c=this.headerNode.firstChild,
b=this.contentNode,f;this.inherited(arguments);if(!a("ie")||7<a("ie")&&!a("quirks"))if(b.style.width="",b&&c&&(f=c.offsetWidth)!=b.offsetWidth)b.style.width=f+"px"},destroy:function(){this._destroyColumns();this._sortListener&&this._sortListener.remove();this.inherited(arguments)},_setSort:function(a,b){this.inherited(arguments);this.updateSortArrow(this._sort)},_findSortArrowParent:function(a){var b=this.columns,f;for(f in b){var g=b[f];if(g.field==a)return g.headerNode}},updateSortArrow:function(a,
f){this._lastSortedArrow&&(b(this._lastSortedArrow,"\x3c!dgrid-sort-up!dgrid-sort-down"),b(this._lastSortedArrow,"!"),delete this._lastSortedArrow);f&&(this._sort=a);if(a[0]){var g=a[0].attribute,d=a[0].descending,g=this._sortNode||this._findSortArrowParent(g),h;delete this._sortNode;g&&(g=g.contents||g,h=this._lastSortedArrow=b("div.dgrid-sort-arrow.ui-icon[role\x3dpresentation]"),h.innerHTML="\x26nbsp;",g.insertBefore(h,g.firstChild),b(g,d?".dgrid-sort-down":".dgrid-sort-up"),this.resize())}},styleColumn:function(a,
b){return this.addCssRule("#"+l.escapeCssIdentifier(this.domNode.id)+" .dgrid-column-"+l.escapeCssIdentifier(a,"-"),b)},_configColumns:function(a,b){var f=[],g=b instanceof Array;l.each(b,function(d,h){"string"==typeof d&&(b[h]=d={label:d});!g&&!d.field&&(d.field=h);h=d.id=d.id||(isNaN(h)?h:a+h);this._configColumn&&(this._configColumn(d,h,b,a),h=d.id);g&&(this.columns[h]=d);d.grid=this;"function"===typeof d.init&&d.init();f.push(d)},this);return g?b:f},_destroyColumns:function(){var a=this.subRows,
b=a&&a.length,f,g,d,h;this.cleanup();for(f=0;f<b;f++){g=0;for(h=a[f].length;g<h;g++)d=a[f][g],"function"===typeof d.destroy&&d.destroy()}},configStructure:function(){var a=this.subRows,b=this._columns=this.columns;this.columns=!b||b instanceof Array?{}:b;if(a)for(b=0;b<a.length;b++)a[b]=this._configColumns(b+"-",a[b]);else this.subRows=[this._configColumns("",b)]},_getColumns:function(){return this._columns||this.columns},_setColumns:function(a){this._destroyColumns();this.subRows=null;this.columns=
a;this._updateColumns()},_setSubRows:function(a){this._destroyColumns();this.subRows=a;this._updateColumns()},setColumns:function(a){k.deprecated("setColumns(...)",'use set("columns", ...) instead',"dgrid 0.4");this.set("columns",a)},setSubRows:function(a){k.deprecated("setSubRows(...)",'use set("subRows", ...) instead',"dgrid 0.4");this.set("subRows",a)},_updateColumns:function(){this.configStructure();this.renderHeader();this.refresh();this._lastCollection&&this.renderArray(this._lastCollection);
this._started&&(this._sort&&this._sort.length?this.updateSortArrow(this._sort):this.resize())}});d.appendIfNode=m;d.defaultRenderCell=g;return d})},"dgrid/OnDemandList":function(){define("./List ./_StoreMixin dojo/_base/declare dojo/_base/lang dojo/_base/Deferred dojo/dom dojo/on ./util/misc put-selector/put".split(" "),function(k,d,e,a,b,h,l,m,g){return e([k,d],{minRowsPerPage:25,maxRowsPerPage:250,maxEmptySpace:Infinity,bufferRows:10,farOffRemoval:2E3,queryRowsOverlap:0,pagingMethod:"debounce",
pagingDelay:m.defaultDelay,keepScrollPosition:!1,rowHeight:22,postCreate:function(){this.inherited(arguments);var a=this;l(this.bodyNode,"scroll",m[this.pagingMethod](function(c){a._processScroll(c)},null,this.pagingDelay))},renderQuery:function(f,c){function d(a){g(w,"!");if(a)throw h._refreshDeferred&&(h._refreshDeferred.reject(a),delete h._refreshDeferred),a;}var h=this,e=c&&c.container||this.contentNode,l={query:f,count:0,options:c},m,k=this.preload,u,v={node:g(e,"div.dgrid-preload",{rowIndex:0}),
count:0,query:f,next:l,options:c};v.node.style.height="0";l.node=m=g(e,"div.dgrid-preload");l.previous=v;m.rowIndex=this.minRowsPerPage;k?((l.next=k.next)&&m.offsetTop>=k.node.offsetTop?l.previous=k:(l.next=k,l.previous=k.previous),l.previous.next=l,l.next.previous=l):this.preload=l;var w=g(m,"-div.dgrid-loading");g(w,"div.dgrid-below").innerHTML=this.loadingMessage;c=a.mixin(this.get("queryOptions"),c,{start:0,count:this.minRowsPerPage},"level"in f?{queryLevel:f.level}:null);this._trackError(function(){return u=
f(c)});if("undefined"===typeof u)d();else return b.when(h.renderArray(u,m,c),function(a){return b.when("undefined"===typeof u.total?u.length:u.total,function(b){var f=a.length,d=m.parentNode,e=h.noDataNode;g(w,"!");"queryLevel"in c||(h._total=b);0===b&&(e&&(g(e,"!"),delete h.noDataNode),h.noDataNode=e=g("div.dgrid-no-data"),d.insertBefore(e,h._getFirstRowSibling(d)),e.innerHTML=h.noDataMessage);for(e=d=0;e<f;e++)d+=h._calcRowHeight(a[e]);f&&d&&(h.rowHeight=d/f);b-=f;l.count=b;m.rowIndex=f;b?m.style.height=
Math.min(b*h.rowHeight,h.maxEmptySpace)+"px":(m.style.display="none",c.count++);h._previousScrollPosition&&(h.scrollTo(h._previousScrollPosition),delete h._previousScrollPosition);h._processScroll();h._refreshDeferred&&(h._refreshDeferred.resolve(u),delete h._refreshDeferred);return a},d)},d),u},refresh:function(a){var c=this,g=a&&a.keepScrollPosition,d;"undefined"===typeof g&&(g=this.keepScrollPosition);g&&(this._previousScrollPosition=this.getScrollPosition());this.inherited(arguments);if(this.store)return g=
this._refreshDeferred=new b,d=c.renderQuery(function(a){return c.store.query(c.query,a)}),"undefined"===typeof d&&g.reject(),g.then(function(a){setTimeout(function(){l.emit(c.domNode,"dgrid-refresh-complete",{bubbles:!0,cancelable:!1,grid:c,results:a})},0);delete c._refreshDeferred;return a},function(a){delete c._refreshDeferred;throw a;})},resize:function(){this.inherited(arguments);this._processScroll()},_getFirstRowSibling:function(a){return a.lastChild},_calcRowHeight:function(a){var c=a.nextSibling;
return c&&!/\bdgrid-preload\b/.test(c.className)?c.offsetTop-a.offsetTop:a.offsetHeight},lastScrollTop:0,_processScroll:function(f){function c(a,c,b,f){var h=e.farOffRemoval,l=a.node;if(c>2*h){for(var m,k=l[b],r=0,p=0,t=[];m=k;){var u=e._calcRowHeight(m);if(r+u+h>c||0>k.className.indexOf("dgrid-row")&&0>k.className.indexOf("dgrid-loading"))break;k=m[b];r+=u;p+=m.count||1;e.removeRow(m,!0);t.push(m)}a.count+=p;f?(l.rowIndex-=p,d(a)):l.style.height=l.offsetHeight+r+"px";var q=g("div",t);setTimeout(function(){g(q,
"!")},1)}}function d(a,c){a.node.style.height=Math.min(a.count*e.rowHeight,c?Infinity:e.maxEmptySpace)+"px"}function h(a,c){do a=c?a.next:a.previous;while(a&&!a.node.offsetWidth);return a}var e=this,l=e.bodyNode;f=f&&f.scrollTop||this.getScrollPosition().y;var l=l.offsetHeight+f,m,k,u=e.preload,v=e.lastScrollTop,w=e.bufferRows*e.rowHeight,x=w-e.rowHeight,y,z,C,D=!0;for(e.lastScrollTop=f;u&&!u.node.offsetWidth;)u=u.previous;for(;u&&u!=m;){m=e.preload;e.preload=u;k=u.node;var B=k.offsetTop;if(l+1+x<
B)u=h(u,D=!1);else if(f-1-x>B+k.offsetHeight)u=h(u,D=!0);else{var E=((k.rowIndex?f-w:l)-B)/e.rowHeight,B=(l-f+2*w)/e.rowHeight,J=Math.max(Math.min((f-v)*e.rowHeight,e.maxRowsPerPage/2),e.maxRowsPerPage/-2),B=B+Math.min(Math.abs(J),10);0==k.rowIndex&&(E-=B);E=Math.max(E,0);10>E&&(0<E&&B+E<e.maxRowsPerPage)&&(B+=Math.max(0,E),E=0);B=Math.min(Math.max(B,e.minRowsPerPage),e.maxRowsPerPage,u.count);if(0==B)u=h(u,D);else{var B=Math.ceil(B),E=Math.min(Math.floor(E),u.count-B),H=a.mixin(e.get("queryOptions"),
u.options);u.count-=B;var P=k,I,K=e.queryRowsOverlap;if(J=(0<k.rowIndex||k.offsetTop>f)&&u){var F=u.previous;F&&(c(F,f-(F.node.offsetTop+F.node.offsetHeight),"nextSibling"),0<E&&F.node==k.previousSibling?(E=Math.min(u.count,E),u.previous.count+=E,d(u.previous,!0),k.rowIndex+=E,K=0):B+=E,u.count-=E);H.start=k.rowIndex-K;H.count=Math.min(B+K,e.maxRowsPerPage);k.rowIndex=H.start+H.count}else u.next&&(c(u.next,u.next.node.offsetTop-l,"previousSibling",!0),P=k.nextSibling,P==u.next.node?(u.next.count+=
u.count-E,u.next.node.rowIndex=E+B,d(u.next),u.count=E,K=0):I=!0),H.start=u.count,H.count=Math.min(B+K,e.maxRowsPerPage);I&&(P&&P.offsetWidth)&&(I=P.offsetTop);d(u);"level"in u.query&&(H.queryLevel=u.query.level);if("queryLevel"in H||!(H.start>e._total||0>H.count)){k=g(P,"-div.dgrid-loading[style\x3dheight:"+B*e.rowHeight+"px]");g(k,"div.dgrid-"+(J?"below":"above")).innerHTML=e.loadingMessage;k.count=B;var A=u.query(H);if(void 0===e._trackError(function(){return A})){g(k,"!");return}(function(a,c,
f,h){C=b.when(e.renderArray(h,a,H),function(l){z=h;P=a.nextSibling;g(a,"!");if(f&&P&&P.offsetWidth){var m=e.getScrollPosition();e.scrollTo({x:m.x,y:m.y+P.offsetTop-f,preserveMomentum:!0})}b.when(h.total||h.length,function(a){"queryLevel"in H||(e._total=a);c&&(c.count=a-c.node.rowIndex,0===c.count&&H.count++,d(c))});e._processScroll();return l},function(c){g(a,"!");throw c;})}).call(this,k,J,I,A);u=u.previous}}}}if(C&&(y=this._refreshDeferred))delete this._refreshDeferred,b.when(C,function(){y.resolve(z)})},
removeRow:function(a,c){if(a){var b=a.previousSibling,g=a.nextSibling,b=b&&(null!=b.observerIndex?b.observerIndex:b.previousObserverIndex),d=g&&(null!=g.observerIndex?g.observerIndex:g.nextObserverIndex),g=a.observerIndex;a.observerIndex=void 0;c&&(a.nextObserverIndex=d,a.previousObserverIndex=b);if(this.cleanEmptyObservers&&(-1<g&&g!==b&&g!==d)&&(b=this.observers,d=b[g])){if(!c)for(var e=d.rows,l=0;l<e.length;l++)if(e[l]!=a&&h.isDescendant(e[l],this.domNode))return this.inherited(arguments);d.cancel();
this._numObservers--;b[g]=0}}this.inherited(arguments)}})})},"dgrid/_StoreMixin":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/Deferred dojo/on dojo/aspect put-selector/put".split(" "),function(k,d,e,a,b,h,l){function m(a){return a}function g(a){if("object"!==typeof a)a=Error(a);else if("cancel"===a.dojoType)return;a.grid=this;b.emit(this.domNode,"dgrid-error",{grid:this,error:a,cancelable:!0,bubbles:!0})&&console.error(a)}return d(null,{store:null,query:null,
queryOptions:null,getBeforePut:!0,noDataMessage:"",loadingMessage:"",constructor:function(){this.query={};this.queryOptions={};this.dirty={};this._updating={};this._columnsWithSet={};h.before(this,"configStructure",e.hitch(this,function(){this._columnsWithSet={}}))},postCreate:function(){this.inherited(arguments);this.store&&this._updateNotifyHandle(this.store)},destroy:function(){this.inherited(arguments);this._notifyHandle&&this._notifyHandle.remove()},_configColumn:function(a){a.set&&(this._columnsWithSet[a.field]=
a);this.inherited(arguments)},_updateNotifyHandle:function(a){this._notifyHandle&&(this._notifyHandle.remove(),delete this._notifyHandle);a&&"function"===typeof a.notify&&(this._notifyHandle=h.after(a,"notify",e.hitch(this,"_onNotify"),!0),this.get("sort"))},_setStore:function(a,c,b){this._updateNotifyHandle(a);this.store=a;this.dirty={};this.set("query",c,b)},_setQuery:function(a,c){var b=c&&c.sort;this.query=void 0!==a?a:this.query;this.queryOptions=c||this.queryOptions;b?this.set("sort",b):this.refresh()},
setStore:function(a,c,b){k.deprecated("setStore(...)",'use set("store", ...) instead',"dgrid 0.4");this.set("store",a,c,b)},setQuery:function(a,c){k.deprecated("setQuery(...)",'use set("query", ...) instead',"dgrid 0.4");this.set("query",a,c)},_getQueryOptions:function(){var a=e.delegate(this.queryOptions,{});if("function"===typeof this._sort||this._sort.length)a.sort=this._sort;return a},_getQuery:function(){var a=this.query;return"object"==typeof a&&null!=a?e.delegate(a,{}):a},_setSort:function(a,
c){this.store&&(this._lastCollection=null);this.inherited(arguments)},_onNotify:function(a,c){this.inherited(arguments);a&&1>this._numObservers&&this.refresh({keepScrollPosition:!0})},refresh:function(){var a=this.inherited(arguments);this.store||(this.noDataNode=l(this.contentNode,"div.dgrid-no-data"),this.noDataNode.innerHTML=this.noDataMessage);return a},renderArray:function(){var b=this,c=this.inherited(arguments);this.store||a.when(c,function(a){a.length&&b.noDataNode&&l(b.noDataNode,"!")});
return c},insertRow:function(a,c,b,g,d){var h=this.store,l=this.dirty,h=h&&h.getIdentity(a),m;h in l&&!(h in this._updating)&&(m=l[h]);m&&(a=e.delegate(a,m));return this.inherited(arguments)},updateDirty:function(a,c,b){var g=this.dirty,d=g[a];d||(d=g[a]={});d[c]=b},setDirty:function(a,c,b){k.deprecated("setDirty(...)","use updateDirty() instead","dgrid 0.4");this.updateDirty(a,c,b)},save:function(){function b(f,h){return function(b){var e=c._columnsWithSet,l=c._updating,m,k;if("function"===typeof b.set)b.set(h);
else for(m in h)b[m]=h[m];for(m in e)k=e[m].set(b),void 0!==k&&(b[m]=k);l[f]=!0;return a.when(g.put(b),function(){delete d[f];delete l[f]})}}var c=this,g=this.store,d=this.dirty,h=new a,e=h.promise,l=function(a){var b;return c.getBeforePut||!(b=c.row(a).data)?function(){return g.get(a)}:function(){return b}},m;for(m in d)var k=b(m,d[m]),e=e.then(l(m)).then(k);h.resolve();return e},revert:function(){this.dirty={};this.refresh()},_trackError:function(b){var c;"string"==typeof b&&(b=e.hitch(this,b));
try{c=b()}catch(d){g.call(this,d)}return a.when(c,m,e.hitch(this,g))},newRow:function(){var a=this.inherited(arguments);this.noDataNode&&(l(this.noDataNode,"!"),delete this.noDataNode);return a},removeRow:function(a,c){var b={element:a};!c&&(this.noDataMessage&&this.up(b).element===a&&this.down(b).element===a)&&(this.noDataNode=l(this.contentNode,"div.dgrid-no-data"),this.noDataNode.innerHTML=this.noDataMessage);return this.inherited(arguments)}})})},"dgrid/extensions/ColumnHider":function(){define("dojo/_base/declare dojo/has dojo/on ../util/misc put-selector/put dojo/i18n!./nls/columnHider xstyle/css!../css/extensions/ColumnHider.css".split(" "),
function(k,d,e,a,b,h){var l,m,g=d("ie"),f=g&&d("quirks"),c=8>g||f?"htmlFor":"for";return k(null,{hiderMenuNode:null,hiderToggleNode:null,i18nColumnHider:h,_hiderMenuOpened:!1,_columnHiderRules:null,_columnHiderCheckboxes:null,_renderHiderMenuEntries:function(){var a=this.subRows,c=!0,b,f,g,d;delete this._columnHiderFirstCheckbox;g=0;for(b=a.length;g<b;g++){d=0;for(f=a[g].length;d<f;d++)this._renderHiderMenuEntry(a[g][d]),c&&(c=!1,this._columnHiderFirstCheckbox=this._columnHiderCheckboxes[a[g][d].id])}},
_renderHiderMenuEntry:function(f){var g=f.id,d=a.escapeCssIdentifier(g,"-"),h,e;f.hidden&&(f.hidden=!1,this._hideColumn(g),f.hidden=!0);f.unhidable||(h=b("div.dgrid-hider-menu-row"),e=this.domNode.id+"-hider-menu-check-"+d,g=this._columnHiderCheckboxes[g]=b(h,"input.dgrid-hider-menu-check.hider-menu-check-"+d+"[type\x3dcheckbox]"),g.id=e,b(h,"label.dgrid-hider-menu-label.hider-menu-label-"+d+"["+c+"\x3d"+e+"]",f.label||f.field||""),b(this.hiderMenuNode,h),f.hidden||(g.checked=!0))},renderHeader:function(){function a(c){c.stopPropagation()}
var c=this,d=this.hiderMenuNode,h=this.hiderToggleNode,k;this.inherited(arguments);if(d){for(k in this._columnHiderRules)this._columnHiderRules[k].remove();d.innerHTML=""}else h=this.hiderToggleNode=b(this.domNode,"button.ui-icon.dgrid-hider-toggle[type\x3dbutton][aria-label\x3d"+this.i18nColumnHider.popupTriggerLabel+"]"),this._listeners.push(e(h,"click",function(a){c._toggleColumnHiderMenu(a)})),d=this.hiderMenuNode=b("div.dgrid-hider-menu[role\x3ddialog][aria-label\x3d"+this.i18nColumnHider.popupLabel+
"]"),d.id=this.id+"-hider-menu",this._listeners.push(e(d,"keyup",function(a){if(27===(a.charCode||a.keyCode))c._toggleColumnHiderMenu(a),h.focus()})),d.style.display="none",b(this.domNode,d),this._listeners.push(e(d,".dgrid-hider-menu-check:"+(9>g||f?"click":"change"),function(a){c._updateColumnHiddenState(a.target.id.substr(c.id.length+18),!a.target.checked)})),this._listeners.push(e(d,"mousedown",a),e(h,"mousedown",a)),m||(m=e.pausable(document,"mousedown",function(a){l&&l._toggleColumnHiderMenu(a)}),
m.pause());this._columnHiderCheckboxes={};this._columnHiderRules={};this._renderHiderMenuEntries()},destroy:function(){this.inherited(arguments);for(var a in this._columnHiderRules)this._columnHiderRules[a].remove()},left:function(a,c){return this.right(a,-c)},right:function(a,c){a.element||(a=this.cell(a));for(var b=this.inherited(arguments),f=a;b.column.hidden;){b=this.inherited(arguments,[b,0<c?1:-1]);if(f.element===b.element)return a;f=b}return b},isColumnHidden:function(a){return!!this._columnHiderRules[a]},
_toggleColumnHiderMenu:function(){var a=this._hiderMenuOpened,c=this.hiderMenuNode,b=this.domNode,f;c.style.display=a?"none":"";a?c.style.height="":(c.offsetHeight>b.offsetHeight-12&&(c.style.height=b.offsetHeight-12+"px"),(f=this._columnHiderFirstCheckbox)&&f.focus());m[a?"pause":"resume"]();l=a?null:this;this._hiderMenuOpened=!a},_hideColumn:function(c){var b=this,f="#"+a.escapeCssIdentifier(this.domNode.id)+" .dgrid-column-",g;if(!this._columnHiderRules[c]&&(this._columnHiderRules[c]=a.addCssRule(f+
a.escapeCssIdentifier(c,"-"),"display: none;"),(8===d("ie")||10===d("ie"))&&!d("quirks")))g=a.addCssRule(".dgrid-row-table","display: inline-table;"),window.setTimeout(function(){g.remove();b.resize()},0)},_showColumn:function(a){this._columnHiderRules[a]&&(this._columnHiderRules[a].remove(),delete this._columnHiderRules[a])},_updateColumnHiddenState:function(a,c){this[c?"_hideColumn":"_showColumn"](a);this.columns[a].hidden=c;e.emit(this.domNode,"dgrid-columnstatechange",{grid:this,column:this.columns[a],
hidden:c,bubbles:!0});this.resize()},toggleColumnHiddenState:function(a,c){"undefined"===typeof c&&(c=!this._columnHiderRules[a]);this._updateColumnHiddenState(a,c);this._columnHiderCheckboxes[a].checked=!c}})})},"dojo/i18n":function(){define("./_base/kernel require ./has ./_base/array ./_base/config ./_base/lang ./_base/xhr ./json module".split(" "),function(k,d,e,a,b,h,l,m,g){e.add("dojo-preload-i18n-Api",1);var f=k.i18n={},c=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,n=function(a,c,b,f){var g=[b+
f];c=c.split("-");for(var d="",h=0;h<c.length;h++)if(d+=(d?"-":"")+c[h],!a||a[d])g.push(b+d+"/"+f),g.specificity=d;return g},r={},s=function(a,c,b){b=b?b.toLowerCase():k.locale;a=a.replace(/\./g,"/");c=c.replace(/\./g,"/");return/root/i.test(b)?a+"/nls/"+c:a+"/nls/"+b+"/"+c},q=k.getL10nName=function(a,c,b){return g.id+"!"+s(a,c,b)},p=function(a,c,b,f,g,d){a([c],function(e){var l=h.clone(e.root||e.ROOT),m=n(!e._v1x&&e,g,b,f);a(m,function(){for(var a=1;a<m.length;a++)l=h.mixin(h.clone(l),arguments[a]);
r[c+"/"+g]=l;l.$locale=m.specificity;d()})})},t=function(a){var c=b.extraLocale||[],c=h.isArray(c)?c:[c];c.push(a);return c},u=function(b,f,g){if(e("dojo-preload-i18n-Api")){var d=b.split("*"),l="preload"==d[1];l&&(r[b]||(r[b]=1,y(d[2],m.parse(d[3]),1,f)),g(1));if(!(d=l))w&&x.push([b,f,g]),d=w;if(d)return}b=c.exec(b);var n=b[1]+"/",s=b[5]||b[4],u=n+s,d=(b=b[5]&&b[4])||k.locale||"",q=u+"/"+d;b=b?[d]:t(d);var v=b.length,C=function(){--v||g(h.delegate(r[q]))};a.forEach(b,function(a){var c=u+"/"+a;e("dojo-preload-i18n-Api")&&
z(c);r[c]?C():p(f,u,n,s,a,C)})};e("dojo-preload-i18n-Api");var v=f.normalizeLocale=function(a){a=a?a.toLowerCase():k.locale;return"root"==a?"ROOT":a},w=0,x=[],y=f._preloadLocalizations=function(c,b,f,g){function e(a,c){g.isXdUrl(d.toUrl(a+".js"))||f?g([a],c):B([a],c,g)}function l(a,c){for(var b=a.split("-");b.length;){if(c(b.join("-")))return;b.pop()}c("ROOT")}function m(){for(--w;!w&&x.length;)u.apply(null,x.shift())}function n(f){f=v(f);l(f,function(k){if(0<=a.indexOf(b,k)){var n=c.replace(/\./g,
"/")+"_"+k;w++;e(n,function(a){for(var c in a){var b=a[c],e=c.match(/(.+)\/([^\/]+)$/),n;if(e&&(n=e[2],e=e[1]+"/",b._localized)){var s;if("ROOT"===k){var p=s=b._localized;delete b._localized;p.root=b;r[d.toAbsMid(c)]=p}else s=b._localized,r[d.toAbsMid(e+n+"/"+k)]=b;k!==f&&function(a,c,b,e){var k=[],n=[];l(f,function(b){e[b]&&(k.push(d.toAbsMid(a+b+"/"+c)),n.push(d.toAbsMid(a+c+"/"+b)))});k.length?(w++,g(k,function(){for(var g=k.length-1;0<=g;g--)b=h.mixin(h.clone(b),arguments[g]),r[n[g]]=b;r[d.toAbsMid(a+
c+"/"+f)]=h.clone(b);m()})):r[d.toAbsMid(a+c+"/"+f)]=b}(e,n,b,s)}}m()});return!0}return!1})}g=g||d;n();a.forEach(k.config.extraLocale,n)},z=function(){},C={},D=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue","var define \x3d function(mid, factory){define.called \x3d 1; __amdValue.result \x3d factory || mid;},\t   require \x3d function(){define.called \x3d 1;};try{define.called \x3d 0;eval(__bundle);if(define.called\x3d\x3d1)return __amdValue;if((__checkForLegacyModules \x3d __checkForLegacyModules(__mid)))return __checkForLegacyModules;}catch(e){}try{return eval('('+__bundle+')');}catch(e){return e;}"),
B=function(c,b,f){var g=[];a.forEach(c,function(a){function c(f){f=D(f,z,a,C);f===C?g.push(r[b]=C.result):(f instanceof Error&&(console.error("failed to evaluate i18n bundle; url\x3d"+b,f),f={}),g.push(r[b]=/nls\/[^\/]+\/[^\/]+$/.test(b)?f:{root:f,_v1x:1}))}var b=f.toUrl(a+".js");if(r[b])g.push(r[b]);else{var d=f.syncLoadNls(a);d||(d=z(a.replace(/nls\/([^\/]*)\/([^\/]*)$/,"nls/$2/$1")));if(d)g.push(d);else if(l)l.get({url:b,sync:!0,load:c,error:function(){g.push(r[b]={})}});else try{f.getText(b,!0,
c)}catch(h){g.push(r[b]={})}}});b&&b.apply(null,g)},z=function(a){for(var c,b=a.split("/"),f=k.global[b[0]],g=1;f&&g<b.length-1;f=f[b[g++]]);f&&((c=f[b[g]])||(c=f[b[g].replace(/-/g,"_")]),c&&(r[a]=c));return c};f.getLocalization=function(a,c,b){var f;a=s(a,c,b);u(a,!d.isXdUrl(d.toUrl(a+".js"))?function(a,c){B(a,c,d)}:d,function(a){f=a});return f};return h.mixin(f,{dynamic:!0,normalize:function(a,c){return/^\./.test(a)?c(a):a},load:u,cache:r,getL10nName:q})})},"dojo/_base/xhr":function(){define("./kernel ./sniff require ../io-query ../dom ../dom-form ./Deferred ./config ./json ./lang ./array ../on ../aspect ../request/watch ../request/xhr ../request/util".split(" "),
function(k,d,e,a,b,h,l,m,g,f,c,n,r,s,q,p){k._xhrObj=q._create;var t=k.config;k.objectToQuery=a.objectToQuery;k.queryToObject=a.queryToObject;k.fieldToObject=h.fieldToObject;k.formToObject=h.toObject;k.formToQuery=h.toQuery;k.formToJson=h.toJson;k._blockAsync=!1;var u=k._contentHandlers=k.contentHandlers={text:function(a){return a.responseText},json:function(a){return g.fromJson(a.responseText||null)},"json-comment-filtered":function(a){a=a.responseText;var c=a.indexOf("/*"),b=a.lastIndexOf("*/");
if(-1==c||-1==b)throw Error("JSON was not comment filtered");return g.fromJson(a.substring(c+2,b))},javascript:function(a){return k.eval(a.responseText)},xml:function(a){var b=a.responseXML;b&&(d("dom-qsa2.1")&&!b.querySelectorAll&&d("dom-parser"))&&(b=(new DOMParser).parseFromString(a.responseText,"application/xml"));if(d("ie")&&(!b||!b.documentElement)){var f=function(a){return"MSXML"+a+".DOMDocument"},f=["Microsoft.XMLDOM",f(6),f(4),f(3),f(2)];c.some(f,function(c){try{var f=new ActiveXObject(c);
f.async=!1;f.loadXML(a.responseText);b=f}catch(g){return!1}return!0})}return b},"json-comment-optional":function(a){return a.responseText&&/^[^{\[]*\/\*/.test(a.responseText)?u["json-comment-filtered"](a):u.json(a)}};k._ioSetArgs=function(c,g,d,e){var m={args:c,url:c.url},n=null;if(c.form){var n=b.byId(c.form),r=n.getAttributeNode("action");m.url=m.url||(r?r.value:k.doc?k.doc.URL:null);n=h.toObject(n)}r=[{}];n&&r.push(n);c.content&&r.push(c.content);c.preventCache&&r.push({"dojo.preventCache":(new Date).valueOf()});
m.query=a.objectToQuery(f.mixin.apply(null,r));m.handleAs=c.handleAs||"text";var s=new l(function(a){a.canceled=!0;g&&g(a);var c=a.ioArgs.error;c||(c=Error("request cancelled"),c.dojoType="cancel",a.ioArgs.error=c);return c});s.addCallback(d);var p=c.load;p&&f.isFunction(p)&&s.addCallback(function(a){return p.call(c,a,m)});var u=c.error;u&&f.isFunction(u)&&s.addErrback(function(a){return u.call(c,a,m)});var q=c.handle;q&&f.isFunction(q)&&s.addBoth(function(a){return q.call(c,a,m)});s.addErrback(function(a){return e(a,
s)});t.ioPublish&&(k.publish&&!1!==m.args.ioPublish)&&(s.addCallbacks(function(a){k.publish("/dojo/io/load",[s,a]);return a},function(a){k.publish("/dojo/io/error",[s,a]);return a}),s.addBoth(function(a){k.publish("/dojo/io/done",[s,a]);return a}));s.ioArgs=m;return s};var v=function(a){a=u[a.ioArgs.handleAs](a.ioArgs.xhr);return void 0===a?null:a},w=function(a,c){c.ioArgs.args.failOk||console.error(a);return a},x=function(a){0>=y&&(y=0,t.ioPublish&&(k.publish&&(!a||a&&!1!==a.ioArgs.args.ioPublish))&&
k.publish("/dojo/io/stop"))},y=0;r.after(s,"_onAction",function(){y-=1});r.after(s,"_onInFlight",x);k._ioCancelAll=s.cancelAll;k._ioNotifyStart=function(a){t.ioPublish&&(k.publish&&!1!==a.ioArgs.args.ioPublish)&&(y||k.publish("/dojo/io/start"),y+=1,k.publish("/dojo/io/send",[a]))};k._ioWatch=function(a,c,b,g){a.ioArgs.options=a.ioArgs.args;f.mixin(a,{response:a.ioArgs,isValid:function(b){return c(a)},isReady:function(c){return b(a)},handleResponse:function(c){return g(a)}});s(a);x(a)};k._ioAddQueryToUrl=
function(a){a.query.length&&(a.url+=(-1==a.url.indexOf("?")?"?":"\x26")+a.query,a.query=null)};k.xhr=function(a,c,b){var f,g=k._ioSetArgs(c,function(a){f&&f.cancel()},v,w),d=g.ioArgs;"postData"in c?d.query=c.postData:"putData"in c?d.query=c.putData:"rawBody"in c?d.query=c.rawBody:(2<arguments.length&&!b||-1==="POST|PUT".indexOf(a.toUpperCase()))&&k._ioAddQueryToUrl(d);var h={method:a,handleAs:"text",timeout:c.timeout,withCredentials:c.withCredentials,ioArgs:d};"undefined"!==typeof c.headers&&(h.headers=
c.headers);"undefined"!==typeof c.contentType&&(h.headers||(h.headers={}),h.headers["Content-Type"]=c.contentType);"undefined"!==typeof d.query&&(h.data=d.query);"undefined"!==typeof c.sync&&(h.sync=c.sync);k._ioNotifyStart(g);try{f=q(d.url,h,!0)}catch(e){return g.cancel(),g}g.ioArgs.xhr=f.response.xhr;f.then(function(){g.resolve(g)}).otherwise(function(a){d.error=a;a.response&&(a.status=a.response.status,a.responseText=a.response.text,a.xhr=a.response.xhr);g.reject(a)});return g};k.xhrGet=function(a){return k.xhr("GET",
a)};k.rawXhrPost=k.xhrPost=function(a){return k.xhr("POST",a,!0)};k.rawXhrPut=k.xhrPut=function(a){return k.xhr("PUT",a,!0)};k.xhrDelete=function(a){return k.xhr("DELETE",a)};k._isDocumentOk=function(a){return p.checkStatus(a.status)};k._getText=function(a){var c;k.xhrGet({url:a,sync:!0,load:function(a){c=a}});return c};f.mixin(k.xhr,{_xhrObj:k._xhrObj,fieldToObject:h.fieldToObject,formToObject:h.toObject,objectToQuery:a.objectToQuery,formToQuery:h.toQuery,formToJson:h.toJson,queryToObject:a.queryToObject,
contentHandlers:u,_ioSetArgs:k._ioSetArgs,_ioCancelAll:k._ioCancelAll,_ioNotifyStart:k._ioNotifyStart,_ioWatch:k._ioWatch,_ioAddQueryToUrl:k._ioAddQueryToUrl,_isDocumentOk:k._isDocumentOk,_getText:k._getText,get:k.xhrGet,post:k.xhrPost,put:k.xhrPut,del:k.xhrDelete});return k.xhr})},"dojo/io-query":function(){define(["./_base/lang"],function(k){var d={};return{objectToQuery:function(e){var a=encodeURIComponent,b=[],h;for(h in e){var l=e[h];if(l!=d[h]){var m=a(h)+"\x3d";if(k.isArray(l))for(var g=0,
f=l.length;g<f;++g)b.push(m+a(l[g]));else b.push(m+a(l))}}return b.join("\x26")},queryToObject:function(d){var a=decodeURIComponent;d=d.split("\x26");for(var b={},h,l,m=0,g=d.length;m<g;++m)if(l=d[m],l.length){var f=l.indexOf("\x3d");0>f?(h=a(l),l=""):(h=a(l.slice(0,f)),l=a(l.slice(f+1)));"string"==typeof b[h]&&(b[h]=[b[h]]);k.isArray(b[h])?b[h].push(l):b[h]=l}return b}}})},"dojo/dom-form":function(){define(["./_base/lang","./dom","./io-query","./json"],function(k,d,e,a){var b={fieldToObject:function(a){var b=
null;if(a=d.byId(a)){var e=a.name,g=(a.type||"").toLowerCase();if(e&&g&&!a.disabled)if("radio"==g||"checkbox"==g)a.checked&&(b=a.value);else if(a.multiple){b=[];for(a=[a.firstChild];a.length;)for(e=a.pop();e;e=e.nextSibling)if(1==e.nodeType&&"option"==e.tagName.toLowerCase())e.selected&&b.push(e.value);else{e.nextSibling&&a.push(e.nextSibling);e.firstChild&&a.push(e.firstChild);break}}else b=a.value}return b},toObject:function(a){var e={};a=d.byId(a).elements;for(var m=0,g=a.length;m<g;++m){var f=
a[m],c=f.name,n=(f.type||"").toLowerCase();if(c&&n&&0>"file|submit|image|reset|button".indexOf(n)&&!f.disabled){var r=e,s=c,f=b.fieldToObject(f);if(null!==f){var q=r[s];"string"==typeof q?r[s]=[q,f]:k.isArray(q)?q.push(f):r[s]=f}"image"==n&&(e[c+".x"]=e[c+".y"]=e[c].x=e[c].y=0)}}return e},toQuery:function(a){return e.objectToQuery(b.toObject(a))},toJson:function(d,e){return a.stringify(b.toObject(d),null,e?4:0)}};return b})},"dojo/json":function(){define(["./has"],function(k){var d="undefined"!=typeof JSON;
k.add("json-parse",d);k.add("json-stringify",d&&'{"a":1}'==JSON.stringify({a:0},function(a,b){return b||1}));if(k("json-stringify"))return JSON;var e=function(a){return('"'+a.replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")};return{parse:k("json-parse")?JSON.parse:function(a,b){if(b&&!/^([\s\[\{]*(?:"(?:\\.|[^"])*"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(a))throw new SyntaxError("Invalid characters in JSON");
return eval("("+a+")")},stringify:function(a,b,d){function l(a,f,c){b&&(a=b(c,a));var k;k=typeof a;if("number"==k)return isFinite(a)?a+"":"null";if("boolean"==k)return a+"";if(null===a)return"null";if("string"==typeof a)return e(a);if("function"==k||"undefined"==k)return m;if("function"==typeof a.toJSON)return l(a.toJSON(c),f,c);if(a instanceof Date)return'"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z"'.replace(/\{(\w+)(\+)?\}/g,function(c,b,f){c=a["getUTC"+b]()+(f?1:0);return 10>c?"0"+
c:c});if(a.valueOf()!==a)return l(a.valueOf(),f,c);var r=d?f+d:"",s=d?" ":"",q=d?"\n":"";if(a instanceof Array){var s=a.length,p=[];for(c=0;c<s;c++)k=l(a[c],r,c),"string"!=typeof k&&(k="null"),p.push(q+r+k);return"["+p.join(",")+q+f+"]"}p=[];for(c in a){var t;if(a.hasOwnProperty(c)){if("number"==typeof c)t='"'+c+'"';else if("string"==typeof c)t=e(c);else continue;k=l(a[c],r,c);"string"==typeof k&&p.push(q+r+t+":"+s+k)}}return"{"+p.join(",")+q+f+"}"}var m;"string"==typeof b&&(d=b,b=null);return l(a,
"","")}}})},"dojo/_base/json":function(){define(["./kernel","../json"],function(k,d){k.fromJson=function(d){return eval("("+d+")")};k._escapeString=d.stringify;k.toJsonIndentStr="\t";k.toJson=function(e,a){return d.stringify(e,function(a,d){if(d){var e=d.__json__||d.json;if("function"==typeof e)return e.call(d)}return d},a&&k.toJsonIndentStr)};return k})},"dojo/request/watch":function(){define("./util ../errors/RequestTimeoutError ../errors/CancelError ../_base/array ../_base/window ../has!host-browser?dom-addeventlistener?:../on:".split(" "),
function(k,d,e,a,b,h){function l(){for(var a=+new Date,b=0,h;b<f.length&&(h=f[b]);b++){var e=h.response,l=e.options;if(h.isCanceled&&h.isCanceled()||h.isValid&&!h.isValid(e))f.splice(b--,1),m._onAction&&m._onAction();else if(h.isReady&&h.isReady(e))f.splice(b--,1),h.handleResponse(e),m._onAction&&m._onAction();else if(h.startTime&&h.startTime+(l.timeout||0)<a)f.splice(b--,1),h.cancel(new d("Timeout exceeded",e)),m._onAction&&m._onAction()}m._onInFlight&&m._onInFlight(h);f.length||(clearInterval(g),
g=null)}function m(a){a.response.options.timeout&&(a.startTime=+new Date);a.isFulfilled()||(f.push(a),g||(g=setInterval(l,50)),a.response.options.sync&&l())}var g=null,f=[];m.cancelAll=function(){try{a.forEach(f,function(a){try{a.cancel(new e("All requests canceled."))}catch(c){}})}catch(c){}};b&&(h&&b.doc.attachEvent)&&h(b.global,"unload",function(){m.cancelAll()});return m})},"dojo/request/util":function(){define("exports ../errors/RequestError ../errors/CancelError ../Deferred ../io-query ../_base/array ../_base/lang ../promise/Promise".split(" "),
function(k,d,e,a,b,h,l,m){function g(a){return c(a)}function f(a){return void 0!==a.data?a.data:a.text}k.deepCopy=function(a,c){for(var b in c){var f=a[b],g=c[b];f!==g&&(f&&"object"===typeof f&&g&&"object"===typeof g?k.deepCopy(f,g):a[b]=g)}return a};k.deepCreate=function(a,c){c=c||{};var b=l.delegate(a),f,g;for(f in a)(g=a[f])&&"object"===typeof g&&(b[f]=k.deepCreate(g,c[f]));return k.deepCopy(b,c)};var c=Object.freeze||function(a){return a};k.deferred=function(b,h,s,q,p,t){var u=new a(function(a){h&&
h(u,b);return!a||!(a instanceof d)&&!(a instanceof e)?new e("Request canceled",b):a});u.response=b;u.isValid=s;u.isReady=q;u.handleResponse=p;s=u.then(g).otherwise(function(a){a.response=b;throw a;});k.notify&&s.then(l.hitch(k.notify,"emit","load"),l.hitch(k.notify,"emit","error"));q=s.then(f);p=new m;for(var v in q)q.hasOwnProperty(v)&&(p[v]=q[v]);p.response=s;c(p);t&&u.then(function(a){t.call(u,a)},function(a){t.call(u,b,a)});u.promise=p;u.then=p.then;return u};k.addCommonMethods=function(a,c){h.forEach(c||
["GET","POST","PUT","DELETE"],function(c){a[("DELETE"===c?"DEL":c).toLowerCase()]=function(b,f){f=l.delegate(f||{});f.method=c;return a(b,f)}})};k.parseArgs=function(a,c,f){var g=c.data,d=c.query;if(g&&!f&&"object"===typeof g&&!(g instanceof ArrayBuffer||g instanceof Blob))c.data=b.objectToQuery(g);d?("object"===typeof d&&(d=b.objectToQuery(d)),c.preventCache&&(d+=(d?"\x26":"")+"request.preventCache\x3d"+ +new Date)):c.preventCache&&(d="request.preventCache\x3d"+ +new Date);a&&d&&(a+=(~a.indexOf("?")?
"\x26":"?")+d);return{url:a,options:c,getHeader:function(a){return null}}};k.checkStatus=function(a){a=a||0;return 200<=a&&300>a||304===a||1223===a||!a}})},"dojo/errors/RequestError":function(){define(["./create"],function(k){return k("RequestError",function(d,e){this.response=e})})},"dojo/errors/RequestTimeoutError":function(){define(["./create","./RequestError"],function(k,d){return k("RequestTimeoutError",null,d,{dojoType:"timeout"})})},"dojo/request/xhr":function(){define(["../errors/RequestError",
"./watch","./handlers","./util","../has"],function(k,d,e,a,b){function h(c,b){var f=c.xhr;c.status=c.xhr.status;try{c.text=f.responseText}catch(g){}"xml"===c.options.handleAs&&(c.data=f.responseXML);if(!b)try{e(c)}catch(d){b=d}var h;if(b)this.reject(b);else{try{e(c)}catch(l){h=l}a.checkStatus(f.status)?h?this.reject(h):this.resolve(c):(b=h?new k("Unable to load "+c.url+" status: "+f.status+" and an error in handleAs: transformation of response",c):new k("Unable to load "+c.url+" status: "+f.status,
c),this.reject(b))}}function l(a){return this.xhr.getResponseHeader(a)}function m(e,p,t){var x=b("native-formdata")&&p&&p.data&&p.data instanceof FormData,y=a.parseArgs(e,a.deepCreate(q,p),x);e=y.url;p=y.options;var z,C=a.deferred(y,r,f,c,h,function(){z&&z()}),D=y.xhr=m._create();if(!D)return C.cancel(new k("XHR was not created")),t?C:C.promise;y.getHeader=l;n&&(z=n(D,C,y));var B=p.data,E=!p.sync,J=p.method;try{D.open(J,e,E,p.user||s,p.password||s);p.withCredentials&&(D.withCredentials=p.withCredentials);
b("native-response-type")&&p.handleAs in g&&(D.responseType=g[p.handleAs]);var H=p.headers;e=x?!1:"application/x-www-form-urlencoded";if(H)for(var P in H)"content-type"===P.toLowerCase()?e=H[P]:H[P]&&D.setRequestHeader(P,H[P]);e&&!1!==e&&D.setRequestHeader("Content-Type",e);(!H||!("X-Requested-With"in H))&&D.setRequestHeader("X-Requested-With","XMLHttpRequest");a.notify&&a.notify.emit("send",y,C.promise.cancel);D.send(B)}catch(I){C.reject(I)}d(C);D=null;return t?C:C.promise}b.add("native-xhr",function(){return"undefined"!==
typeof XMLHttpRequest});b.add("dojo-force-activex-xhr",function(){return b("activex")&&"file:"===window.location.protocol});b.add("native-xhr2",function(){if(b("native-xhr")&&!b("dojo-force-activex-xhr")){var a=new XMLHttpRequest;return"undefined"!==typeof a.addEventListener&&("undefined"===typeof opera||"undefined"!==typeof a.upload)}});b.add("native-formdata",function(){return"undefined"!==typeof FormData});b.add("native-response-type",function(){return b("native-xhr")&&"undefined"!==typeof(new XMLHttpRequest).responseType});
b.add("native-xhr2-blob",function(){if(b("native-response-type")){var a=new XMLHttpRequest;a.open("GET","/",!0);a.responseType="blob";var c=a.responseType;a.abort();return"blob"===c}});var g={blob:b("native-xhr2-blob")?"blob":"arraybuffer",document:"document",arraybuffer:"arraybuffer"},f,c,n,r;b("native-xhr2")?(f=function(a){return!this.isFulfilled()},r=function(a,c){c.xhr.abort()},n=function(a,c,b){function f(a){c.handleResponse(b)}function g(a){a=new k("Unable to load "+b.url+" status: "+a.target.status,
b);c.handleResponse(b,a)}function d(a){a.lengthComputable?(b.loaded=a.loaded,b.total=a.total,c.progress(b)):3===b.xhr.readyState&&(b.loaded="loaded"in a?a.loaded:a.position,c.progress(b))}a.addEventListener("load",f,!1);a.addEventListener("error",g,!1);a.addEventListener("progress",d,!1);return function(){a.removeEventListener("load",f,!1);a.removeEventListener("error",g,!1);a.removeEventListener("progress",d,!1);a=null}}):(f=function(a){return a.xhr.readyState},c=function(a){return 4===a.xhr.readyState},
r=function(a,c){var b=c.xhr,f=typeof b.abort;("function"===f||"object"===f||"unknown"===f)&&b.abort()});var s,q={data:null,query:null,sync:!1,method:"GET"};m._create=function(){throw Error("XMLHTTP not available");};if(b("native-xhr")&&!b("dojo-force-activex-xhr"))m._create=function(){return new XMLHttpRequest};else if(b("activex"))try{new ActiveXObject("Msxml2.XMLHTTP"),m._create=function(){return new ActiveXObject("Msxml2.XMLHTTP")}}catch(p){try{new ActiveXObject("Microsoft.XMLHTTP"),m._create=
function(){return new ActiveXObject("Microsoft.XMLHTTP")}}catch(t){}}a.addCommonMethods(m);return m})},"dojo/request/handlers":function(){define(["../json","../_base/kernel","../_base/array","../has","../selector/_loader"],function(k,d,e,a){function b(a){var b=f[a.options.handleAs];a.data=b?b(a):a.data||a.text;return a}a.add("activex","undefined"!==typeof ActiveXObject);a.add("dom-parser",function(a){return"DOMParser"in a});var h;if(a("activex")){var l=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.4.0",
"MSXML2.DOMDocument.3.0","MSXML.DOMDocument"],m;h=function(c){function b(a){try{var c=new ActiveXObject(a);c.async=!1;c.loadXML(g);f=c;m=a}catch(d){return!1}return!0}var f=c.data,g=c.text;f&&(a("dom-qsa2.1")&&!f.querySelectorAll&&a("dom-parser"))&&(f=(new DOMParser).parseFromString(g,"application/xml"));if(!f||!f.documentElement)(!m||!b(m))&&e.some(l,b);return f}}var g=function(c){return!a("native-xhr2-blob")&&"blob"===c.options.handleAs&&"undefined"!==typeof Blob?new Blob([c.xhr.response],{type:c.xhr.getResponseHeader("Content-Type")}):
c.xhr.response},f={javascript:function(a){return d.eval(a.text||"")},json:function(a){return k.parse(a.text||null)},xml:h,blob:g,arraybuffer:g,document:g};b.register=function(a,b){f[a]=b};return b})},"dgrid/extensions/ColumnReorder":function(){define("dojo/_base/lang dojo/_base/declare dojo/_base/array dojo/on dojo/query dojo/dnd/Source put-selector/put xstyle/css!../css/extensions/ColumnReorder.css".split(" "),function(k,d,e,a,b,h,l){function m(a,c){var b=c[2],f=a[b?"columnSets":"subRows"][c[1]];
return b?f[c[2]]:f}function g(a,c,b){c[2]?a.columnSets[c[1]][c[2]]=b:a.subRows[c[1]]=b}function f(a,c){return c.slice(("dgrid-"+a+"-").length)}var c=/(\d+)(?:-(\d+))?$/;k=d(h,{copyState:function(){return!1},checkAcceptance:function(a,c){return a==this},_legalMouseDown:function(a){return-1<a.target.className.indexOf("dgrid-resize-handle")?!1:this.inherited(arguments)},onDropInternal:function(b){var d=this.grid,h=c.exec(f(d.id,b[0].getAttribute("dndType"))),l=h[2]?"columnSets":"subRows",k=m(d,h),t=
d.columns;this.inherited(arguments);h&&setTimeout(function(){var c=e.map(b[0].parentNode.childNodes,function(a){return t[a.columnId]});g(d,h,c);c={grid:d,subRow:c,column:t[b[0].columnId],bubbles:!0,cancelable:!0,parentType:"dnd"};c[l]=d[l];a.emit(d.domNode,"dgrid-columnreorder",c)?d.set(l,d[l]):(g(d,h,k),d.renderHeader(),this._sort&&this._sort.length&&this.updateSortArrow(this._sort))},0)}});d=d(null,{columnDndConstructor:k,_initSubRowDnd:function(a,c){var b,f,g,d;f=0;for(g=a.length;f<g;f++)d=a[f],
!1!==d.reorderable&&(d=d.headerNode,"TH"!=d.tagName&&(d=d.parentNode),l(d,".dojoDndItem[dndType\x3d"+c+"]"),b||(b=d.parentNode));b&&this._columnDndSources.push(new this.columnDndConstructor(b,{horizontal:!0,grid:this}))},renderHeader:function(){var a="dgrid-"+this.id+"-",c,b;this.inherited(arguments);this._columnDndSources=[];if(this.columnSets){b=0;for(c=this.columnSets.length;b<c;b++)e.forEach(this.columnSets[b],function(c,f){this._initSubRowDnd(c,a+b+"-"+f)},this)}else e.forEach(this.subRows,function(c,
b){this._initSubRowDnd(c,a+b)},this)},_destroyColumns:function(){this._columnDndSources&&e.forEach(this._columnDndSources,function(a){a.destroy()});this.inherited(arguments)}});d.ColumnDndSource=k;return d})},"mw-gesture/GestureDetector":function(){define("dojo/_base/declare dojo/_base/lang dojo/Evented dojo/Deferred dojo/touch dojo/on ./GestureUtils ./domEvents/InputCapturer ./registry/GestureRegistry ./util/RemovableGroup".split(" "),function(k,d,e,a,b,h,l,m,g,f){return k([f],{constructor:function(a,
b){var f,h,e,l=this;this.inputCapturer=new m(a);this.own(this.inputCapturer);this.events={};for(f in g.discrete.events)g.discrete.events.hasOwnProperty(f)&&(h=new g.discrete.events[f]({options:b?b:{}}),h.setInputCapturer(this.inputCapturer),h.enable(),this.own(h),this.events[f]=h);for(f in g.discrete.blockers)g.discrete.blockers.hasOwnProperty(f)&&g.discrete.blockers[f].forEach(function(a){l.events[f].prevents(l.events[a])});var k=function(a,c){a.addGestureHandler({start:d.hitch(c,function(c){this._setGesture(a)})})};
this.gestures={};for(e in g.continuous.gestures)g.continuous.gestures.hasOwnProperty(e)&&(h=new g.continuous.gestures[e]({options:b?b:{}}),h.setInputCapturer(this.inputCapturer),h.enable(),this.own(h),this.gestures[e]=h,k(h,this));for(e in g.continuous.blockers)g.continuous.blockers.hasOwnProperty(e)&&g.continuous.blockers[e].forEach(function(a){l.gestures[e].prevents(l.gestures[a])})},_setGesture:function(a){var b=this;this._clearGesture();this._currentGesture=a;a._currentDeferred.promise.always(function(){b._currentGesture=
null})},_clearGesture:function(){this._currentGesture&&this._currentGesture.reset();this._currentGesture=null},remove:function(){this.inherited(arguments);this._clearGesture()},resetAllGestureEvents:function(){for(var a in this.events)this.events.hasOwnProperty(a)&&this.events[a].reset();for(a in this.gestures)this.gestures.hasOwnProperty(a)&&this.gestures[a].reset()},setOptions:function(a){for(var b in this.events)this.events.hasOwnProperty(b)&&this.events[b].setOptions(a);for(b in this.gestures)this.gestures.hasOwnProperty(b)&&
this.gestures[b].setOptions(a)}})})},"mw-gesture/GestureUtils":function(){define(["dojo/mouse"],function(k){var d={touchstart:!0,mousedown:!0,pointerdown:!0,MSPointerDown:!0},e={touchmove:!0,mousemove:!0,dojotouchmove:!0,pointermove:!0,MSPointerMove:!0},a={touchend:!0,mouseup:!0,dojotouchend:!0,pointerup:!0,MSPointerUp:!0},b={touchcancel:!0,mouseout:!0,pointercancel:!0,MSPointerCancel:!0},h={dojotouchmove:!0,dojotouchend:!0},l={mousedown:!0,mousemove:!0,mouseup:!0},m={touchstart:!0,touchmove:!0,touchend:!0,
touchcancel:!0},g={pointerdown:!0,pointermove:!0,pointerup:!0,MSPointerDown:!0,MSPointerMove:!0,MSPointerUp:!0},f={isDownEvent:function(a){return!!d[a.type]},isMoveEvent:function(a){return!!e[a.type]},isUpEvent:function(c){return!!a[c.type]},isCancelEvent:function(a){return!!b[a.type]},isSyntheticEvent:function(a){return!!h[a.type]},isPointerEvent:function(a){return!!g[a.type]},isDragStartEvent:function(a){return"dragstart"===a.type},isEventSinglePrimaryPointer:function(a){var b=!0;a.touches&&1!==
a.touches.length&&(f.isSyntheticEvent(a)||(b=!1));f.isMouseEvent(a)&&!k.isLeft(a)&&(b=!1);f.isPointerEvent(a)&&(b=f.isUpEvent(a)?!0:1===a.buttons);return b},isEventSingleSecondaryPointer:function(a){var b=!1;f.isMouseEvent(a)&&k.isRight(a)&&(b=!0);f.isPointerEvent(a)&&(b=f.isUpEvent(a)?!0:2===a.buttons);return b},isMouseEvent:function(a){return l[a.type]?!0:!1},isTouchEvent:function(a){var b=m[a.type]?!0:!1;return b=b||a.hasOwnProperty("touches")},areEventsInSameLocation:function(a,b){return a.pageX===
b.pageX&&a.pageY===b.pageY&&a.layerX===b.layerX&&a.layerY===b.layerY},areEventsOfSameType:function(a,b){return a.type===b.type},areIdenticMouseEvents:function(a,b){return f.isMouseEvent(a)&&f.isMouseEvent(b)&&f.areEventsOfSameType(a,b)&&f.areEventsInSameLocation(a,b)},getTimeoutCheckFcn:function(a,b){return function(f){b||(b=300);return!a?!1:Math.abs(a._softTimestamp-f._softTimestamp)<=b}},getLocalCheckFcn:function(a,b){return function(g){var d;if(!a)return!1;b||(b=f.isTouchEvent(a)?20:1);d=g.pageX-
a.pageX;g=g.pageY-a.pageY;return Math.sqrt(d*d+g*g)<b}},conglomerateChecks:function(a){return function(b){var f=!0;a.forEach(function(a){f=f&&a(b)});return f}},matchDragStart:function(a){return f.matchOn(a,[f.isDragStartEvent])},matchCancel:function(a){return f.matchOn(a,[f.isCancelEvent])},matchDown:function(a){return f.matchOn(a,[f.isDownEvent,f.isEventSinglePrimaryPointer])},matchDownMove:function(a){a=f.matchOn(a,[f.isDownEvent,f.isEventSinglePrimaryPointer]);return a=f.matchMultipleOn(a,[f.isMoveEvent,
f.isEventSinglePrimaryPointer])},matchDownUp:function(a){a=f.matchOn(a,[f.isDownEvent,f.isEventSinglePrimaryPointer]);a=f.matchMultipleOn(a,[f.isMoveEvent,f.isEventSinglePrimaryPointer],!0);return a=f.matchOn(a,[f.isUpEvent,f.isEventSinglePrimaryPointer])},matchTap:function(a){var b,g;b=f.matchOn(a,[f.isDownEvent,f.isEventSinglePrimaryPointer]);g=f.matchMultipleOn(b,[f.isMoveEvent,f.isEventSinglePrimaryPointer,f.getLocalCheckFcn(b.matchedEvent)],!0);return g=f.matchOn(g,[f.isUpEvent,f.isEventSinglePrimaryPointer,
f.getLocalCheckFcn(b.matchedEvent),f.getTimeoutCheckFcn(b.matchedEvent,a.options.tapTimeout)])},matchTapDown:function(a){var b,g;b=f.matchTap(a);g=f.matchMultipleOn(b,[f.isMoveEvent,f.isEventSinglePrimaryPointer,f.getLocalCheckFcn(b.matchedEvent)],!0);return g=f.matchOn(g,[f.isDownEvent,f.isEventSinglePrimaryPointer,f.getLocalCheckFcn(b.matchedEvent),f.getTimeoutCheckFcn(b.matchedEvent,a.options.tapTimeout)])},matchTapMove:function(a){a=f.matchTapDown(a);return a=f.matchMultipleOn(a,[f.isMoveEvent,
f.isEventSinglePrimaryPointer])},matchTapUp:function(a){a=f.matchTapDown(a);a=f.matchMultipleOn(a,[f.isMoveEvent,f.isEventSinglePrimaryPointer],!0);return a=f.matchOn(a,[f.isUpEvent,f.isEventSinglePrimaryPointer])},matchDoubleTap:function(a){var b,g;b=f.matchTap(a);g=f.matchMultipleOn(b,[f.isMoveEvent,f.isEventSinglePrimaryPointer,f.getLocalCheckFcn(b.matchedEvent)],!0);b=f.matchOn(g,[f.isDownEvent,f.isEventSinglePrimaryPointer,f.getLocalCheckFcn(b.matchedEvent),f.getTimeoutCheckFcn(b.matchedEvent,
a.options.tapTimeout)]);g=f.matchMultipleOn(b,[f.isMoveEvent,f.isEventSinglePrimaryPointer,f.getLocalCheckFcn(b.matchedEvent)],!0);return g=f.matchOn(g,[f.isUpEvent,f.isEventSinglePrimaryPointer,f.getLocalCheckFcn(b.matchedEvent),f.getTimeoutCheckFcn(b.matchedEvent,a.options.tapTimeout)])},matchDoubleTapDown:function(a){var b,g;b=f.matchDoubleTap(a);g=f.matchMultipleOn(b,[f.isMoveEvent,f.isEventSinglePrimaryPointer,f.getLocalCheckFcn(b.matchedEvent)],!0);return g=f.matchOn(g,[f.isDownEvent,f.isEventSinglePrimaryPointer,
f.getLocalCheckFcn(b.matchedEvent),f.getTimeoutCheckFcn(b.matchedEvent,a.options.tapTimeout)])},matchDoubleTapMove:function(a){a=f.matchDoubleTapDown(a);return a=f.matchMultipleOn(a,[f.isMoveEvent,f.isEventSinglePrimaryPointer])},matchDoubleTapUp:function(a){a=f.matchDoubleTapDown(a);a=f.matchMultipleOn(a,[f.isMoveEvent,f.isEventSinglePrimaryPointer],!0);return a=f.matchOn(a,[f.isUpEvent,f.isEventSinglePrimaryPointer])},matchTripleTap:function(a){var b,g;b=f.matchDoubleTap(a);g=f.matchMultipleOn(b,
[f.isMoveEvent,f.isEventSinglePrimaryPointer,f.getLocalCheckFcn(b.matchedEvent)],!0);b=f.matchOn(g,[f.isDownEvent,f.isEventSinglePrimaryPointer,f.getLocalCheckFcn(b.matchedEvent),f.getTimeoutCheckFcn(b.matchedEvent,a.options.tapTimeout)]);g=f.matchMultipleOn(b,[f.isMoveEvent,f.isEventSinglePrimaryPointer,f.getLocalCheckFcn(b.matchedEvent)],!0);return g=f.matchOn(g,[f.isUpEvent,f.isEventSinglePrimaryPointer,f.getLocalCheckFcn(b.matchedEvent),f.getTimeoutCheckFcn(b.matchedEvent,a.options.tapTimeout)])},
matchSecondaryDown:function(a){return f.matchOn(a,[f.isDownEvent,f.isEventSingleSecondaryPointer])},matchSecondaryDownMove:function(a){a=f.matchOn(a,[f.isDownEvent,f.isEventSingleSecondaryPointer]);return a=f.matchMultipleOn(a,[f.isMoveEvent,f.isEventSingleSecondaryPointer])},matchSecondaryDownUp:function(a){a=f.matchOn(a,[f.isDownEvent,f.isEventSingleSecondaryPointer]);a=f.matchMultipleOn(a,[f.isMoveEvent,f.isEventSingleSecondaryPointer],!0);return a=f.matchOn(a,[f.isUpEvent,f.isEventSingleSecondaryPointer])},
matchOn:function(a,b,g){return f.matchEvent(a,f.conglomerateChecks(b),g)},matchMultipleOn:function(a,b,g){return f.matchMultipleEvents(a,f.conglomerateChecks(b),g)},matchMultipleEvents:function(a,b,g){for(g=a=f.matchEvent(a,b,g);g.matchedEvent;)g=f.matchEvent(a,b,!0),g.matchedEvent&&(a=g);return a},matchEvent:function(a,b,f){var g,d,h,e,l,m;g=a.eventList;d=a.detectionList;h=a.eventOffset;l=a.hasFailed;m=a.options;e=null;if(l)return a;(a=g[h])?b(a)?(d[h]=!0,e=a,h++):f||(d[h]=!1,l=!0,h++):f||(l=!0);
return{eventList:g,detectionList:d,eventOffset:h,hasFailed:l,matchedEvent:e,options:m}},detectGesture:function(a,b,f){var g,d,h,e,l,m,k;d=!1;l=0;h=l<a.length;m=Array(a.length);for(f=f?f:{};h;){e=b({eventList:a,detectionList:m,eventOffset:l,hasFailed:!1,matchedEvent:null,options:f});k=[];for(g=l;g<e.detectionList.length;g++)if(e.detectionList[g])k.push(e.eventList[g]);else{k=[];break}h=e.eventOffset===e.eventList.length;g=0!==k.length;!e.hasFailed&&h?(d=!0,h=!1):h=h?e.hasFailed&&!g:!0;e=l<e.eventList.length-
1;if(h=h&&e){l++;for(g=0;g<m.length;g++)m[g]=null}}return{detected:d,potentialEventList:k}}};return f})},"mw-gesture/domEvents/InputCapturer":function(){define("dojo/_base/declare dojo/_base/lang dojo/Evented dojo/on dojo/touch ./DomEventDetector ../GestureUtils ../util/RemovableGroup".split(" "),function(k,d,e,a,b,h,l,m){return k([e],{constructor:function(a){this._useSoftTimestamps=!0;this._prevEvent=null;this._nodeHandlers=new m;this._documentHandlers=new m;this._addNodeHandlers(a)},_addNodeHandlers:function(g){this._nodeHandlers.remove();
this._nodeHandlers.own(a(g,b.press,d.hitch(this,function(a){this._onDown(a,g)})))},_addTemporaryHandlers:function(g){var f=new h(g.ownerDocument,!0);this._documentHandlers.remove();this._documentHandlers.own(a(f,b.release,d.hitch(this,"_onUp")));this._documentHandlers.own(a(f,b.move,d.hitch(this,"_onMove")));this._documentHandlers.own(a(f,b.cancel,d.hitch(this,"_onCancel")));this._documentHandlers.own(a(g,"dragstart",d.hitch(this,"_onDragStart")));this._documentHandlers.own(a(f,"drag",d.hitch(this,
"_onDrag")));this._documentHandlers.own(a(f,"dragend",d.hitch(this,"_onDragEnd")))},_onDown:function(a,b){this._addTemporaryHandlers(b);this._preprocessInput(a)},_onUp:function(a){this._documentHandlers.remove();this._preprocessInput(a)},_onMove:function(a){this._preprocessInput(a)},_onDragStart:function(a){this._preprocessInput(a)},_onDrag:function(a){this._preprocessInput(a)},_onDragEnd:function(a){this._documentHandlers.remove();this._preprocessInput(a)},_onCancel:function(a){"mouseout"!==a.type&&
(this._documentHandlers.remove(),this._preprocessInput(a))},_preprocessInput:function(a){var b=this._prevEvent;if(!b||!l.areIdenticMouseEvents(a,b))a._softTimestamp=this._useSoftTimestamps?Date.now():a.timeStamp,this._prevEvent=a,this._broadcastInput(a)},remove:function(){this._nodeHandlers.remove();this._documentHandlers.remove()},_broadcastInput:function(a){this.emit("receiveInput",a);this.emit("checkBlockers",a);this.emit("broadcastEvents",a)}})})},"mw-gesture/domEvents/DomEventDetector":function(){define(["dojo/_base/declare"],
function(k){return k([],{constructor:function(d,e){this._node=d;this._useCapturePhase=!!e},on:function(d,e){var a=this;this._node.addEventListener(d,e,this._useCapturePhase);return{remove:function(){a._node.removeEventListener(d,e,a._useCapturePhase)}}}})})},"mw-gesture/util/RemovableGroup":function(){define(["dojo/_base/declare"],function(k){return k([],{constructor:function(){this._removables=[]},own:function(d){d&&d.remove&&this._removables.push(d)},remove:function(){this._removables&&this._removables.forEach(function(d){d.remove()});
this._removables=[]}})})},"mw-gesture/registry/GestureRegistry":function(){define(["dojo/_base/declare","../GestureUtils","../gestures/_impl/EventListDiscreteRecognizer","../gestures/_impl/DiscreteSequenceContinuousRecognizer"],function(k,d,e,a){d={events:{cancel:k([e],{_matchFcn:d.matchCancel,_resetOnMatch:!0}),down:k([e],{_matchFcn:d.matchDown,_resetOnMatch:!0}),downMove:k([e],{_matchFcn:d.matchDownMove,_resetOnMatch:!1}),downUp:k([e],{_matchFcn:d.matchDownUp,_resetOnMatch:!0}),tap:k([e],{_matchFcn:d.matchTap,
_resetOnMatch:!0}),tapDown:k([e],{_matchFcn:d.matchTapDown,_resetOnMatch:!0}),tapMove:k([e],{_matchFcn:d.matchTapMove,_resetOnMatch:!1}),tapUp:k([e],{_matchFcn:d.matchTapUp,_resetOnMatch:!0}),doubleTap:k([e],{_matchFcn:d.matchDoubleTap,_resetOnMatch:!0}),doubleTapDown:k([e],{_matchFcn:d.matchDoubleTapDown,_resetOnMatch:!0}),doubleTapMove:k([e],{_matchFcn:d.matchDoubleTapMove,_resetOnMatch:!1}),doubleTapUp:k([e],{_matchFcn:d.matchDoubleTapUp,_resetOnMatch:!0}),tripleTap:k([e],{_matchFcn:d.matchTripleTap,
_resetOnMatch:!0}),secondaryDown:k([e],{_matchFcn:d.matchSecondaryDown,_resetOnMatch:!0}),secondaryMove:k([e],{_matchFcn:d.matchSecondaryDownMove,_resetOnMatch:!1}),secondaryUp:k([e],{_matchFcn:d.matchSecondaryDownUp,_resetOnMatch:!0}),dragStart:k([e],{_matchFcn:d.matchDragStart,_resetOnMatch:!0})},blockers:{tripleTap:["doubleTap","tap"],doubleTap:["tap"],doubleTapDown:["tapDown","down"],tapDown:["down"],doubleTapMove:["tapMove","downMove"],tapMove:["downMove"],doubleTapUp:["tapUp","downUp","doubleTapMove",
"tapMove"],tapUp:["downUp","tapMove"]}};return{continuous:{gestures:{down:k([a],{_recognizerTypes:{start:d.events.down,progress:[d.events.downMove],end:[d.events.downUp],cancel:[d.events.cancel,d.events.dragStart]}}),tapDown:k([a],{_recognizerTypes:{start:d.events.tapDown,progress:[d.events.tapMove],end:[d.events.tapUp],cancel:[d.events.cancel,d.events.dragStart]}}),doubleTapDown:k([a],{_recognizerTypes:{start:d.events.doubleTapDown,progress:[d.events.doubleTapMove],end:[d.events.doubleTapUp],cancel:[d.events.cancel,
d.events.dragStart]}}),secondaryDown:k([a],{_recognizerTypes:{start:d.events.secondaryDown,progress:[d.events.secondaryMove],end:[d.events.secondaryUp],cancel:[d.events.cancel,d.events.dragStart]}})},blockers:{doubleTapDown:["tapDown","down"],tapDown:["down"]}},discrete:d}})},"mw-gesture/gestures/_impl/EventListDiscreteRecognizer":function(){define(["dojo/_base/declare","../../GestureUtils","../DiscreteGestureRecognizer"],function(k,d,e){return k([e],{constructor:function(a){this._eventList=[]},reset:function(){this.inherited(arguments);
this._resetEventList()},_resetEventList:function(){this._eventList=[]},receiveInput:function(a){0<this._eventList.length&&d.isMoveEvent(a)&&d.isMoveEvent(this._eventList[this._eventList.length-1])?this._eventList[this._eventList.length-1]=a:this._eventList.push(a);a=d.detectGesture(this._eventList,this._matchFcn,this._options);this._resetOnMatch&&a.detected?this._resetEventList():this._eventList=a.potentialEventList;a.detected&&this.setRecognizerState(this.RECOGNIZER_STATES.MATCHED)}})})},"mw-gesture/gestures/DiscreteGestureRecognizer":function(){define(["dojo/_base/declare",
"dojo/on","./GestureRecognizer","../util/RemovableGroup","mw-log/Log"],function(k,d,e,a,b){return k([e],{addEventHandler:function(a){a=d(this,"discreteGestureOccurred",a);this.own(a);return a},broadcastEvents:function(a){if(this.getRecognizerState()===this.RECOGNIZER_STATES.MATCHED){this.setRecognizerState(this.RECOGNIZER_STATES.ACTIVE);try{this.emit("discreteGestureOccurred",a)}catch(d){b.warn("Error executing discrete gesture callback. "+d.message),b.warn(d.stack)}this.setRecognizerState(this.RECOGNIZER_STATES.INACTIVE)}}})})},
"mw-gesture/gestures/GestureRecognizer":function(){define("dojo/_base/declare dojo/_base/lang dojo/Evented dojo/on ../util/RemovableGroup mw-log/Log".split(" "),function(k,d,e,a,b,h){return k([e,b],{RECOGNIZER_STATES:{INACTIVE:"inactive",ACTIVE:"active",MATCHED:"matched"},constructor:function(a){this._recognizerState=this.RECOGNIZER_STATES.INACTIVE;this._options=a&&a.options?a.options:{};this._blockedRecognizers=[];this._inputHandlers=new b},setInputCapturer:function(a){this._inputHandlers.remove();
this._inputCapturer=a;this._enabled&&this._attachInputHandlers()},enable:function(){h.assert(this._inputCapturer,"Gesture recognizer must have an input capturer to be enabled.");this._enabled||(this._enabled=!0,this._attachInputHandlers())},_attachInputHandlers:function(){this._inputHandlers.remove();this._inputHandlers.own(a(this._inputCapturer,"receiveInput",d.hitch(this,"receiveInput")));this._inputHandlers.own(a(this._inputCapturer,"checkBlockers",d.hitch(this,"_checkBlockers")));this._inputHandlers.own(a(this._inputCapturer,
"broadcastEvents",d.hitch(this,"broadcastEvents")))},disable:function(){this._enabled=!1;this._inputHandlers.remove();this.reset()},remove:function(){this.disable();this.inherited(arguments)},prevents:function(a){this._blockedRecognizers.push(a)},setOptions:function(a){this._options=a?a:{}},_checkBlockers:function(){var a=this;this._blockedRecognizers.forEach(function(b){a.getRecognizerState()!==a.RECOGNIZER_STATES.INACTIVE&&b.reset()})},setRecognizerState:function(a){a!==this._recognizerState&&(this._recognizerState=
a,this.onRecognizerStateChange())},getRecognizerState:function(){return this._recognizerState},reset:function(){this.setRecognizerState(this.RECOGNIZER_STATES.INACTIVE)},onRecognizerStateChange:function(){},receiveInput:function(a){},broadcastEvents:function(a){}})})},"mw-log/Log":function(){define(["dojo/date/locale"],function(k){return function(){function d(a){m&&(g||!h||!h.log)&&m.apply(b,a)}function e(a){l[a]=function(){if(0!==f&&h&&h[a])if("assert"===a){if(!arguments[0])if(b.ScriptEngine){var c=
Array.prototype.slice.call(arguments);c.shift();h[a](!1,c)}else h[a].apply(h,arguments)}else if(b.ScriptEngine)if(-1!==a.indexOf("profile"))h[a]();else h[a](arguments[0]);else h[a].apply(h,arguments)}}function a(a,g){l[g]=function(){var e=Array.prototype.slice.call(arguments),l=k.format(new Date,{selector:"date",datePattern:"h:m:s.SSS"}),m=[g].concat(e),e=[l].concat(e);c.push(m);c.length>n&&c.shift();d(m);if(h&&(0<f?f>a:r.length+f<=a))if(h.firebug&&"error"!==g)h[g].apply(b,e);else if(h[g])h[g](e);
else h.log(e)}}var b=this,h=b.console,l={},m,g,f=9,c=[],n=25,r=["error","warn","info","debug","log"],s="assert clear count dir dirxml exception group groupCollapsed groupEnd profile profileEnd table time timeEnd trace".split(" "),q;for(q=s.length;0<=(q-=1);)e(s[q]);for(q=r.length;0<=(q-=1);)a(q,r[q]);l.setLevel=function(a){f="number"===typeof a?a:9};l.setCallback=function(a,b,f){var h=c.length;m=a||null;g="boolean"===typeof b?b:!1;for(a=h-("number"===f?f:h);a<h;)d(c[a+=1])};return l}()})},"dojo/date/locale":function(){define("../_base/lang ../_base/array ../date ../cldr/supplemental ../i18n ../regexp ../string ../i18n!../cldr/nls/gregorian module".split(" "),
function(k,d,e,a,b,h,l,m,g){function f(c,b,f,g){return g.replace(/([a-z])\1*/ig,function(d){var h,e,m=d.charAt(0);d=d.length;var k=["abbr","wide","narrow"];switch(m){case "G":h=b[4>d?"eraAbbr":"eraNames"][0>c.getFullYear()?0:1];break;case "y":h=c.getFullYear();switch(d){case 1:break;case 2:if(!f.fullYear){h=String(h);h=h.substr(h.length-2);break}default:e=!0}break;case "Q":case "q":h=Math.ceil((c.getMonth()+1)/3);e=!0;break;case "M":case "L":h=c.getMonth();3>d?(h+=1,e=!0):(m=["months","L"==m?"standAlone":
"format",k[d-3]].join("-"),h=b[m][h]);break;case "w":h=r._getWeekOfYear(c,0);e=!0;break;case "d":h=c.getDate();e=!0;break;case "D":h=r._getDayOfYear(c);e=!0;break;case "e":case "c":if(h=c.getDay(),2>d){h=(h-a.getFirstDayOfWeek(f.locale)+8)%7;break}case "E":h=c.getDay();3>d?(h+=1,e=!0):(m=["days","c"==m?"standAlone":"format",k[d-3]].join("-"),h=b[m][h]);break;case "a":m=12>c.getHours()?"am":"pm";h=f[m]||b["dayPeriods-format-wide-"+m];break;case "h":case "H":case "K":case "k":e=c.getHours();switch(m){case "h":h=
e%12||12;break;case "H":h=e;break;case "K":h=e%12;break;case "k":h=e||24}e=!0;break;case "m":h=c.getMinutes();e=!0;break;case "s":h=c.getSeconds();e=!0;break;case "S":h=Math.round(c.getMilliseconds()*Math.pow(10,d-3));e=!0;break;case "v":case "z":if(h=r._getZone(c,!0,f))break;d=4;case "Z":m=r._getZone(c,!1,f);m=[0>=m?"+":"-",l.pad(Math.floor(Math.abs(m)/60),2),l.pad(Math.abs(m)%60,2)];4==d&&(m.splice(0,0,"GMT"),m.splice(3,0,":"));h=m.join("");break;default:throw Error("dojo.date.locale.format: invalid pattern char: "+
g);}e&&(h=l.pad(h,d));return h})}function c(a,c,b,f){var g=function(a){return a};c=c||g;b=b||g;f=f||g;var h=a.match(/(''|[^'])+/g),e="'"==a.charAt(0);d.forEach(h,function(a,f){a?(h[f]=(e?b:c)(a.replace(/''/g,"'")),e=!e):h[f]=""});return f(h.join(""))}function n(a,c,b,f){f=h.escapeString(f);b.strict||(f=f.replace(" a"," ?a"));return f.replace(/([a-z])\1*/ig,function(f){var g;g=f.charAt(0);var d=f.length,h="",e="";b.strict?(1<d&&(h="0{"+(d-1)+"}"),2<d&&(e="0{"+(d-2)+"}")):(h="0?",e="0{0,2}");switch(g){case "y":g=
"\\d{2,4}";break;case "M":case "L":g=2<d?"\\S+?":"1[0-2]|"+h+"[1-9]";break;case "D":g="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+h+"[1-9][0-9]|"+e+"[1-9]";break;case "d":g="3[01]|[12]\\d|"+h+"[1-9]";break;case "w":g="[1-4][0-9]|5[0-3]|"+h+"[1-9]";break;case "E":case "e":case "c":g=".+?";break;case "h":g="1[0-2]|"+h+"[1-9]";break;case "k":g="1[01]|"+h+"\\d";break;case "H":g="1\\d|2[0-3]|"+h+"\\d";break;case "K":g="1\\d|2[0-4]|"+h+"[1-9]";break;case "m":case "s":g="[0-5]\\d";break;case "S":g="\\d{"+d+"}";
break;case "a":d=b.am||c["dayPeriods-format-wide-am"];h=b.pm||c["dayPeriods-format-wide-pm"];g=d+"|"+h;b.strict||(d!=d.toLowerCase()&&(g+="|"+d.toLowerCase()),h!=h.toLowerCase()&&(g+="|"+h.toLowerCase()),-1!=g.indexOf(".")&&(g+="|"+g.replace(/\./g,"")));g=g.replace(/\./g,"\\.");break;default:g=".*"}a&&a.push(f);return"("+g+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}var r={};k.setObject(g.id.replace(/\//g,"."),r);r._getZone=function(a,c,b){return c?e.getTimezoneName(a):a.getTimezoneOffset()};r.format=
function(a,g){g=g||{};var d=b.normalizeLocale(g.locale),h=g.formatLength||"short",d=r._getGregorianBundle(d),e=[],l=k.hitch(this,f,a,d,g);if("year"==g.selector)return c(d["dateFormatItem-yyyy"]||"yyyy",l);var m;"date"!=g.selector&&(m=g.timePattern||d["timeFormat-"+h])&&e.push(c(m,l));"time"!=g.selector&&(m=g.datePattern||d["dateFormat-"+h])&&e.push(c(m,l));return 1==e.length?e[0]:d["dateTimeFormat-"+h].replace(/\'/g,"").replace(/\{(\d+)\}/g,function(a,c){return e[c]})};r.regexp=function(a){return r._parseInfo(a).regexp};
r._parseInfo=function(a){a=a||{};var f=b.normalizeLocale(a.locale),f=r._getGregorianBundle(f),g=a.formatLength||"short",d=a.datePattern||f["dateFormat-"+g],h=a.timePattern||f["timeFormat-"+g],g="date"==a.selector?d:"time"==a.selector?h:f["dateTimeFormat-"+g].replace(/\{(\d+)\}/g,function(a,c){return[h,d][c]}),e=[];return{regexp:c(g,k.hitch(this,n,e,f,a)),tokens:e,bundle:f}};r.parse=function(a,c){var b=/[\u200E\u200F\u202A\u202E]/g,f=r._parseInfo(c),g=f.tokens,h=f.bundle,b=RegExp("^"+f.regexp.replace(b,
"")+"$",f.strict?"":"i").exec(a&&a.replace(b,""));if(!b)return null;var l=["abbr","wide","narrow"],m=[1970,0,1,0,0,0,0],k="",b=d.every(b,function(a,b){if(!b)return!0;var f=g[b-1],e=f.length,f=f.charAt(0);switch(f){case "y":if(2!=e&&c.strict)m[0]=a;else if(100>a)a=Number(a),f=""+(new Date).getFullYear(),e=100*f.substring(0,2),f=Math.min(Number(f.substring(2,4))+20,99),m[0]=a<f?e+a:e-100+a;else{if(c.strict)return!1;m[0]=a}break;case "M":case "L":if(2<e){if(e=h["months-"+("L"==f?"standAlone":"format")+
"-"+l[e-3]].concat(),c.strict||(a=a.replace(".","").toLowerCase(),e=d.map(e,function(a){return a.replace(".","").toLowerCase()})),a=d.indexOf(e,a),-1==a)return!1}else a--;m[1]=a;break;case "E":case "e":case "c":e=h["days-"+("c"==f?"standAlone":"format")+"-"+l[e-3]].concat();c.strict||(a=a.toLowerCase(),e=d.map(e,function(a){return a.toLowerCase()}));a=d.indexOf(e,a);if(-1==a)return!1;break;case "D":m[1]=0;case "d":m[2]=a;break;case "a":e=c.am||h["dayPeriods-format-wide-am"];f=c.pm||h["dayPeriods-format-wide-pm"];
if(!c.strict){var r=/\./g;a=a.replace(r,"").toLowerCase();e=e.replace(r,"").toLowerCase();f=f.replace(r,"").toLowerCase()}if(c.strict&&a!=e&&a!=f)return!1;k=a==f?"p":a==e?"a":"";break;case "K":24==a&&(a=0);case "h":case "H":case "k":if(23<a)return!1;m[3]=a;break;case "m":m[4]=a;break;case "s":m[5]=a;break;case "S":m[6]=a}return!0}),f=+m[3];"p"===k&&12>f?m[3]=f+12:"a"===k&&12==f&&(m[3]=0);f=new Date(m[0],m[1],m[2],m[3],m[4],m[5],m[6]);c.strict&&f.setFullYear(m[0]);var n=g.join(""),s=-1!=n.indexOf("d"),
n=-1!=n.indexOf("M");if(!b||n&&f.getMonth()>m[1]||s&&f.getDate()>m[2])return null;if(n&&f.getMonth()<m[1]||s&&f.getDate()<m[2])f=e.add(f,"hour",1);return f};var s=[],q={};r.addCustomFormats=function(a,c){s.push({pkg:a,name:c});q={}};r._getGregorianBundle=function(a){if(q[a])return q[a];var c={};d.forEach(s,function(f){f=b.getLocalization(f.pkg,f.name,a);c=k.mixin(c,f)},this);return q[a]=c};r.addCustomFormats(g.id.replace(/\/date\/locale$/,".cldr"),"gregorian");r.getNames=function(a,c,b,f){var g;f=
r._getGregorianBundle(f);a=[a,b,c];"standAlone"==b&&(b=a.join("-"),g=f[b],1==g[0]&&(g=void 0));a[1]="format";return(g||f[a.join("-")]).concat()};r.isWeekend=function(c,b){var f=a.getWeekend(b),g=(c||new Date).getDay();f.end<f.start&&(f.end+=7,g<f.start&&(g+=7));return g>=f.start&&g<=f.end};r._getDayOfYear=function(a){return e.difference(new Date(a.getFullYear(),0,1,a.getHours()),a)+1};r._getWeekOfYear=function(a,c){1==arguments.length&&(c=0);var b=(new Date(a.getFullYear(),0,1)).getDay(),f=Math.floor((r._getDayOfYear(a)+
(b-c+7)%7-1)/7);b==c&&f++;return f};return r})},"dojo/date":function(){define(["./has","./_base/lang"],function(k,d){var e={getDaysInMonth:function(a){var b=a.getMonth();return 1==b&&e.isLeapYear(a)?29:[31,28,31,30,31,30,31,31,30,31,30,31][b]},isLeapYear:function(a){a=a.getFullYear();return!(a%400)||!(a%4)&&!!(a%100)},getTimezoneName:function(a){var b=a.toString(),d="",e=b.indexOf("(");if(-1<e)d=b.substring(++e,b.indexOf(")"));else if(e=/([A-Z\/]+) \d{4}$/,b=b.match(e))d=b[1];else if(b=a.toLocaleString(),
e=/ ([A-Z\/]+)$/,b=b.match(e))d=b[1];return"AM"==d||"PM"==d?"":d},compare:function(a,b,d){a=new Date(+a);b=new Date(+(b||new Date));"date"==d?(a.setHours(0,0,0,0),b.setHours(0,0,0,0)):"time"==d&&(a.setFullYear(0,0,0),b.setFullYear(0,0,0));return a>b?1:a<b?-1:0},add:function(a,b,d){var e=new Date(+a),m=!1,g="Date";switch(b){case "day":break;case "weekday":var f;(b=d%5)?f=parseInt(d/5):(b=0<d?5:-5,f=0<d?(d-5)/5:(d+5)/5);var c=a.getDay(),k=0;6==c&&0<d?k=1:0==c&&0>d&&(k=-1);c+=b;if(0==c||6==c)k=0<d?2:
-2;d=7*f+b+k;break;case "year":g="FullYear";m=!0;break;case "week":d*=7;break;case "quarter":d*=3;case "month":m=!0;g="Month";break;default:g="UTC"+b.charAt(0).toUpperCase()+b.substring(1)+"s"}if(g)e["set"+g](e["get"+g]()+d);m&&e.getDate()<a.getDate()&&e.setDate(0);return e},difference:function(a,b,d){b=b||new Date;d=d||"day";var l=b.getFullYear()-a.getFullYear(),m=1;switch(d){case "quarter":a=a.getMonth();b=b.getMonth();a=Math.floor(a/3)+1;b=Math.floor(b/3)+1;m=b+4*l-a;break;case "weekday":l=Math.round(e.difference(a,
b,"day"));d=parseInt(e.difference(a,b,"week"));m=l%7;if(0==m)l=5*d;else{var g=0,f=a.getDay();b=b.getDay();d=parseInt(l/7);m=l%7;a=new Date(a);a.setDate(a.getDate()+7*d);a=a.getDay();if(0<l)switch(!0){case 6==f:g=-1;break;case 0==f:g=0;break;case 6==b:g=-1;break;case 0==b:g=-2;break;case 5<a+m:g=-2}else if(0>l)switch(!0){case 6==f:g=0;break;case 0==f:g=1;break;case 6==b:g=2;break;case 0==b:g=1;break;case 0>a+m:g=2}l=l+g-2*d}m=l;break;case "year":m=l;break;case "month":m=b.getMonth()-a.getMonth()+12*
l;break;case "week":m=parseInt(e.difference(a,b,"day")/7);break;case "day":m/=24;case "hour":m/=60;case "minute":m/=60;case "second":m/=1E3;case "millisecond":m*=b.getTime()-a.getTime()}return Math.round(m)}};d.mixin(d.getObject("dojo.date",!0),e);return e})},"dojo/cldr/supplemental":function(){define(["../_base/lang","../i18n"],function(k,d){var e={};k.setObject("dojo.cldr.supplemental",e);e.getFirstDayOfWeek=function(a){a={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,ly:6,ma:6,om:6,
qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0}[e._region(a)];return void 0===a?1:a};e._region=function(a){a=d.normalizeLocale(a);a=a.split("-");var b=a[1];b?4==b.length&&(b=a[2]):b={aa:"et",ab:"ge",af:"za",ak:"gh",am:"et",ar:"eg",
as:"in",av:"ru",ay:"bo",az:"az",ba:"ru",be:"by",bg:"bg",bi:"vu",bm:"ml",bn:"bd",bo:"cn",br:"fr",bs:"ba",ca:"es",ce:"ru",ch:"gu",co:"fr",cr:"ca",cs:"cz",cv:"ru",cy:"gb",da:"dk",de:"de",dv:"mv",dz:"bt",ee:"gh",el:"gr",en:"us",es:"es",et:"ee",eu:"es",fa:"ir",ff:"sn",fi:"fi",fj:"fj",fo:"fo",fr:"fr",fy:"nl",ga:"ie",gd:"gb",gl:"es",gn:"py",gu:"in",gv:"gb",ha:"ng",he:"il",hi:"in",ho:"pg",hr:"hr",ht:"ht",hu:"hu",hy:"am",ia:"fr",id:"id",ig:"ng",ii:"cn",ik:"us","in":"id",is:"is",it:"it",iu:"ca",iw:"il",ja:"jp",
ji:"ua",jv:"id",jw:"id",ka:"ge",kg:"cd",ki:"ke",kj:"na",kk:"kz",kl:"gl",km:"kh",kn:"in",ko:"kr",ks:"in",ku:"tr",kv:"ru",kw:"gb",ky:"kg",la:"va",lb:"lu",lg:"ug",li:"nl",ln:"cd",lo:"la",lt:"lt",lu:"cd",lv:"lv",mg:"mg",mh:"mh",mi:"nz",mk:"mk",ml:"in",mn:"mn",mo:"ro",mr:"in",ms:"my",mt:"mt",my:"mm",na:"nr",nb:"no",nd:"zw",ne:"np",ng:"na",nl:"nl",nn:"no",no:"no",nr:"za",nv:"us",ny:"mw",oc:"fr",om:"et",or:"in",os:"ge",pa:"in",pl:"pl",ps:"af",pt:"br",qu:"pe",rm:"ch",rn:"bi",ro:"ro",ru:"ru",rw:"rw",sa:"in",
sd:"in",se:"no",sg:"cf",si:"lk",sk:"sk",sl:"si",sm:"ws",sn:"zw",so:"so",sq:"al",sr:"rs",ss:"za",st:"za",su:"id",sv:"se",sw:"tz",ta:"in",te:"in",tg:"tj",th:"th",ti:"et",tk:"tm",tl:"ph",tn:"za",to:"to",tr:"tr",ts:"za",tt:"ru",ty:"pf",ug:"cn",uk:"ua",ur:"pk",uz:"uz",ve:"za",vi:"vn",wa:"be",wo:"sn",xh:"za",yi:"il",yo:"ng",za:"cn",zh:"cn",zu:"za",ace:"id",ady:"ru",agq:"cm",alt:"ru",amo:"ng",asa:"tz",ast:"es",awa:"in",bal:"pk",ban:"id",bas:"cm",bax:"cm",bbc:"id",bem:"zm",bez:"tz",bfq:"in",bft:"pk",bfy:"in",
bhb:"in",bho:"in",bik:"ph",bin:"ng",bjj:"in",bku:"ph",bqv:"ci",bra:"in",brx:"in",bss:"cm",btv:"pk",bua:"ru",buc:"yt",bug:"id",bya:"id",byn:"er",cch:"ng",ccp:"in",ceb:"ph",cgg:"ug",chk:"fm",chm:"ru",chp:"ca",chr:"us",cja:"kh",cjm:"vn",ckb:"iq",crk:"ca",csb:"pl",dar:"ru",dav:"ke",den:"ca",dgr:"ca",dje:"ne",doi:"in",dsb:"de",dua:"cm",dyo:"sn",dyu:"bf",ebu:"ke",efi:"ng",ewo:"cm",fan:"gq",fil:"ph",fon:"bj",fur:"it",gaa:"gh",gag:"md",gbm:"in",gcr:"gf",gez:"et",gil:"ki",gon:"in",gor:"id",grt:"in",gsw:"ch",
guz:"ke",gwi:"ca",haw:"us",hil:"ph",hne:"in",hnn:"ph",hoc:"in",hoj:"in",ibb:"ng",ilo:"ph",inh:"ru",jgo:"cm",jmc:"tz",kaa:"uz",kab:"dz",kaj:"ng",kam:"ke",kbd:"ru",kcg:"ng",kde:"tz",kdt:"th",kea:"cv",ken:"cm",kfo:"ci",kfr:"in",kha:"in",khb:"cn",khq:"ml",kht:"in",kkj:"cm",kln:"ke",kmb:"ao",koi:"ru",kok:"in",kos:"fm",kpe:"lr",krc:"ru",kri:"sl",krl:"ru",kru:"in",ksb:"tz",ksf:"cm",ksh:"de",kum:"ru",lag:"tz",lah:"pk",lbe:"ru",lcp:"cn",lep:"in",lez:"ru",lif:"np",lis:"cn",lki:"ir",lmn:"in",lol:"cd",lua:"cd",
luo:"ke",luy:"ke",lwl:"th",mad:"id",mag:"in",mai:"in",mak:"id",man:"gn",mas:"ke",mdf:"ru",mdh:"ph",mdr:"id",men:"sl",mer:"ke",mfe:"mu",mgh:"mz",mgo:"cm",min:"id",mni:"in",mnk:"gm",mnw:"mm",mos:"bf",mua:"cm",mwr:"in",myv:"ru",nap:"it",naq:"na",nds:"de","new":"np",niu:"nu",nmg:"cm",nnh:"cm",nod:"th",nso:"za",nus:"sd",nym:"tz",nyn:"ug",pag:"ph",pam:"ph",pap:"bq",pau:"pw",pon:"fm",prd:"ir",raj:"in",rcf:"re",rej:"id",rjs:"np",rkt:"in",rof:"tz",rwk:"tz",saf:"gh",sah:"ru",saq:"ke",sas:"id",sat:"in",saz:"in",
sbp:"tz",scn:"it",sco:"gb",sdh:"ir",seh:"mz",ses:"ml",shi:"ma",shn:"mm",sid:"et",sma:"se",smj:"se",smn:"fi",sms:"fi",snk:"ml",srn:"sr",srr:"sn",ssy:"er",suk:"tz",sus:"gn",swb:"yt",swc:"cd",syl:"bd",syr:"sy",tbw:"ph",tcy:"in",tdd:"cn",tem:"sl",teo:"ug",tet:"tl",tig:"er",tiv:"ng",tkl:"tk",tmh:"ne",tpi:"pg",trv:"tw",tsg:"ph",tts:"th",tum:"mw",tvl:"tv",twq:"ne",tyv:"ru",tzm:"ma",udm:"ru",uli:"fm",umb:"ao",unr:"in",unx:"in",vai:"lr",vun:"tz",wae:"ch",wal:"et",war:"ph",xog:"ug",xsr:"np",yao:"mz",yap:"fm",
yav:"cm",zza:"tr"}[a[0]];return b};e.getWeekend=function(a){var b=e._region(a);a={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5}[b];b={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6}[b];void 0===a&&(a=6);void 0===b&&(b=0);return{start:a,end:b}};return e})},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(k,d){var e={};d.setObject("dojo.regexp",e);e.escapeString=function(a,
b){return a.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,function(a){return b&&-1!=b.indexOf(a)?a:"\\"+a})};e.buildGroupRE=function(a,b,d){if(!(a instanceof Array))return b(a);for(var l=[],m=0;m<a.length;m++)l.push(b(a[m]));return e.group(l.join("|"),d)};e.group=function(a,b){return"("+(b?"?:":"")+a+")"};return e})},"mw-gesture/gestures/_impl/DiscreteSequenceContinuousRecognizer":function(){define("dojo/_base/declare dojo/_base/lang dojo/Evented dojo/Deferred dojo/aspect dojo/on ../ContinuousGestureRecognizer ../../util/RemovableGroup".split(" "),
function(k,d,e,a,b,h,l,m){return k([l],{_recognizerTypes:{start:{},progress:[],end:[],cancel:[]},constructor:function(a){var f=this;this._recognizerHandlers=new m;this.own(h(this,"always",function(){f.reset();f._recognizerHandlers.remove()}));this._recognizers={start:{},progress:[],end:[],cancel:[]};this._recognizers.start=new this._recognizerTypes.start(a);this._recognizerTypes.progress.forEach(function(c){f._recognizers.progress.push(new c(a))});this._recognizerTypes.end.forEach(function(c){f._recognizers.end.push(new c(a))});
this._recognizerTypes.cancel.forEach(function(c){f._recognizers.cancel.push(new c(a))});b.after(this._recognizers.start,"onRecognizerStateChange",function(){f._recognizers.start.getRecognizerState()===f.RECOGNIZER_STATES.MATCHED&&f.setRecognizerState(f.RECOGNIZER_STATES.MATCHED)});this.own(h(f._recognizers.start,"discreteGestureOccurred",function(a){f._addTemporaryHandlers(f._recognizers.progress,f._recognizers.end,f._recognizers.cancel);f.onStart(a)}))},setInputCapturer:function(a){this.inherited(arguments);
this._callGestureRecognizersFcn("setInputCapturer",a)},enable:function(){this.inherited(arguments);this._callGestureRecognizersFcn("enable")},disable:function(){this.inherited(arguments);this._callGestureRecognizersFcn("disable")},prevents:function(a){this.inherited(arguments);this._callGestureRecognizersFcn("prevents",a)},reset:function(){this.inherited(arguments);this._callGestureRecognizersFcn("reset")},setOptions:function(a){this.inherited(arguments);this._callGestureRecognizersFcn("setOptions",
a)},_callGestureRecognizersFcn:function(a,b){if(this._recognizers){var c=function(c){c[a].call(c,b)};c(this._recognizers.start);this._recognizers.progress.forEach(c);this._recognizers.end.forEach(c);this._recognizers.cancel.forEach(c)}},_addTemporaryHandlers:function(a,b,c){var e=this;a.forEach(function(a){e._recognizerHandlers.own(h(a,"discreteGestureOccurred",d.hitch(e,"onProgress")))});b.forEach(function(a){e._recognizerHandlers.own(h(a,"discreteGestureOccurred",d.hitch(e,"onEnd")))});c.forEach(function(a){e._recognizerHandlers.own(h(a,
"discreteGestureOccurred",d.hitch(e,"onCancel")))})}})})},"mw-gesture/gestures/ContinuousGestureRecognizer":function(){define("dojo/_base/declare dojo/_base/lang dojo/Evented dojo/Deferred dojo/on ./GestureRecognizer ../util/RemovableGroup".split(" "),function(k,d,e,a,b,h,l){return k([h],{constructor:function(a){this._temporaryHandlers=new l},onRecognizerStateChange:function(){switch(this.getRecognizerState()){case this.RECOGNIZER_STATES.ACTIVE:this._setCurrentDeferred(new a);break;case this.RECOGNIZER_STATES.MATCHED:this._clearDeferred();
break;case this.RECOGNIZER_STATES.INACTIVE:this._clearDeferred()}},_setCurrentDeferred:function(a){var b=this;this._clearDeferred();this._currentDeferred=a;this._currentDeferred.promise.always(function(){b.emit("always");b._temporaryHandlers.remove();b._currentDeferred=null})},getGestureActive:function(){return this.getRecognizerState()===this.RECOGNIZER_STATES.ACTIVE},_clearDeferred:function(){this._currentDeferred&&!this._currentDeferred.isFulfilled()&&this._currentDeferred.cancel()},addGestureHandler:function(a){a=
this._attachGestureHandler(a);this.own(a);return a},addTemporaryGestureHandler:function(a){a=this._attachGestureHandler(a);this._temporaryHandlers.own(a);return a},_attachGestureHandler:function(a){var g=new l;a&&(a.start&&g.own(b(this,"start",d.hitch(a,a.start))),a.progress&&g.own(b(this,"progress",d.hitch(a,a.progress))),a.end&&g.own(b(this,"end",d.hitch(a,a.end))),a.cancel&&g.own(b(this,"cancel",d.hitch(a,a.cancel))),a.always&&g.own(b(this,"always",d.hitch(a,a.always))));return g},onStart:function(a){this.setRecognizerState(this.RECOGNIZER_STATES.ACTIVE);
this.emit("start",a)},onProgress:function(a){this.getGestureActive()&&this.emit("progress",a)},onEnd:function(a){this.getGestureActive()&&(this.emit("end",a),this._currentDeferred.resolve(),this.setRecognizerState(this.RECOGNIZER_STATES.INACTIVE))},onCancel:function(a){this.getGestureActive()&&(this.emit("cancel",a),this._currentDeferred.cancel(),this.setRecognizerState(this.RECOGNIZER_STATES.INACTIVE))}})})},"mw-menu/ContextMenu":function(){define("dojo/_base/declare dojo/_base/lang dijit/focus dojo/keys dojo/on dojo/query dijit/registry dijit/popup dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container mw-menu/mixins/KeyNavMixin mw-menu/mixins/OnOpenMixin mw-menu/mixins/OnCloseMixin mw-menu/mixins/ContainerFocusMixin mw-menu/mixins/MenuFocusMixin mw-menu/mixins/property/MaxHeightMixin mw-mixins/property/TagMixin mw-mixins/property/VisualFamilyMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/Menu.html".split(" "),
function(k,d,e,a,b,h,l,m,g,f,c,n,r,s,q,p,t,u,v,w,x){return k(w.validate([g,n,f,c,r,s,q,p,t,u,v]),{baseClass:"mwWidget mwContextMenu",disabled:!1,templateString:x,postCreate:function(){this.inherited(arguments);this._activeEventListeners=[];this._onOpenEventListenersInfo=[{event:"wheel",target:document.body,callback:d.hitch(this,"_onWheel")},{event:"mousewheel",target:document.body,callback:d.hitch(this,"_onWheel")},{event:"mousedown",target:document.body,callback:d.hitch(this,function(a){this._shouldCloseMenu(a.target)&&
this.closeMenu()}),useCapture:!0},{event:"mouseenter",target:document.body,callback:d.hitch(this,this._onMouseMovement),useCapture:!0},{event:"mouseover",target:document.body,callback:d.hitch(this,this._onMouseMovement),useCapture:!0},{event:"keydown",target:this.domNode,callback:d.hitch(this,function(c){c.keyCode===a.ESCAPE&&(this.closeMenu(),document.body.classList.contains("mwHasFocusManager")?this.emit("restorefocus"):e.focus(this._previousFocusNode))})},{event:"change",target:this.domNode,callback:d.hitch(this,
function(a){a=l.getEnclosingWidget(a.target);(a.get("closeMenuOnClick")||void 0===a.get("closeMenuOnClick"))&&this.closeMenu()})},{event:"close",target:this.domNode,callback:d.hitch(this,this._cleanupOnClose)}];this.own(b(this.domNode,"open",d.hitch(this,this._handleOpen)));this.set("disabled",this.disabled)},_setDisabledAttr:function(a){if("boolean"===typeof value)throw Error("Expected 'disabled' property to be a boolean");a?this._removeRightClickEventListener():this._addRightClickEventListener();
this._set("disabled",a)},_addRightClickEventListener:function(){this._rightClickListener||(this._rightClickListener=b(document.body,"contextmenu",d.hitch(this,this._createCallback(d.hitch(this,this._onContextMenu),d.hitch(this,this._onDoubleContextMenu),200,!0))),this.own(this._rightClickListener))},_removeRightClickEventListener:function(){this._rightClickListener&&(this._rightClickListener.remove(),delete this._rightClickListener)},_addOnOpenEventListeners:function(){if(this._activeEventListeners.length<
this._onOpenEventListenersInfo.length)for(var a=0;a<this._onOpenEventListenersInfo.length;a++)this._onOpenEventListenersInfo[a].useCapture?(this._onOpenEventListenersInfo[a].target.addEventListener(this._onOpenEventListenersInfo[a].event,this._onOpenEventListenersInfo[a].callback,!0),this._activeEventListeners[a]=[{target:this._onOpenEventListenersInfo[a].target,event:this._onOpenEventListenersInfo[a].event,callback:this._onOpenEventListenersInfo[a].callback,useCapture:!0}]):this._activeEventListeners[a]=
this.own(b(this._onOpenEventListenersInfo[a].target,this._onOpenEventListenersInfo[a].event,this._onOpenEventListenersInfo[a].callback))},_removeOnOpenEventListeners:function(){if(0<this._activeEventListeners.length)for(;0<this._activeEventListeners.length;){var a=this._activeEventListeners.pop()[0];a.useCapture?a.target.removeEventListener(a.event,a.callback,!0):a.remove()}},_onWheel:function(a){this.isDescendant(a.target)||this.closeMenu()},isMenuOpen:function(){return this.domNode&&this.domNode.parentElement&&
"none"!==this.domNode.parentElement.style.display},open:function(a){this.openMenu(a)},openMenu:function(a){if(!this.get("disabled")){this._computeTargetNodes(a);a.doNotClose=this._nodeMatchesSelector(a.target,".galleryPopup, .galleryPopup  *, .mwSectionPopup, .mwSectionPopup *");if(a.target){var c=l.getEnclosingWidget(a.target);c&&c.id&&this.domNode.setAttribute("data-target-id",c.id)}if("contextmenu"===a.type)this._handleRightClick(a);else if(a.target instanceof HTMLElement&&isNaN(a.x)&&isNaN(a.y))this._handleOpenWithDomNode(a);
else if(!a.target&&!isNaN(a.x)&&!isNaN(a.y))this._handleOpenWithXY(a);else throw Error("Invalid parameters passed");}},_onMouseMovement:function(a){this.isDescendant(a.target)||(a.stopImmediatePropagation(),a.preventDefault())},_nodeMatchesSelector:function(a,c){var b=!1;a&&c&&(a.matches?b=a.matches(c):a.matchesSelector?b=a.matchesSelector(c):a.webkitMatchesSelector?b=a.webkitMatchesSelector(c):a.mozMatchesSelector?b=a.mozMatchesSelector(c):a.msMatchesSelector?b=a.msMatchesSelector(c):a.oMatchesSelector&&
(b=a.oMatchesSelector(c)));return b},_handleRightClick:function(a){var c;if(0<=this._contextMenuNodes.indexOf(a.target)){if(this.willOpenCallback&&(c=this.willOpenCallback({target:a.target,x:a.clientX,y:a.clientY})))return;this._previousFocusNode=a.target;1>a.pageX&&1>a.pageY?this._showMenu({around:a.target,popup:this,doNotClose:a.doNotClose}):this._showMenu({x:a.pageX,y:a.pageY,popup:this,doNotClose:a.doNotClose})}},_handleOpenWithDomNode:function(a){var c;if(0<=this._contextMenuNodes.indexOf(a.target)){if(this.willOpenCallback&&
(c=this.willOpenCallback({target:a})))return;this._previousFocusNode=a.target;this._showMenu({around:a.target,popup:this,doNotClose:a.doNotClose})}},_handleOpenWithXY:function(a){var c;if(this.willOpenCallback&&(c=this.willOpenCallback({target:a.target})))return;this._showMenu({x:a.x,y:a.y,popup:this})},_showMenu:function(a){m.open(a)},_handleOpen:function(){this._addOnOpenEventListeners();this._handleEmptyContextMenu()},_handleEmptyContextMenu:function(){0===this.domNode.children.length?this.domNode.parentElement&&
(this.domNode.parentElement.style.display="none"):this.domNode.parentElement&&(this.domNode.parentElement.style.display="")},close:function(){this.closeMenu()},closeMenu:function(){m.close(this)},_cleanupOnClose:function(){this._removeOnOpenEventListeners();this.domNode&&(this.domNode.removeAttribute("data-target-id"),this.domNode.parentNode&&(this.domNode.parentNode.style.overflowX="visible",this.domNode.parentNode.style.overflowY="visible"))},_shouldCloseMenu:function(a){var c=!0;if(!this.isMenuOpen())return!1;
if(a&&(this.isDescendant(a)||this.targetNodes&&0<=this.targetNodes.indexOf(a)))c=!1;return c},_setTargetNodesAttr:function(a){if(null===a||void 0===a)a=[];this._set("targetNodes",a)},_computeTargetNodes:function(a){this._contextMenuNodes=[];this.targetNodes&&this.targetNodes.forEach(function(c){"string"===typeof c?h(c).forEach(function(a){var c=a.querySelectorAll("*");Object.keys(c).forEach(function(a){this._contextMenuNodes.push(c[a])},this);this._contextMenuNodes.push(a)},this):"function"===typeof c?
(c=c(a))&&(1<c.length?c.forEach(function(a){this._contextMenuNodes.push(a)}.bind(this)):this._contextMenuNodes.push(c)):this._contextMenuNodes.push(c)},this);return this._contextMenuNodes},_onContextMenu:function(a){a.preventDefault();this.openMenu(a)},_onDoubleContextMenu:function(a){a.preventDefault()},_getTargetNode:function(a){null!==a&&a.hasAttribute("data-composite-child")&&(a=document.getElementById(a.getAttribute("data-composite-primary-id")));return a},_createCallback:function(a,c,b,f){var g=
0,d;void 0===b&&(b=200);return function(h){!0===f&&-0<=this._computeTargetNodes(h).indexOf(h.target)&&h.preventDefault();g+=1;1===g?d=setTimeout(function(){g=0;a(h)},b):2===g&&(clearTimeout(d),g=0,c(h))}},destroy:function(){this._removeOnOpenEventListeners();this.inherited(arguments)}})})},"dijit/popup":function(){define("dojo/_base/array dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/keys dojo/_base/lang dojo/on ./place ./BackgroundIframe ./Viewport ./main dojo/touch".split(" "),
function(k,d,e,a,b,h,l,m,g,f,c,n,r,s,q,p){function t(){this._popupWrapper&&(h.destroy(this._popupWrapper),delete this._popupWrapper)}e=e(null,{_stack:[],_beginZIndex:1E3,_idGen:1,_repositionAll:function(){if(this._firstAroundNode){var a=this._firstAroundPosition,b=l.position(this._firstAroundNode,!0),f=b.x-a.x,a=b.y-a.y;if(f||a){this._firstAroundPosition=b;for(b=0;b<this._stack.length;b++){var g=this._stack[b].wrapper.style;g.top=parseFloat(g.top)+a+"px";"auto"==g.right?g.left=parseFloat(g.left)+
f+"px":g.right=parseFloat(g.right)-f+"px"}}this._aroundMoveListener=setTimeout(c.hitch(this,"_repositionAll"),f||a?10:50)}},_createWrapper:function(a){var c=a._popupWrapper,b=a.domNode;c||(c=h.create("div",{"class":"dijitPopup",style:{display:"none"},role:"region","aria-label":a["aria-label"]||a.label||a.name||a.id},a.ownerDocumentBody),c.appendChild(b),b=b.style,b.display="",b.visibility="",b.position="",b.top="0px",a._popupWrapper=c,d.after(a,"destroy",t,!0),"ontouchend"in document&&n(c,"touchend",
function(a){/^(input|button|textarea)$/i.test(a.target.tagName)||a.preventDefault()}),c.dojoClick=!0);return c},moveOffScreen:function(a){var c=this._createWrapper(a);a=l.isBodyLtr(a.ownerDocument);var b={visibility:"hidden",top:"-9999px",display:""};b[a?"left":"right"]="-9999px";b[a?"right":"left"]="auto";m.set(c,b);return c},hide:function(a){var c=this._createWrapper(a);m.set(c,{display:"none",height:"auto",overflowY:"visible",border:""});a=a.domNode;"_originalStyle"in a&&(a.style.cssText=a._originalStyle)},
getTopPopup:function(){for(var a=this._stack,c=a.length-1;0<c&&a[c].parent===a[c-1].widget;c--);return a[c]},open:function(d){var h=this._stack,e=d.popup,k=e.domNode,p=d.orient||["below","below-alt","above","above-alt"],t=d.parent?d.parent.isLeftToRight():l.isBodyLtr(e.ownerDocument),C=d.around,D=d.around&&d.around.id?d.around.id+"_dropdown":"popup_"+this._idGen++;if(!d.doNotClose)for(;h.length&&(!d.parent||!a.isDescendant(d.parent.domNode,h[h.length-1].widget.domNode));)this.close(h[h.length-1].widget);
var B=this.moveOffScreen(e);e.startup&&!e._started&&e.startup();var E,J=l.position(k);if("maxHeight"in d&&-1!=d.maxHeight)E=d.maxHeight||Infinity;else{E=q.getEffectiveBox(this.ownerDocument);var H=C?l.position(C,!1):{y:d.y-(d.padding||0),h:2*(d.padding||0)};E=Math.floor(Math.max(H.y,E.h-(H.y+H.h)))}J.h>E&&(J=m.getComputedStyle(k),m.set(B,{overflowY:"scroll",height:E+"px",border:J.borderLeftWidth+" "+J.borderLeftStyle+" "+J.borderLeftColor}),k._originalStyle=k.style.cssText,k.style.border="none");
b.set(B,{id:D,style:{zIndex:this._beginZIndex+h.length},"class":"dijitPopup "+(e.baseClass||e["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:d.parent?d.parent.id:""});0==h.length&&C&&(this._firstAroundNode=C,this._firstAroundPosition=l.position(C,!0),this._aroundMoveListener=setTimeout(c.hitch(this,"_repositionAll"),50));g("config-bgIframe")&&!e.bgIframe&&(e.bgIframe=new s(B));D=e.orient?c.hitch(e,"orient"):null;p=C?r.around(B,C,p,t,D):r.at(B,d,"R"==p?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],
d.padding,D);B.style.visibility="visible";k.style.visibility="visible";k=[];k.push(n(B,"keydown",c.hitch(this,function(a){if(a.keyCode==f.ESCAPE&&d.onCancel)a.stopPropagation(),a.preventDefault(),d.onCancel();else if(a.keyCode==f.TAB&&(a.stopPropagation(),a.preventDefault(),(a=this.getTopPopup())&&a.onCancel))a.onCancel()})));e.onCancel&&d.onCancel&&k.push(e.on("cancel",d.onCancel));k.push(e.on(e.onExecute?"execute":"change",c.hitch(this,function(){var a=this.getTopPopup();if(a&&a.onExecute)a.onExecute()})));
h.push({widget:e,wrapper:B,parent:d.parent,onExecute:d.onExecute,onCancel:d.onCancel,onClose:d.onClose,handlers:k});if(e.onOpen)e.onOpen(p);return p},close:function(a){for(var c=this._stack;a&&k.some(c,function(c){return c.widget==a})||!a&&c.length;){var b=c.pop(),f=b.widget,g=b.onClose;f.bgIframe&&(f.bgIframe.destroy(),delete f.bgIframe);if(f.onClose)f.onClose();for(var d;d=b.handlers.pop();)d.remove();f&&f.domNode&&this.hide(f);g&&g()}0==c.length&&this._aroundMoveListener&&(clearTimeout(this._aroundMoveListener),
this._firstAroundNode=this._firstAroundPosition=this._aroundMoveListener=null)}});return p.popup=new e})},"dijit/_Container":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/_base/kernel"],function(k,d,e,a){return d("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);this.containerNode||(this.containerNode=this.domNode)},addChild:function(a,d){var l=this.containerNode;if(0<d){for(l=l.firstChild;0<d;)1==l.nodeType&&d--,l=l.nextSibling;l?
d="before":(l=this.containerNode,d="last")}e.place(a.domNode,l,d);this._started&&!a._started&&a.startup()},removeChild:function(a){"number"==typeof a&&(a=this.getChildren()[a]);a&&(a=a.domNode)&&a.parentNode&&a.parentNode.removeChild(a)},hasChildren:function(){return 0<this.getChildren().length},_getSiblingOfChild:function(a,d){var e=this.getChildren(),m=k.indexOf(e,a);return e[m+d]},getIndexOfChild:function(a){return k.indexOf(this.getChildren(),a)}})})},"mw-menu/mixins/KeyNavMixin":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/on","dojo/keys","mw-menu/mixins/ContainerFocusMixin"],function(k,d,e,a,b){k=k(null,{postCreate:function(){this.inherited(arguments);this.own(e(this.domNode,"keydown",d.hitch(this,"_onKeyDown")))},_onKeyDown:function(b){if(b.keyCode===a.DOWN_ARROW)this._handleDownArrow(b.target),b.preventDefault();else if(b.keyCode===a.UP_ARROW)this._handleUpArrow(b.target),b.preventDefault();else if(b.keyCode===a.PAGE_UP||b.keyCode===a.HOME)this._moveToFirstChild(b.target),b.preventDefault();
else if(b.keyCode===a.PAGE_DOWN||b.keyCode===a.END)this._moveToLastChild(b.target),b.preventDefault()},_handleDownArrow:function(a){(a===document.activeElement||null===a)&&this.focusNext(this._getTargetNode(a))},_handleUpArrow:function(a){(a===document.activeElement||null===a)&&this.focusPrevious(this._getTargetNode(a))},_moveToFirstChild:function(){this.focusFirst()},_moveToLastChild:function(){this.focusLast()},_getTargetNode:function(a){return a}});k._dependencies=[{mixin:b,orderDependent:!1}];
return k})},"mw-menu/mixins/ContainerFocusMixin":function(){define(["dojo/_base/declare","mw-dom-utils/domUtils","dijit/focus"],function(k,d,e){return k(null,{isCyclic:!0,_setIsCyclicAttr:function(a){if("boolean"!==typeof a)throw Error("'isCyclic' property expects a boolean value.");this._set("isCyclic",a)},postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwContainerFocusMixin");this.focusNode=this.focusNode||this.domNode},focus:function(a){this.inherited(arguments);a?this._focusNearestFocusableNode(a,
!0,"next"):this.focusNode&&d.isFocusable(this.focusNode)&&e.focus(this.focusNode)},focusNext:function(a){this.inherited(arguments);a||(a=document.activeElement&&d.isDescendant(document.activeElement,this.domNode)?document.activeElement:this.domNode);this._focusNearestFocusableNode(a,!1,"next")},focusPrevious:function(a){this.inherited(arguments);a||(a=document.activeElement&&d.isDescendant(document.activeElement,this.domNode)?document.activeElement:this.domNode);this._focusNearestFocusableNode(a,
!1,"previous")},focusFirst:function(){this.inherited(arguments);this._focusNearestFocusableNode(null,!1,"next")},focusLast:function(){this.inherited(arguments);this._focusNearestFocusableNode(null,!1,"previous")},_focusNearestFocusableNode:function(a,b,h){a=this._getAppropriateNodeFromInput(a);if(0<d.getChildren(this.domNode).length&&(null==a||d.isDescendant(a,this.domNode,!0)))a=this._findFocusableChild(a,b,h),null!==a&&(d.isElementInViewport(a)||a.scrollIntoView(!0),e.focus(a))},_findFocusableChild:function(a,
b,h){var e=!1,m,g=!1;a=this._getAppropriateNodeFromInput(a);null==b&&(b=!0);if(!h||0>["next","previous"].indexOf(h))h="next";if(a===this.domNode)e=!0;else for((m=a)&&!b&&(m=d.getAdjacentElement(m,h));m&&!d.isFocusable(m);){if(m===a){if(g)return null;g=!0}m=d.getAdjacentElement(m,h)}if(e||!m&&this.isCyclic||null==a){switch(h){case "next":m=d.getFirstChild(this.domNode);break;case "previous":m=d.getLastChild(this.domNode)}m=this._findFocusableChild(m,!0,h)}m&&(a=this._getAppropriateNodeFromInput(m));
return a},_getAppropriateNodeFromInput:function(a){if(null==a)return null;a=a.focusNode||a.domNode||a;if(!(a instanceof Element))throw Error("Input argument expects a Widget or DOM node.");return a}})})},"mw-dom-utils/domUtils":function(){define(["dojo/sniff"],function(k){var d={messages:{INVALID_ELEMENT:"The input parameter must be an instance of an Element object.",INVALID_STRING:"The input parameter must be of type 'string'.",INVALID_BOOLEAN:"The input parameter must be of type 'boolean'.",INVALID_OBJECT:"The input parameter must be of type 'object'.",
INVALID_FOCUS_EVENT:"The input parameter must be a 'FocusEvent' object.",INVALID_STYLE:"The style specified is invalid.",INVALID_VALUE:"The value specified is invalid.",INTEGER_INDEX:"index argument expects an integer.",STRING_INDEX:"index argument expects an string.",SPOUSE_NODE:"A function which returns a spouse node if it exists must be provided."},_validateElement:function(e){if(!(e instanceof Element))throw Error(d.messages.INVALID_ELEMENT);},_validateString:function(e){if(-1===["String","string"].indexOf(typeof e))throw Error(d.messages.INVALID_STRING);
},_validateBoolean:function(e){if(-1===["Boolean","boolean"].indexOf(typeof e))throw Error(d.messages.INVALID_BOOLEAN);},_validateObject:function(e){if(-1===["Object","object"].indexOf(typeof e))throw Error(d.messages.INVALID_OBJECT);},isLeftMouseButton:function(d){return!0===d.synthetic&&k("ie")?1===d.button:0===d.button},parseFocusEvent:function(e){if(!(e instanceof FocusEvent))throw Error(d.messages.INVALID_FOCUS_EVENT);var a={};a.lostFocusNode=e.target;a.gainedFocusNode=k("chrome")||k("safari")?
e.relatedTarget:document.activeElement;a.type=e.type;a.eventdata=e;return a},getParent:function(e){d._validateElement(e);return e.parentNode},findParentNode:function(e,a,b){var h=null,l;e.domNode&&(e=e.domNode);for(;e&&e!==window.document;){if(d.hasAttr(e,a)){h=e;break}if(b&&d.hasAttrValue(e,a,b)){h=e;break}if(d.containsClass(e,a)){h=e;break}e=(l=d.getAttr(e,"dijitpopupparent"))?d.getById(l):e.parentNode}return h},getNodeType:function(e){d._validateElement(e);return{1:"Element",3:"Text",7:"Processing Instruction",
8:"Comment",9:"Document",10:"Document Type",11:"Document Fragment"}[e.nodeType]},getById:function(e){d._validateString(e);return window.document.getElementById(e)},getByClass:function(e){d._validateString(e);return window.document.getElementsByClassName(e)},getByAttr:function(e){d._validateString(e);return window.document.querySelectorAll("["+e+"]")},getByAttrValue:function(e,a){d._validateString(e);d._validateString(a);return window.document.querySelectorAll("["+e+"\x3d"+a.replace(/['".\\]/g,"\\$\x26").replace(/[\\]/g,
"\\$\x26")+"]")},getByName:function(e){d._validateString(e);return window.document.getElementById("[name\x3d"+e+"]")},getByTag:function(e){d._validateString(e);return window.document.getElementsByTagName(e)},getComputedStyle:function(e,a){d._validateElement(e);return a?(d._validateString(a),window.getComputedStyle(e,null)[a]):window.getComputedStyle(e,null)},getStyle:function(e,a){d._validateElement(e);d._validateString(a);if(void 0===e.style[a])throw Error(d.messages.INVALID_STYLE);return e.style[a]},
setStyle:function(e,a,b){d._validateElement(e);d._validateString(a);d._validateString(b);e.style[a]=b;if(e.style[a]!==b)throw Error(d.messages.INVALID_VALUE);},hasAttr:function(e,a){d._validateElement(e);d._validateString(a);return e.hasAttribute(a)},hasAttrValue:function(e,a,b){d._validateElement(e);d._validateString(a);d._validateString(b);return e.hasAttribute(a)&&e.getAttribute(a)===b},getAttr:function(e,a){d._validateElement(e);d._validateString(a);return e.getAttribute(a)},setAttr:function(e,
a,b){d._validateElement(e);d._validateString(a);d._validateString(b);e.setAttribute(a,b)},addAttr:function(e,a){d._validateElement(e);d._validateString(a);e.setAttribute(a,"")},removeAttr:function(e,a){d._validateElement(e);d._validateString(a);e.removeAttribute(a)},getClasses:function(e){d._validateElement(e);return e.classList?e.classList:{_element:e,_getClassArray:function(){return this._element.className.split(" ")},_updateClassName:function(a){this._element.className=a.join(" ");this.length=
a.length},length:e.className.split(" ").length,item:function(a){return this._getClassArray()[a]},contains:function(a){for(var b=this._getClassArray(),d=0;d<b.length;d++)if(b[d]===a)return!0;return!1},add:function(a){var b=this._getClassArray();b.push(a);this._updateClassName(b)},remove:function(a){var b=this._getClassArray();a=b.indexOf(a);0<=a&&(b.splice(a,1),this._updateClassName(b))},toggle:function(a){if(this.contains(a))return this.remove(a),!1;this.add(a);return!0}}},getClass:function(e,a){if(null==
a||"number"!==typeof a||0>a||0!==a%1)throw Error(d.messages.INTEGER_INDEX);return d.getClasses(e).item(a)},addClass:function(e,a){if(null==a||"string"!==typeof a)throw Error(d.messages.STRING_INDEX);return d.getClasses(e).add(a)},removeClass:function(e,a){if(null==a||"string"!==typeof a)throw Error(d.messages.STRING_INDEX);return d.getClasses(e).remove(a)},toggleClass:function(e,a,b){if(null==a||"string"!==typeof a)throw Error(d.messages.STRING_INDEX);return b?d.getClasses(e).toggle(a,b):d.getClasses(e).toggle(a)},
containsClass:function(e,a){if(null==a||"string"!==typeof a)throw Error(d.messages.STRING_INDEX);return d.getClasses(e).contains(a)},classCount:function(e){return d.getClasses(e).length},getChildCount:function(e){d._validateElement(e);return e.childElementCount},getChildren:function(e){d._validateElement(e);return e.children},isDescendant:function(e,a,b){d._validateElement(e);d._validateElement(a);if(b&&e===a)return!0;for(;e&&e!==window.document;)if(e=d.getParent(e),e===a)return!0;return!1},isDescendantOrInLaw:function(e,
a,b,h){var l;if("function"!==typeof b)throw Error(d.messages.SPOUSE_NODE);l=d.isDescendant(e,a,h);!1===l&&(e=b(e)||e.parentNode)&&e!==window.document&&(l=d.isDescendantOrInLaw(e,a,b,h));return l},getFirstChild:function(e){d._validateElement(e);return!d.isContainer(e)||1>d.getChildCount(e)?null:d.getChildren(e)[0]},getLastChild:function(e){var a;d._validateElement(e);a=d.getChildCount(e);return!d.isContainer(e)||1>a?null:d.getChildren(e)[a-1]},isContainer:function(e){d._validateElement(e);return 0<
d.getChildCount(e)},getAdjacentElement:function(e,a){d._validateElement(e);if(!a||0>["next","previous"].indexOf(a))a="next";return e=e[a+"Sibling"]},getElementPositionInViewPort:function(e){d._validateElement(e);e=e.getBoundingClientRect();return{x:e.left,y:e.top,w:e.right-e.left,h:e.bottom-e.top}},getElementPositionOnPage:function(e){d._validateElement(e);e=d.getElementPositionInViewPort(e);e.x+=window.pageXOffset;e.y+=window.pageYOffset;return e},setPositionExtents:function(e,a){d._validateObject(a);
var b={};b.top=a.t?a.t:a.top?a.top:"auto";b.right=a.r?a.r:a.right?a.right:"auto";b.bottom=a.b?a.b:a.bottom?a.bottom:"auto";b.left=a.l?a.l:a.left?a.left:"auto";["top","right","bottom","left"].forEach(function(a){d.setStyle(e,a,b[a])})},isFocusable:function(e){d._validateElement(e);return e&&!e.hasAttribute("disabled")&&(!e.hasAttribute("aria-disabled")||"true"!==e.getAttribute("aria-disabled"))&&"none"!==e.style.display&&!e.hasAttribute("data-refuse-key-nav")},isElementInViewport:function(e){var a,
b,h,l;d._validateElement(e);a=e.getBoundingClientRect();b=window.innerWidth||doc.documentElement.clientWidth;h=window.innerHeight||doc.documentElement.clientHeight;l=function(a,b){return document.elementFromPoint(a,b)};return 0>a.right||0>a.bottom||a.left>b||a.top>h?!1:e.contains(l(a.left,a.top))||e.contains(l(a.right,a.top))||e.contains(l(a.right,a.bottom))||e.contains(l(a.left,a.bottom))},_obscuredProps:{}};d._obscuredProps.sawPosAbsolute=!1;d._obscuredProps.elementPosition=null;d.isElementObscuredByParent=
function(e,a){var b,h,l,m;d._validateElement(e);m=!1;if(l=d.getParent(e))if(a||(d._obscuredProps.elementPosition=d.getElementPositionOnPage(e),d._obscuredProps.sawPosAbsolute="absolute"==window.getComputedStyle(e,null).position),b=d._obscuredProps.elementPosition,h=d._obscuredProps.sawPosAbsolute,l&&"Element"===d.getNodeType(l)&&"BODY"!=l.nodeName){var g=d.getElementPositionOnPage(l);l=window.getComputedStyle(l,null);/relative|absolute/.test(l.position)&&(h=d._sawPosAbsolute=!1);!h&&/hidden|auto|scroll/.test(l.overflow)&&
(m=b.y<g.y||b.y+b.h>g.y+g.h||b.x<g.x||b.x+b.w>g.x+g.w)}return m};d.isElementObscuredByAncestor=function(e){var a,b;d._validateElement(e);a=!1;d._obscuredProps.elementPosition=d.getElementPositionOnPage(e);for(d._obscuredProps.sawPosAbsolute="absolute"==window.getComputedStyle(e,null).position;(b=d.getParent(e))&&"Element"===d.getNodeType(b)&&"BODY"!=b.nodeName;)a=d.isElementObscuredByParent(e,!0),e=b;return a};return d})},"mw-menu/mixins/OnOpenMixin":function(){define(["dojo/_base/declare","dojo/_base/lang",
"dojo/dom-geometry"],function(k,d,e){return k(null,{_focusOnOpen:!0,_matchMinWidthToInvokingWidget:!0,onOpen:function(){setTimeout(d.hitch(this,function(){if(this._focusOnOpen&&this.focus){var a=window.pageXOffset,b=window.pageYOffset;this.focus();window.scrollTo(a,b)}}),0);this._emitOpenEvent();this._updateLayout()},_updateLayout:function(){this._removeAllWidths();this._matchMinWidthToInvokingWidget&&this._updateWidth();this._updateHeight()},_removeAllWidths:function(){this.domNode.style.width="";
this.getChildren().forEach(function(a){a.domNode.style.width=""})},_updateWidth:function(){if(this._invokingWidget&&this.domNode.offsetWidth<this._invokingWidget.domNode.offsetWidth){var a=0;this.domNode.parentElement&&(a=e.getMarginBox(this.domNode.parentElement).w-e.getMarginBox(this.domNode).w);this.domNode.style.width=this._invokingWidget.domNode.offsetWidth-a+"px"}},_updateHeight:function(){if(this.domNode&&this.domNode.parentElement&&this.domNode.parentElement.classList&&this.domNode.parentElement.classList.contains("dijitPopup")){var a,
b=this.domNode,d=b.parentElement;a=window.getComputedStyle(b,null);var e=window.getComputedStyle(d,null),e=parseInt(a.borderTopWidth)+parseInt(a.borderBottomWidth)+parseInt(e.borderTopWidth)+parseInt(e.borderBottomWidth);a="ontouchstart"in document||"onpointerdown"in document&&0<navigator.maxTouchPoints||window.navigator.msMaxTouchPoints?window.innerHeight||document.documentElement.clientHeight:document.documentElement.clientHeight;""!==b.style.height&&(b.style.height="");d.offsetTop+b.clientHeight>
a&&(b.style.height=a-d.offsetTop-e+"px");d.style.overflow="hidden";d.style.overflowX="hidden";d.style.overflowY="hidden"}},_setFocusOnOpenAttr:function(a){if("boolean"!==typeof a)throw Error("'focusOnOpen' property expects a boolean value.");this._set("_focusOnOpen",a)},_emitOpenEvent:function(){this.emit("open",{})}})})},"mw-menu/mixins/OnCloseMixin":function(){define(["dojo/_base/declare","mw-menu/mixins/OnOpenMixin"],function(k,d){var e=k(null,{_closeEventData:{},onClose:function(){this._emitCloseEvent();
this._closeEventData={}},_emitCloseEvent:function(){this.emit("close",this._closeEventData)}});e._dependencies=[{mixin:d,orderDependent:!1}];return e})},"mw-menu/mixins/MenuFocusMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/on dojo/has dojo/touch dojo/keys dijit/popup dijit/registry mw-dom-utils/domUtils mw-utils/widgetUtils mw-menu/mixins/ContainerFocusMixin".split(" "),function(k,d,e,a,b,h,l,m,g,f,c){var n=a("touch")&&!window.PointerEvent;k=k(null,{postCreate:function(){this.inherited(arguments);
this.domNode.classList.add("mwMenuFocusMixin");this.focusNode=this.focusNode||this.domNode;this.own(e(this.domNode,"close",d.hitch(this,this._handleClose)))},focus:function(){this.inherited(arguments);this._addFocusListeners()},_focusLost:function(a){setTimeout(d.hitch(this,function(){if(f.isMenuOpen(this)){var c=a instanceof FocusEvent?m.getEnclosingWidget(g.parseFocusEvent(a).gainedFocusNode):m.getEnclosingWidget(a.target),b,d,h;(b=c?c.focusNode&&c.focusNode instanceof Element?c.focusNode:c.domNode?
c.domNode:null:null)&&b.hasAttribute("data-composite-child")&&(c=m.getEnclosingWidget(document.getElementById(b.getAttribute("data-composite-primary-id"))));b=this.isDescendant(c,this);d=c&&c.domNode&&-1<[].slice.call(document.querySelectorAll(".mwToolstripPopupContextMenu, .mwToolstripPopupContextMenu *")).indexOf(c.domNode);h=this._invokingWidget&&c===this._invokingWidget;(!c||!b&&!d&&!h)&&this._focusChange(c)}}),0)},_handleKeydown:function(a){a.keyCode===h.ESCAPE&&this._focusLost(a)},_handleClose:function(){this._removeFocusListeners()},
_addFocusListeners:function(){this.focusNode&&(this._focusNodeBlurListener=e(this.focusNode,"blur",d.hitch(this,"_focusLost")),this.own(this._focusNodeBlurListener),this._windowBlurListener=e(window,"blur",d.hitch(this,"_focusLost")),this.own(this._windowBlurListener),this._documentClickListener=e(document.body,n?b.press:"mousedown",d.hitch(this,"_focusLost")),this.own(this._documentClickListener),this._escapeKeydownListener=e(document.body,"keydown",d.hitch(this,"_handleKeydown")),this.own(this._escapeKeydownListener))},
_removeFocusListeners:function(){this._focusNodeBlurListener&&(this._focusNodeBlurListener.remove(),delete this._focusNodeBlurListener);this._windowBlurListener&&(this._windowBlurListener.remove(),delete this._windowBlurListener);this._documentClickListener&&(this._documentClickListener.remove(),delete this._documentClickListener);this._escapeKeydownListener&&(this._escapeKeydownListener.remove(),delete this._escapeKeydownListener)},_focusChange:function(a){this._closeEventData={mwEventData:{gainedFocusWidget:a}};
null==a?this.closeRequest(!1):!this.isInvokingWidget(a)&&!this.isDescendant(a,this)&&this.closeRequest(!1)},closeRequest:function(a){if(null==a||0>[!0,!1].indexOf(a))a=!0;this.close&&this.close();this._invokingWidget&&this._invokingWidget.isMenuOpen()&&this._invokingWidget.closeMenu(a);f.isMenuOpen(this)&&l.close(this)},isInvokingWidget:function(a){if(null==a)return!1;a instanceof HTMLElement&&(a=m.getEnclosingWidget(a));return a===this._invokingWidget},isDescendant:function(a,c){if(null==a)return!1;
a.domNode&&(a=a.domNode);null==c?c=this.domNode:c.domNode&&(c=c.domNode);return g.isDescendantOrInLaw(a,c,function(a){return a.hasAttribute("dijitpopupparent")?document.getElementById(a.getAttribute("dijitpopupparent")):null},!0)}});k._dependencies=[{mixin:c,orderDependent:!0}];return k})},"mw-utils/widgetUtils":function(){define(["dijit/registry","mw-utils/domUtils"],function(k,d){var e={findParentWidget:function(a,b){var h=null,e;for(a instanceof HTMLElement&&(a=k.getEnclosingWidget(a));a;){if(a.get("type")===
b){h=a;break}if(d.containsClass(a.domNode,b)){h=a;break}a=(e=d.getAttr(a.domNode.parentNode,"dijitpopupparent"))?k.byId(e):a.getParent()}return h},isMenuChild:function(a){return null!=d.findParentNode(a,"dijitPopup")},getParentMenu:function(a){a=d.findParentNode(a,"dijitPopup");return!a?null:k.getEnclosingWidget(a.children[0])},isInvokingWidget:function(a,b){return b?e.getMenuWidget(a)===b:null!=e.getMenuWidget(a)},getInvokingWidget:function(a){if(a._invokingWidget)return a._invokingWidget;a=d.findParentNode(a,
"dijitPopup");return!a?null:k.getEnclosingWidget(document.getElementById(a.getAttribute("dijitpopupparent")))},getMenuWidget:function(a){return a.menu||a.dropDown},isMenuOpen:function(a){if(null==a)return!1;var b=a;a.domNode&&a.domNode.hasAttribute("data-composite-child")&&(a=document.getElementById(a.domNode.getAttribute("data-composite-primary-id")),b=k.getEnclosingWidget(a));return b&&b.dropDown&&(d.containsClass(b.domNode,"dijitOpened")||d.containsClass(b.domNode,"dijitHasDropDownOpen"))||b&&
b.isMenuOpen&&b.isMenuOpen()||b&&b.domNode&&d.findParentNode(b,"dijitPopup")&&(b.getParent&&b.getParent()&&b.getParent().isMenuOpen&&b.getParent().isMenuOpen()||"none"!==d.getStyle(d.findParentNode(b,"dijitPopup"),"display"))},isDescendant:function(a,b){if(null==a)return!1;a.domNode&&(a=a.domNode);if(null==b)return!1;b.domNode&&(b=b.domNode);return d.isDescendantOrInLaw(a,b,function(a){if((a=k.getEnclosingWidget(a))&&e.isMenuChild(a)&&e.isMenuOpen(a))if((a=e.getInvokingWidget(a))&&a.domNode)return a.domNode;
return null},!0)},getPrimaryWidget:function(a){var b;if(a.domNode)b=a.domNode;else if(a instanceof HTMLElement)b=a;else throw Error("The input value must be a widget or HTML Element.");return b&&b.hasAttribute("data-composite-child")?k.getEnclosingWidget(d.getById(b.getAttribute("data-composite-primary-id"))):a}};return e})},"mw-utils/domUtils":function(){define(["dojo/sniff"],function(k){var d={messages:{INVALID_ELEMENT:"The input parameter must be an instance of an Element object.",INVALID_STRING:"The input parameter must be of type 'string'.",
INVALID_FOCUS_EVENT:"The input parameter must be a 'FocusEvent' object.",INVALID_STYLE:"The style specified is invalid.",INVALID_VALUE:"The value specified is invalid.",INTEGER_INDEX:"index argument expects an integer.",STRING_INDEX:"index argument expects an string.",SPOUSE_NODE:"A function which returns a spouse node if it exists must be provided."},_validateElement:function(e){if(!(e instanceof Element))throw Error(d.messages.INVALID_ELEMENT);},_validateString:function(e){if("String"===typeof e)throw Error(d.messages.INVALID_STRING);
},isLeftMouseButton:function(d){return!0===d.synthetic&&k("ie")?1===d.button:0===d.button},parseFocusEvent:function(e){if(!(e instanceof FocusEvent))throw Error(d.messages.INVALID_FOCUS_EVENT);var a={};a.lostFocusNode=e.target;a.gainedFocusNode=k("chrome")||k("safari")?e.relatedTarget:document.activeElement;a.type=e.type;a.eventdata=e;return a},getParent:function(e){d._validateElement(e);return e.parentNode},findParentNode:function(e,a,b){var h=null,l;e.domNode&&(e=e.domNode);for(;e&&e!==window.document;){if(d.hasAttr(e,
a)){h=e;break}if(d.hasAttrValue(e,a,b)){h=e;break}if(d.containsClass(e,a)){h=e;break}e=(l=d.getAttr(e,"dijitpopupparent"))?d.getById(l):e.parentNode}return h},getNodeType:function(e){d._validateElement(e);return{1:"Element",3:"Text",7:"Processing Instruction",8:"Comment",9:"Document",10:"Document Type",11:"Document Fragment"}[e.nodeType]},getById:function(e){d._validateString(e);return window.document.getElementById(e)},getByClass:function(e){d._validateString(e);return window.document.getElementsByClassName(e)},
getByAttr:function(e){d._validateString(e);return window.document.querySelectorAll("["+e+"]")},getByAttrValue:function(e,a){d._validateString(e);d._validateString(a);return window.document.querySelectorAll("["+e+"\x3d"+a.replace(/['".\\]/g,"\\$\x26").replace(/[\\]/g,"\\$\x26")+"]")},getByName:function(e){d._validateString(e);return window.document.getElementById("[name\x3d"+e+"]")},getByTag:function(e){d._validateString(e);return window.document.getElementsByTagName(e)},getComputedStyle:function(e,
a){d._validateElement(e);return a?(d._validateString(a),window.getComputedStyle(e,null)[a]):window.getComputedStyle(e,null)},getStyle:function(e,a){d._validateElement(e);d._validateString(a);if(void 0===e.style[a])throw Error(d.messages.INVALID_STYLE);return e.style[a]},setStyle:function(e,a,b){d._validateElement(e);d._validateString(a);d._validateString(b);e.style[a]=b;if(e.style[a]!==b)throw Error(d.messages.INVALID_VALUE);},hasAttr:function(e,a){d._validateElement(e);d._validateString(a);return e.hasAttribute(a)},
hasAttrValue:function(e,a,b){d._validateElement(e);d._validateString(a);d._validateString(b);return e.hasAttribute(a)&&e.getAttribute(a)===b},getAttr:function(e,a){d._validateElement(e);d._validateString(a);return e.getAttribute(a)},setAttr:function(e,a,b){d._validateElement(e);d._validateString(a);d._validateString(b);e.setAttribute(a,b)},addAttr:function(e,a){d._validateElement(e);d._validateString(a);e.setAttribute(a,"")},removeAttr:function(e,a){d._validateElement(e);d._validateString(a);e.removeAttribute(a)},
getClasses:function(e){d._validateElement(e);return e.classList?e.classList:{_element:e,_getClassArray:function(){return this._element.className.split(" ")},_updateClassName:function(a){this._element.className=a.join(" ");this.length=a.length},length:e.className.split(" ").length,item:function(a){return this._getClassArray()[a]},contains:function(a){for(var b=this._getClassArray(),d=0;d<b.length;d++)if(b[d]===a)return!0;return!1},add:function(a){var b=this._getClassArray();b.push(a);this._updateClassName(b)},
remove:function(a){var b=this._getClassArray();a=b.indexOf(a);0<=a&&(b.splice(a,1),this._updateClassName(b))},toggle:function(a){if(this.contains(a))return this.remove(a),!1;this.add(a);return!0}}},getClass:function(e,a){if(null==a||"number"!==typeof a||0>a||0!==a%1)throw Error(d.messages.INTEGER_INDEX);return d.getClasses(e).item(a)},addClass:function(e,a){if(null==a||"string"!==typeof a)throw Error(d.messages.STRING_INDEX);return d.getClasses(e).add(a)},removeClass:function(e,a){if(null==a||"string"!==
typeof a)throw Error(d.messages.STRING_INDEX);return d.getClasses(e).remove(a)},toggleClass:function(e,a){if(null==a||"string"!==typeof a)throw Error(d.messages.STRING_INDEX);return d.getClasses(e).toggle(a)},containsClass:function(e,a){if(null==a||"string"!==typeof a)throw Error(d.messages.STRING_INDEX);return d.getClasses(e).contains(a)},classCount:function(e){return d.getClasses(e).length},getChildCount:function(e){d._validateElement(e);return e.childElementCount},getChildren:function(e){d._validateElement(e);
return e.children},isDescendant:function(e,a,b){d._validateElement(e);d._validateElement(a);if(b&&e===a)return!0;for(;e&&e!==window.document;)if(e=d.getParent(e),e===a)return!0;return!1},isDescendantOrInLaw:function(e,a,b,h){var l;if("function"!==typeof b)throw Error(d.messages.SPOUSE_NODE);l=d.isDescendant(e,a,h);!1===l&&(e=b(e)||e.parentNode)&&e!==window.document&&(l=d.isDescendantOrInLaw(e,a,b,h));return l},getFirstChild:function(e){d._validateElement(e);return!d.isContainer(e)||1>d.getChildCount(e)?
null:d.getChildren(e)[0]},getLastChild:function(e){var a;d._validateElement(e);a=d.getChildCount(e);return!d.isContainer(e)||1>a?null:d.getChildren(e)[a-1]},isContainer:function(e){d._validateElement(e);return 0<d.getChildCount(e)},getAdjacentElement:function(e,a){d._validateElement(e);if(!a||0>["next","previous"].indexOf(a))a="next";return e=e[a+"Sibling"]},getElementPositionInViewPort:function(e){d._validateElement(e);e=e.getBoundingClientRect();return{x:e.left,y:e.top,w:e.right-e.left,h:e.bottom-
e.top}},getElementPositionOnPage:function(e){d._validateElement(e);e=d.getElementPositionInViewPort(e);e.x+=window.pageXOffset;e.y+=window.pageYOffset;return e},isFocusable:function(e){d._validateElement(e);return e&&!e.hasAttribute("disabled")&&(!e.hasAttribute("aria-disabled")||"true"!==e.getAttribute("aria-disabled"))&&"none"!==e.style.display&&!e.hasAttribute("data-refuse-key-nav")},isElementInViewport:function(e){var a,b,h,l;d._validateElement(e);a=e.getBoundingClientRect();b=window.innerWidth||
doc.documentElement.clientWidth;h=window.innerHeight||doc.documentElement.clientHeight;l=function(a,b){return document.elementFromPoint(a,b)};return 0>a.right||0>a.bottom||a.left>b||a.top>h?!1:e.contains(l(a.left,a.top))||e.contains(l(a.right,a.top))||e.contains(l(a.right,a.bottom))||e.contains(l(a.left,a.bottom))},_obscuredProps:{}};d._obscuredProps.sawPosAbsolute=!1;d._obscuredProps.elementPosition=null;d.isElementObscuredByParent=function(e,a){var b,h,l,m;d._validateElement(e);m=!1;if(l=d.getParent(e))if(a||
(d._obscuredProps.elementPosition=d.getElementPositionOnPage(e),d._obscuredProps.sawPosAbsolute="absolute"===window.getComputedStyle(e,null).position),b=d._obscuredProps.elementPosition,h=d._obscuredProps.sawPosAbsolute,l&&"Element"===d.getNodeType(l)&&"BODY"!==l.nodeName){var g=d.getElementPositionOnPage(l);l=window.getComputedStyle(l,null);/relative|absolute/.test(l.position)&&(h=d._sawPosAbsolute=!1);!h&&/hidden|auto|scroll/.test(l.overflow)&&(m=b.y<g.y||b.y+b.h>g.y+g.h||b.x<g.x||b.x+b.w>g.x+g.w)}return m};
d.isElementObscuredByAncestor=function(e){var a,b;d._validateElement(e);a=!1;d._obscuredProps.elementPosition=d.getElementPositionOnPage(e);for(d._obscuredProps.sawPosAbsolute="absolute"===window.getComputedStyle(e,null).position;(b=d.getParent(e))&&"Element"===d.getNodeType(b)&&"BODY"!==b.nodeName;)a=d.isElementObscuredByParent(e,!0),e=b;return a};return d})},"mw-menu/mixins/property/MaxHeightMixin":function(){define(["dojo/_base/declare"],function(k){return k(null,{maxHeight:800,_setMaxHeightAttr:function(d){if("number"!==
typeof d)throw Error("'MaxHeight' property expects a Number!");this.domNode.style.maxHeight=d+"px";this._set("maxHeight",d)}})})},"mw-mixins/property/TagMixin":function(){define(["dojo/_base/declare"],function(k){return k(null,{tag:"",_setTagAttr:function(d){if("string"!==typeof d)throw Error("tag property expects a 'String'");this.domNode.setAttribute("data-tag",d);this._set("tag",d)},postCreate:function(){this.inherited(arguments);this.set("tag",this.get("tag"))}})})},"mw-mixins/property/VisualFamilyMixin":function(){define(["dojo/_base/declare"],
function(k){return k(null,{visualFamily:"default",_setVisualFamilyAttr:function(d){if("string"!==typeof d||0===d.length)throw Error("'visualFamily' property expects a literal non-empty string!");var e=this._getClassNameForVisualFamily(this.get("visualFamily"));this.domNode.classList.remove(e);e=this._getClassNameForVisualFamily(d);this.domNode.classList.add(e);this._set("visualFamily",d)},_getClassNameForVisualFamily:function(d){return"mw"+d.charAt(0).toUpperCase()+d.slice(1)+"VisualFamily"}})})},
"mw-mixins/mixinDependencyValidator":function(){define([],function(){return{validate:function(k){return k}}})},"mw-filebrowser/actions/contextmenu/ActionsContextMenuBuilder":function(){define("mw-keybindings/BindingUtils mw-menu/CheckBoxMenuItem mw-menu/Menu mw-menu/MenuItem mw-menu/MenuSeparator mw-menu/PopupMenuItem".split(" "),function(k,d,e,a,b,h){var l,m,g=function(a,b){var f=new e({});a.forEach(function(a){a={action:b.getAction(a),service:b};c(f,a)});return f},f=function(a,c){var b=new h({text:a.name,
menu:c,tag:a.tag});b.own(c);return b},c=function(c,b){var h="",e=b.action,m=b.service;e.tag=m._nameSpace+"/"+e.id;e.shortcut=e.supportsKeyBinding?e.shortcut?e.shortcut:l[e.id]?k.getKeyBindingData(l[e.id]).shortcut:"":"";h=e.needsCheckBox?new d({closeMenuOnClick:!0,text:e.label,disabled:!e.enabled,checked:e.checked,tag:e.tag}):e.allowSubMenu?f(e,g(e.childActionIds,m)):new a({text:e.label,disabled:!e.enabled,shortcut:e.shortcut,tag:e.tag});c.addChild(h);h.on("click",function(){m.executeAction(e.id,
m._actionById(e.id)._properties)})},n=function(a,f){a.destroyDescendants();Object.keys(m).forEach(function(d){a.hasChildren()&&a.addChild(new b);m[d].forEach(function(b){var d=b.action;(d.hasOwnProperty("isApplicableTo")&&d.isApplicableTo(f)||!d.hasOwnProperty("isApplicableTo"))&&c(a,b)})})},r=function(a){a.getAllActions().forEach(function(c){var b=c.section;b.parent?s({action:b,service:a},b.parent,c.id):s({action:c,service:a},b)})},s=function(a,c,b){m[c.id]?(c=m[c.id],1!==q(a,c).length?(b&&(a.action.childActionIds=
[b]),c.push(a)):(a=q(a,c)[0].action.childActionIds)&&a.push(b)):m[c.id]=[a]},q=function(a,c){return c.filter(function(c){return c.action.id===a.action.id})};return{buildContextMenu:function(a,c,b,f){l=f;m={};c.forEach(r);n(a,b)}}})},"mw-keybindings/BindingUtils":function(){define("dojo/_base/lang dojo/sniff mw-keybindings/DefaultKeys mw-keybindings/ModifierKeys mw-keybindings/Platforms mw-keybindings/shortcutStringGenerator dojo/text!./browserconflicts.json".split(" "),function(k,d,e,a,b,h,l){var m=
[],g;for(g in e)m.push(e[g]);var f=[];for(g in b)f.push(b[g]);var c=function(c,g){var l=c;if(void 0===l)throw Error("Invalid key sequence for a binding: cannot be null");Array.isArray(l)||(l=[l]);if(0===l.length)throw Error("Invalid key sequence for a binding: cannot be empty");for(var s=0;s<l.length;s++){var v=l[s];if(void 0===v||-1===m.indexOf(v))throw Error("Invalid keyCode for a binding : "+l[s]);}Array.isArray(c)||(c=[c]);l=b.Unspecified;if(void 0!==g&&!k.isObject(g))throw Error("Optional platform must be an object with a Platform property");
if(k.isObject(g)){if(!g.hasOwnProperty("platform"))throw Error("No platform property specified in optional platform object");if(-1===f.indexOf(g.platform))throw Error("Invalid platform for a binding : "+g.platform);l=g.platform;if(l!==b.Mac&&r(e.COMMAND,c))throw Error("Can not create a binding with the COMMAND key and specify platform other than mac");}for(var v=[],s=[],w=0;w<c.length;w++){var x=c[w];if(-1!==a.indexOf(x)){if(0!==s.length)throw Error(" modifier keys must come before keycode");v.push(x)}else s.push(x)}var w=
r(e.CTRL,v),x=r(e.SHIFT,v),y=r(e.ALT,v),z=r(e.COMMAND,v);r(e.SYSCTRL,v)&&(d("mac")?z=!0:w=!0);v=h.getString(v.concat(s));if(0===s.length)throw Error("Invalid key sequence: "+v+". Excluding modifiers, there must be one key for the binding");if(1!==s.length)throw Error("Invalid key sequence: "+v+". Excluding modifiers, there can only be one key for the binding");var C=n([w,x,y,z],s[0],l);return{hasCtrlKey:w,hasShiftKey:x,hasAltKey:y,hasMetaKey:z,keyCode:s[0],shortcut:v,platform:l,keySequenceIdentifier:C}},
n=function(a,c,b){return JSON.stringify({modifierKeys:a,keyCode:c,platform:b})},r=function(a,c){var b=!1;-1!==c.indexOf(a)&&(b=!0);return b},s=JSON.parse(l);(function(){var a={};Object.keys(s).forEach(function(f){var d=s[f];f=d.keys;var g=[],h=Object.keys(d.platform);h.push(b.Unspecified);f.forEach(function(a){if(e.hasOwnProperty(a))g.push(e[a]);else throw Error("Invalid key entry in the json file for the conflicting Key Binding");});h.forEach(function(f){f=c(g,{platform:b[f]}).keySequenceIdentifier;
a[f]=d})});return a})();return{generateKeySequenceIdentifier:n,getKeyBindingData:c,validateNoBrowserConflicts:function(a){}}})},"mw-keybindings/DefaultKeys":function(){define(["dojo/_base/lang","mw-keybindings/KeyboardKeys"],function(k,d){return k.mixin(d,{SYSCTRL:9E3,COMMAND:9001})})},"mw-keybindings/KeyboardKeys":function(){define(["dojo/_base/lang","mw-keybindings/Platforms"],function(){return{BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE_BREAK:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,
PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,"0":48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,LEFT_WINDOWS:91,RIGHT_WINDOWS:92,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_MINUS:109,
NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,DASH:189,EQUALS:187,OPEN_BRACKET:219,CLOSE_BRACKET:221,COMMA:188,PERIOD:190,FORWARD_SLASH:191,BACKWARD_SLASH:220,SINGLE_QUOTE:222,SEMI_COLON:186,BACK_TICK:192}})},"mw-keybindings/Platforms":function(){define([],function(){return{Windows:"Windows",Mac:"Mac",Linux:"Linux",Unspecified:"Unspecified"}})},"mw-keybindings/ModifierKeys":function(){define(["mw-keybindings/DefaultKeys"],
function(k){return[k.CTRL,k.ALT,k.SHIFT,k.COMMAND,k.SYSCTRL,k.LEFT_WINDOWS,k.RIGHT_WINDOWS]})},"mw-keybindings/shortcutStringGenerator":function(){define(["dojo/sniff","mw-keybindings/DefaultKeys","dojo/i18n!./l10n/nls/keyBindings"],function(k,d,e){var a={};a[d.SYSCTRL]={macString:"\u2303",otherPlatformsString:"Ctrl"};a[d.COMMAND]={macString:"\u2303",otherPlatformsString:""};a[d.BACKSPACE]={macString:"\u232b",otherPlatformsString:e.BACKSPACE};a[d.TAB]={macString:"\u21e5",otherPlatformsString:e.TAB};
a[d.CLEAR]={macString:"\u2327",otherPlatformsString:e.CLEAR};a[d.ENTER]={macString:"\u23ce",otherPlatformsString:e.ENTER};a[d.SHIFT]={macString:"\u21e7",otherPlatformsString:e.SHIFT};a[d.CTRL]={macString:"\u2303",otherPlatformsString:e.CTRL};a[d.ALT]={macString:"\u2325",otherPlatformsString:e.ALT};a[d.PAUSE_BREAK]={macString:e.PAUSE_BREAK,otherPlatformsString:e.PAUSE_BREAK};a[d.CAPS_LOCK]={macString:"\u21ea",otherPlatformsString:e.CAPS_LOCK};a[d.ESCAPE]={macString:"\u238b",otherPlatformsString:e.ESCAPE};
a[d.SPACE]={macString:"\u2423",otherPlatformsString:e.SPACE};a[d.PAGE_UP]={macString:"\u23ce",otherPlatformsString:e.PAGE_UP};a[d.PAGE_DOWN]={macString:"\u2191",otherPlatformsString:e.PAGE_DOWN};a[d.END]={macString:"\u2198",otherPlatformsString:e.END};a[d.HOME]={macString:"\u2196",otherPlatformsString:e.HOME};a[d.LEFT_ARROW]={macString:"\u2190",otherPlatformsString:e.LEFT};a[d.UP_ARROW]={macString:"\u2191",otherPlatformsString:e.UP};a[d.RIGHT_ARROW]={macString:"\u2192",otherPlatformsString:e.RIGHT};
a[d.DOWN_ARROW]={macString:"\u2193",otherPlatformsString:e.DOWN};a[d.INSERT]={macString:e.INSERT,otherPlatformsString:e.INSERT};a[d.DELETE]={macString:"\u2326",otherPlatformsString:e.DELETE};a[d.LEFT_WINDOWS]={macString:"",otherPlatformsString:e.LEFT+" "+e.WINDOWS};a[d.RIGHT_WINDOWS]={macString:"",otherPlatformsString:e.RIGHT+" "+e.WINDOWS};a[d.NUMPAD_MULTIPLY]={macString:"\u2328 *",otherPlatformsString:e.NUM_PAD+" *"};a[d.NUMPAD_PLUS]={macString:"\u2328 +",otherPlatformsString:e.NUM_PAD+" +"};a[d.NUMPAD_MINUS]=
{macString:"\u2328 -",otherPlatformsString:e.NUM_PAD+" -"};a[d.NUMPAD_PERIOD]={macString:"\u2328 .",otherPlatformsString:e.NUM_PAD+" ."};a[d.NUMPAD_DIVIDE]={macString:"\u2328 /",otherPlatformsString:e.NUM_PAD+" /"};a[d.NUM_LOCK]={macString:e.NUM_LOCK,otherPlatformsString:e.NUM_LOCK};a[d.SCROLL_LOCK]={macString:e.SCROLL_LOCK,otherPlatformsString:e.SCROLL_LOCK};a[d.DASH]={macString:"-",otherPlatformsString:"-"};a[d.EQUALS]={macString:"\x3d",otherPlatformsString:"\x3d"};a[d.OPEN_BRACKET]={macString:"[",
otherPlatformsString:"["};a[d.CLOSE_BRACKET]={macString:"]",otherPlatformsString:"]"};a[d.COMMA]={macString:",",otherPlatformsString:","};a[d.PERIOD]={macString:".",otherPlatformsString:"."};a[d.FORWARD_SLASH]={macString:"/",otherPlatformsString:"/"};a[d.BACKWARD_SLASH]={macString:"\\",otherPlatformsString:"\\"};a[d.SINGLE_QUOTE]={macString:"'",otherPlatformsString:"'"};a[d.SEMI_COLON]={macString:";",otherPlatformsString:";"};a[d.BACK_TICK]={macString:"`",otherPlatformsString:"`"};return{getString:function(b){b=
b.map(function(b){var d=a[b],e="";48<=b&&57>=b||65<=b&&90>=b?e=String.fromCharCode(b):96<=b&&105>=b?(e=k("mac")?"\u2328":"NumPad",e=[e,b-96].join(" ")):112<=b&&126>=b?e="F"+(b-111):(d?(d.macString||(d.macString=""),d.otherPlatformsString||(d.otherPlatformsString="")):d={macString:"",otherPlatformsString:""},e=k("mac")?d.macString:d.otherPlatformsString);return e});return k("mac")?b.join(""):b.join("+")}}})},"mw-menu/CheckBoxMenuItem":function(){define("dojo/_base/declare dijit/focus dijit/_WidgetBase dijit/_TemplatedMixin dijit/_CssStateMixin dijit/_Contained dijit/_FocusMixin mw-form/CheckBox mw-mixins/property/TagMixin mw-mixins/property/CheckedMixin mw-menu/mixins/property/CloseMenuOnClickMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/ShortcutMixin mw-menu/mixins/property/ShowDescriptionMixin mw-menu/mixins/property/ShowTextMixin mw-menu/mixins/property/ShowShortcutMixin mw-mixins/property/TextMixin mw-menu/mixins/SingleLineTextMixin mw-mixins/property/VisualFamilyMixin mw-menu/mixins/FocusableMenuChildMixin mw-menu/mixins/MenuChildResizeMixin mw-menu/mixins/MenuItemTextColorMixin mw-mixins/AccessibilityClickMixin mw-mixins/event/ChangeEventMixin mw-mixins/PreventSelectionMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/CheckBoxRadioButtonMenuItem.html".split(" "),
function(k,d,e,a,b,h,l,m,g,f,c,n,r,s,q,p,t,u,v,w,x,y,z,C,D,B,E,J){return k(E.validate([e,a,b,h,l,x,y,g,f,c,n,s,q,p,t,u,v,r,w,z,C,D,B]),{baseClass:"mwWidget mwSharedMenuItem mwCheckBoxMenuItem",templateString:J,constructor:function(){this.checkBox=new m({text:""});this.own(this.checkBox)},_setCheckedAttr:function(a){this.inherited(arguments);this.checkBox.set("checked",a);this.get("closeMenuOnClick")&&(a?(this.checkBox.domNode.classList.add("mwSpecialCheckBoxIcon"),this.checkBox.domNode.classList.remove("mwNoCheckBoxIcon")):
(this.checkBox.domNode.classList.add("mwNoCheckBoxIcon"),this.checkBox.domNode.classList.remove("mwSpecialCheckBoxIcon")))},buildRendering:function(){this.inherited(arguments);this.checkBox.placeAt(this.domNode,"first")},postCreate:function(){this.inherited(arguments);this.checkBox._triggerChangeEvent=function(){};this.checkBox._onClick=function(){};this.domNode.setAttribute("data-composite-primary","");(this.checkBox.focusNode||this.checkBox.domNode).setAttribute("data-composite-child","");(this.checkBox.focusNode||
this.checkBox.domNode).setAttribute("data-composite-primary-id",this.get("id"))},startup:function(){this.inherited(arguments);this.checkBox.startup()},_onClick:function(){this.inherited(arguments);this.checkBox.set("checked",this.get("checked"))},_emitClickEvent:function(){this.emit("click",{mwEventData:{checked:this.get("checked")},_dojo_click:!0})}})})},"dijit/_CssStateMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-class dojo/has dojo/_base/lang dojo/on dojo/domReady dojo/touch dojo/_base/window ./a11yclick ./registry".split(" "),
function(k,d,e,a,b,h,l,m,g,f,c,n){d=d("dijit._CssStateMixin",[],{hovering:!1,active:!1,_applyAttributes:function(){this.inherited(arguments);k.forEach("disabled readOnly checked selected focused state hovering active _opened".split(" "),function(a){this.watch(a,h.hitch(this,"_setStateClass"))},this);for(var a in this.cssStateNodes||{})this._trackMouseState(this[a],this.cssStateNodes[a]);this._trackMouseState(this.domNode,this.baseClass);this._setStateClass()},_cssMouseEvent:function(a){if(!this.disabled)switch(a.type){case "mouseover":case "MSPointerOver":case "pointerover":this._set("hovering",
!0);this._set("active",this._mouseDown);break;case "mouseout":case "MSPointerOut":case "pointerout":this._set("hovering",!1);this._set("active",!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":this._set("active",!0);break;case "mouseup":case "dojotouchend":case "MSPointerUp":case "pointerup":case "keyup":this._set("active",!1)}},_setStateClass:function(){function a(b){c=c.concat(k.map(c,function(a){return a+b}),"dijit"+b)}var c=this.baseClass.split(" ");
this.isLeftToRight()||a("Rtl");var b="mixed"==this.checked?"Mixed":this.checked?"Checked":"";this.checked&&a(b);this.state&&a(this.state);this.selected&&a("Selected");this._opened&&a("Opened");this.disabled?a("Disabled"):this.readOnly?a("ReadOnly"):this.active?a("Active"):this.hovering&&a("Hover");this.focused&&a("Focused");var b=this.stateNode||this.domNode,f={};k.forEach(b.className.split(" "),function(a){f[a]=!0});"_stateClasses"in this&&k.forEach(this._stateClasses,function(a){delete f[a]});k.forEach(c,
function(a){f[a]=!0});var d=[],g;for(g in f)d.push(g);b.className=d.join(" ");this._stateClasses=c},_subnodeCssMouseEvent:function(c,b,f){function d(f){a.toggle(c,b+"Active",f)}if(!this.disabled&&!this.readOnly)switch(f.type){case "mouseover":case "MSPointerOver":case "pointerover":a.toggle(c,b+"Hover",!0);break;case "mouseout":case "MSPointerOut":case "pointerout":a.toggle(c,b+"Hover",!1);d(!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":d(!0);
break;case "mouseup":case "MSPointerUp":case "pointerup":case "dojotouchend":case "keyup":d(!1);break;case "focus":case "focusin":a.toggle(c,b+"Focused",!0);break;case "blur":case "focusout":a.toggle(c,b+"Focused",!1)}},_trackMouseState:function(a,c){a._cssState=c}});m(function(){function a(c,b,f){if(!f||!e.isDescendant(f,b))for(;b&&b!=f;b=b.parentNode)if(b._cssState){var d=n.getEnclosingWidget(b);d&&(b==d.domNode?d._cssMouseEvent(c):d._subnodeCssMouseEvent(b,b._cssState,c))}}var b=f.body(),d;l(b,
g.over,function(c){a(c,c.target,c.relatedTarget)});l(b,g.out,function(c){a(c,c.target,c.relatedTarget)});l(b,c.press,function(c){d=c.target;a(c,d)});l(b,c.release,function(c){a(c,d);d=null});l(b,"focusin, focusout",function(a){var c=a.target;if(c._cssState&&!c.getAttribute("widgetId")){var b=n.getEnclosingWidget(c);b&&b._subnodeCssMouseEvent(c,c._cssState,a)}})});return d})},"dijit/_Contained":function(){define(["dojo/_base/declare","./registry"],function(k,d){return k("dijit._Contained",null,{_getSibling:function(d){var a=
this.getParent();return a&&a._getSiblingOfChild&&a._getSiblingOfChild(this,"previous"==d?-1:1)||null},getPreviousSibling:function(){return this._getSibling("previous")},getNextSibling:function(){return this._getSibling("next")},getIndexInParent:function(){var d=this.getParent();return!d||!d.getIndexOfChild?-1:d.getIndexOfChild(this)}})})},"mw-form/CheckBox":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_Contained dijit/_CssStateMixin dijit/_FocusMixin dijit/_TemplatedMixin mw-mixins/property/TagMixin mw-mixins/property/CheckedMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/SizeMixin mw-mixins/property/TextMixin mw-mixins/property/VisualFamilyMixin mw-mixins/property/ValidationMixin mw-mixins/event/ChangeEventMixin mw-mixins/AccessibilityClickMixin mw-form/mixins/CheckBoxRadioButtonTextSizingMixin mw-mixins/PreventSelectionMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/CheckBox.html".split(" "),
function(k,d,e,a,b,h,l,m,g,f,c,n,r,s,q,p,t,u,v,w){return k(v.validate([d,e,a,b,h,l,m,g,f,c,n,r,s,q,p,t,u]),{baseClass:"mwWidget mwCheckBox",templateString:w})})},"mw-mixins/property/CheckedMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/on","mw-mixins/event/ChangeEventMixin"],function(k,d,e,a){k=k(null,{checked:!1,checkableNode:null,postCreate:function(){this.get("checkableNode")||this.set("checkableNode",this.domNode);this.inherited(arguments);this.domNode.classList.add("mwCheckedMixin");
this.own(e(this.get("checkableNode"),"click",d.hitch(this,"_onClick")))},_setCheckedAttr:function(a){this._set("checked",a);this._setAriaPressed();this._setAriaChecked();this.baseClass.split(" ").forEach(function(d){a?this.domNode.classList.add(d+"Checked"):this.domNode.classList.remove(d+"Checked")},this)},_setCheckableNodeAttr:function(a){this.checkableNode=a||this.domNode},_setAriaPressed:function(){var a=this.focusNode?this.focusNode:this.domNode;a.hasAttribute("aria-pressed")&&a.setAttribute("aria-pressed",
this.get("checked"))},_setAriaChecked:function(){var a=this.focusNode?this.focusNode:this.domNode;a.hasAttribute("aria-checked")&&a.setAttribute("aria-checked",this.get("checked"))},_onClick:function(){var a=this.get("checked"),d=!this.get("checked");this.set("checked",d,!0);this._triggerChangeEvent("checked",a,d)}});k._dependencies=[{mixin:a,orderDependent:!1}];return k})},"mw-mixins/event/ChangeEventMixin":function(){define(["dojo/_base/declare","dojo/_base/lang"],function(k,d){return k(null,{_triggerChangeEvent:function(d,
a,b){this.emit("change",{mwEventData:{propertyName:d,oldValue:a,newValue:b}})},_qeTypeOverWithEnter:function(d){var a=this.get("value");this.set("value",d);this._triggerChangeEvent("value",a,d)},postCreate:function(){this.inherited(arguments);this.own(this.on("change",d.hitch(this,function(d){d.preventDefault();d.mwEventData||(d.stopPropagation(),this._triggerChangeEvent("checked",!this.get("checked"),this.get("checked")))})))}})})},"mw-mixins/property/DescriptionMixin":function(){define(["dojo/_base/declare",
"mw-event-utils/platformize"],function(k,d){return k(null,{description:"",postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwDescriptionMixin");this.set("description",this.get("description"))},_setDescriptionAttr:function(d){if("string"!==typeof d)throw Error("'description' property expects a literal string!");this._updateDescription(d);this._set("description",d)},_updateDescription:function(d){this._lastKnownDescription=d;if(this.descriptionNode)this.descriptionNode.textContent=
d,!1===this.get("showDescription")?this.domNode.classList.add("mwHideDescription"):""===d?this.domNode.classList.add("mwHideDescription"):this.domNode.classList.remove("mwHideDescription");else{var a=this;setTimeout(function(){a._destroyed||a._updateTitle(d)},200)}},_updateTitle:function(e,a){var b;a?(""!==e&&void 0!==e&&(e=""===this._lastKnownDescription?e:" ("+e+")"),b=this._lastKnownDescription+e):b=this.get("shortcut")?e?e+" ("+d.getPlatformSpecificString(this.get("shortcut"))+")":d.getPlatformSpecificString(this.get("shortcut")):
e;this.domNode.setAttribute("title",b)}})})},"mw-event-utils/platformize":function(){define(["dojo/sniff"],function(k){var d=[{regExp:/ctrl|cntrl|control/gi,macString:"\u2303",otherPlatformsString:"Ctrl"},{regExp:/meta/gi,macString:"\u2318",otherPlatformsString:"Ctrl"},{regExp:/shift/gi,macString:"\u21e7",otherPlatformsString:"Shift"},{regExp:/alt/gi,macString:"\u2325",otherPlatformsString:"Alt"},{regExp:/enter/gi,macString:"\u23ce",otherPlatformsString:"Enter"},{regExp:/delete/gi,macString:"\u2326",
otherPlatformsString:"Delete"},{regExp:/del/gi,macString:"\u2326",otherPlatformsString:"Del"},{regExp:/Spacebar/gi,macString:"\u2423",otherPlatformsString:"Spacebar"},{regExp:/space/gi,macString:"\u2423",otherPlatformsString:"Space"},{regExp:/up/gi,macString:"\u2191",otherPlatformsString:"Up"},{regExp:/down/gi,macString:"\u2193",otherPlatformsString:"Down"},{regExp:/left/gi,macString:"\u2190",otherPlatformsString:"Left"},{regExp:/right/gi,macString:"\u2192",otherPlatformsString:"Right"}];return{getPlatformSpecificString:function(e,
a){a=a||{};e=e.replace(/ /g,"");e=e.replace(/_/g,"+");e=e.toUpperCase();d.forEach(function(b){var d;k("mac")?(d=b.macString,!a.dontConvertCtrlToCmd&&"\u2303"===d&&(d="\u2318")):d=b.otherPlatformsString;e=e.replace(b.regExp,d)});return e=k("mac")?e.replace(/\+(?!$)/g,""):e}}})},"mw-mixins/property/DisabledMixin":function(){define(["dojo/_base/declare"],function(k){return k(null,{disabled:!1,postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwDisabledMixin");this.set("disabled",
this.get("disabled"))},startup:function(){this.inherited(arguments);this.get("disabled")&&(this.domNode.dojoClick=!1)},_setDisabledAttr:function(d){if("boolean"!==typeof d)throw Error("'disabled' property expects a boolean!");var e=this.disabledNode?this.disabledNode:this.domNode;d?(e.classList.add("mwDisabled"),e.classList.remove("mwEnabled")):(e.classList.add("mwEnabled"),e.classList.remove("mwDisabled"));this.set("hovering",!1);this.set("active",!1);this._set("disabled",d);this._setAriaDisabled();
this.baseClass.split(" ").forEach(function(a){d?e.classList.add(a+"Disabled"):e.classList.remove(a+"Disabled")}.bind(this));d?e.classList.add("dijitDisabled"):e.classList.remove("dijitDisabled");this._setTabIndexOnNode(this.focusNode)},_setTabIndexOnNode:function(d){this.get("disabled")&&!this.get("dropDownNeverDisabled")?d.removeAttribute("tabIndex"):d.setAttribute("tabIndex","0")},_setAriaDisabled:function(){(this.disabledNode?this.disabledNode:this.domNode).setAttribute("aria-disabled",this.get("disabled")&&
!this.get("dropDownNeverDisabled")?"true":"false")}})})},"mw-mixins/property/SizeMixin":function(){define(["dojo/_base/lang","dojo/_base/declare"],function(k,d){return d(null,{width:"auto",height:"auto",_allowedValues:["auto"],postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwSizeMixin");this.on("updatelayout",k.hitch(this,this._updateLayout))},startup:function(){this.inherited(arguments);this._updateLayout()},_updateLayout:function(){this._setWidthAttr(this.get("width"));
this._setHeightAttr(this.get("height"))},_setWidthAttr:function(d){this._setSize("width",d)},_setHeightAttr:function(d){this._setSize("height",d)},_validateSizeInput:function(d){if(!("string"===typeof d&&"auto"===d||"number"===typeof d&&0<d))throw Error(" Property should either be 'auto' or a positive integer");},_setSize:function(d,a){this._validateSizeInput(a);this._set(d,a);if(this._started){var b="",b=0<=this._allowedValues.indexOf(a)?a:this._getAdjustedSize(d,a,this.domNode);this.domNode.style[d]=
b}},_getAdjustedSize:function(d,a,b){return a+"px"}})})},"mw-mixins/property/TextMixin":function(){define(["dojo/_base/declare"],function(k){return k(null,{text:"",postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwTextMixin");this.set("text",this.get("text"))},_setTextAttr:function(d){if("string"!==typeof d)throw Error("'text' property expects a literal string!");this._updateTextInDOM(d);this._set("text",d)},_updateTextInDOM:function(d){this._placeTextInNode(d);0===this._getTextForDOM(d).length?
this.domNode.classList.add("mwNoText"):this.domNode.classList.remove("mwNoText")},_placeTextInNode:function(d,e){void 0===e&&(e=this.textNode);for(;e.firstChild;)e.removeChild(e.firstChild);var a=this._getTextForDOM(d,e);if(0<a.length){var b=document.createElement("span");b.classList.add("mwTextLine");b.textContent=a;e.appendChild(b);e.classList.remove("mwEmptyNode")}else e.classList.add("mwEmptyNode")},_getTextForDOM:function(d){return d}})})},"mw-mixins/property/ValidationMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/mouse dojo/dom-geometry dojo/dom-construct dojo/on dojo/_base/window dijit/_WidgetBase dijit/_TemplatedMixin".split(" "),
function(k,d,e,a,b,h,l,m,g){var f=k([m,g],{templateString:'\x3cdiv class\x3d"mwValidationTooltipDialog"\x3e\x3cdiv class\x3d"mwArrowNode" data-dojo-attach-point\x3d"arrowNode"\x3e\x3c/div\x3e\x3cdiv class\x3d"mwContentsNode" data-dojo-attach-point\x3d"contentsNode"\x3e\x3cdiv data-dojo-attach-point\x3d"iconNode" class\x3d"mwIconNode"\x3e\x3c/div\x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d"mwTextNode"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',_setTextAttr:function(a){this.textNode.textContent=
a;this._set("text",a)}}),c=["error","warning","normal"];return k(null,{warningText:"",errorText:"",validationState:"normal",_setErrorTextAttr:function(a){if("string"!==typeof a)throw Error("errorText property expects a 'string'!");this.validationTooltip&&this.validationTooltip.set("text",a);this._set("errorText",a)},_setWarningTextAttr:function(a){if("string"!==typeof a)throw Error("warningText property expects a 'string'!");this.validationTooltip&&this.validationTooltip.set("text",a);this._set("warningText",
a)},_setValidationStateAttr:function(a){if("string"!==typeof a)throw Error("validationState property expects a 'string'!");if(-1===c.indexOf(a.toLowerCase()))throw Error("validationState property expects the value to be 'normal', 'error' or 'warning'!");this._set("validationState",a);var b=!1,f=!1;"error"===a.toLowerCase()?(f=!0,this._createValidationTooltip(),this.validationTooltip.set("text",this.get("errorText"))):"warning"===a.toLowerCase()&&(b=!0,this._createValidationTooltip(),this.validationTooltip.set("text",
this.get("warningText")));this.validationTooltip&&(this.domNode.classList.contains("mwWidgetFocused")&&(this.validationTooltip.domNode.classList.add("mwValidationFocused"),this._placeTooltip()),f?(this._getDomNodeForValidationClasses().classList.add("mwValidationError"),this.validationTooltip.domNode.classList.add("mwErrorTooltip")):(this._getDomNodeForValidationClasses().classList.remove("mwValidationError"),this.validationTooltip.domNode.classList.remove("mwErrorTooltip")),b?this.validationTooltip.domNode.classList.add("mwWarningTooltip"):
this.validationTooltip.domNode.classList.remove("mwWarningTooltip"),"normal"===a.toLowerCase()&&(this.validationTooltip.domNode.style.visibility="hidden"))},_createValidationTooltip:function(){this.validationTooltip||(this.validationTooltip=new f,this.validationTooltip.startup(),this.own(this.validationTooltip),this._addTooltipEvents())},_flipDomOrder:function(a){var c=a.children[1];b.place(a.children[0],b.place(c,a),"after");b.place(c.children[0],b.place(c.children[1],c),"after")},_tooltipOrientation:function(){return this.validationTooltip.domNode.classList.contains("mwTooltipLeft")?
"left":"right"},_getDomNodeForValidationClasses:function(){return this.domNode},_placeTooltip:function(){if(this.validationTooltip&&("error"===this.validationState||"warning"===this.validationState)){b.place(this.validationTooltip.domNode,l.body());var c=a.position(this.domNode),f,d,g,h,e,m,k,w=!1;f=c.x;d=c.y;g=c.w;"error"===this.validationState?(this._getDomNodeForValidationClasses().classList.add("mwValidationError"),this.validationTooltip.set("text",this.errorText),this.validationTooltip.domNode.classList.add("mwErrorTooltip")):
"warning"===this.validationState&&(this.validationTooltip.set("text",this.warningText),this.validationTooltip.domNode.classList.add("mwWarningTooltip"));this.validationTooltip.domNode.style.visibility="visible";m=a.position(this.validationTooltip.domNode).h/2;e=a.position(this.domNode).h/2;c=this.validationTooltip.domNode;k=a.position(l.body()).w;h=this._calculateTooltipWidth();f+g+h>k?(w=!0,f=f-h+"px",d=d+e-m+document.body.scrollTop+"px",c.children[0].classList.contains("mwArrowNode")&&this._flipDomOrder(c)):
(f=f+g+"px",d=d+e-m+document.body.scrollTop+"px");w?(this.validationTooltip.domNode.classList.add("mwTooltipLeft"),this.validationTooltip.domNode.classList.remove("mwTooltipRight")):(this.validationTooltip.domNode.classList.remove("mwTooltipLeft"),this.validationTooltip.domNode.classList.add("mwTooltipRight"));this.validationTooltip.domNode.style.left=f;this.validationTooltip.domNode.style.top=d}},_calculateTooltipWidth:function(){this.validationTooltip.domNode.classList.add("mwTooltipLeft");var c=
a.position(this.validationTooltip.domNode).w;this.validationTooltip.domNode.classList.remove("mwTooltipLeft");return c},_addTooltipEvents:function(){this.own(h(this,e.enter,d.hitch(this,function(){this._placeTooltip()})),h(this,e.leave,d.hitch(this,function(){this.validationTooltip&&(this.validationTooltip.domNode.style.visibility="hidden")})),h(this.focusNode,"focus",d.hitch(this,function(){this._placeTooltip();this.validationTooltip&&("error"===this.get("validationState")||"warning"===this.get("validationState"))&&
this.validationTooltip.domNode.classList.add("mwValidationFocused")})),h(this.focusNode,"blur",d.hitch(this,function(){this.validationTooltip&&(this.validationTooltip.domNode.classList.remove("mwValidationFocused"),this.validationTooltip.domNode.style.visibility="hidden")})))}})})},"mw-mixins/AccessibilityClickMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/on","dojo/keys"],function(k,d,e,a){return k(null,{postCreate:function(){this.inherited(arguments);this.own(e(this.domNode,
"keydown",d.hitch(this,function(b){setTimeout(d.hitch(this,function(){if(!0!==this.get("disabled"))switch(b.keyCode){case a.ENTER:this._emitClickEvent(b);break;case a.SPACE:this._emitClickEvent(b),b.preventDefault()}}),0)})));this.own(e(this.domNode,"keyup",d.hitch(this,function(b){var d=b.keyCode===a.ENTER||b.keyCode===a.SPACE,e=/input|button|textarea/i.test(b.target.nodeName);d&&!e&&b.stopPropagation()})))},_emitClickEvent:function(a){e.emit(a.target,"click",{bubbles:!0,cancelable:!0,mwEventData:{keyCode:a.keyCode},
_dojo_click:!0})},_qeClick:function(){this.emit("click")}})})},"mw-form/mixins/CheckBoxRadioButtonTextSizingMixin":function(){define(["dojo/_base/declare","dojo/dom-geometry"],function(k,d){return k(null,{_setWidthAttr:function(){this.inherited(arguments);if(this._started)if("auto"!==this.get("width")){var e=d.position(this.checkBoxRadioIconNode),a=d.getMarginExtents(this.textNode);this.textNode.style.width=this.width-(e.w+a.l)+"px"}else this.textNode.style.width="auto"}})})},"mw-mixins/PreventSelectionMixin":function(){define(["dojo/_base/declare",
"dojo/on"],function(k,d){return k(null,{postCreate:function(){this.inherited(arguments);this._getNonSelectableNodes().forEach(function(e){d(e,"selectstart",function(a){if((document.documentMode||"Netscape"===navigator.appName&&-1===navigator.appVersion.indexOf("Trident"))&&("INPUT"!==a.target.nodeName||"TEXTAREA"!==a.target.nodeName))return!1;a.preventDefault()})})},_getNonSelectableNodes:function(){return[this.domNode]}})})},"mw-menu/mixins/property/CloseMenuOnClickMixin":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/on","dijit/popup"],function(k,d,e,a){return k(null,{closeMenuOnClick:!1,postCreate:function(){this.inherited(arguments);this.own(e(this.domNode,"change",d.hitch(this,"_onChange")));this.domNode.classList.add("mwCloseMenuOnClickMixin");this.set("closeMenuOnClick",this.get("closeMenuOnClick"))},_setCloseMenuOnClickAttr:function(a){if("boolean"!==typeof a)throw Error("'closeMenuOnClick' property expects a Boolean!");this._set("closeMenuOnClick",a);a?this.domNode.classList.add("mwClosePopupOnClick"):
this.domNode.classList.remove("mwClosePopupOnClick")},_onChange:function(){this.get("closeMenuOnClick")&&a.close()}})})},"mw-mixins/property/ShortcutMixin":function(){define(["dojo/_base/declare","mw-event-utils/platformize","mw-mixins/property/DescriptionMixin"],function(k,d,e){k=k(null,{shortcut:"",platformizeShortcut:!0,postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwShortcutMixin");this.set("shortcut",this.get("shortcut"))},_setShortcutAttr:function(a){if("string"!==
typeof a)throw Error("'shortcut' property expects a literal string!");this._updateShortcut(a);this._set("shortcut",a)},_updateShortcut:function(a){this.shortcutKeyNode?(this.shortcutKeyNode.textContent=this._getPlatformizedShortcut(a),!1===this.get("showShortcut")?this.domNode.classList.add("mwHideShortcut"):""===a?this.domNode.classList.add("mwHideShortcut"):this.domNode.classList.remove("mwHideShortcut")):this._updateTitle(this._getPlatformizedShortcut(a),!0)},_getPlatformizedShortcut:function(a){return this.get("platformizeShortcut")?
d.getPlatformSpecificString(a):a},_setPlatformizeShortcutAttr:function(a){if("boolean"!==typeof a)throw Error("'platformizeShortcut' property expects a boolean value!");this._set("platformizeShortcut",a);this._updateShortcut(this.get("shortcut"))}});k._dependencies=[{mixin:e,orderDependent:!0,type:"shortcut"}];return k})},"mw-menu/mixins/property/ShowDescriptionMixin":function(){define(["dojo/_base/declare"],function(k){return k(null,{showDescription:!0,postCreate:function(){this.inherited(arguments);
this.domNode.classList.add("mwShowDescriptionMixin")},_setShowDescriptionAttr:function(d){if("boolean"!==typeof d)throw Error("'showDescription' property expects a Boolean!");!1===d?this.domNode.classList.add("mwHideDescription"):this.descriptionNode&&""===this.descriptionNode.textContent?this.domNode.classList.add("mwHideDescription"):this.domNode.classList.remove("mwHideDescription");this._set("showDescription",d)}})})},"mw-menu/mixins/property/ShowTextMixin":function(){define(["dojo/_base/declare"],
function(k){return k(null,{showText:!0,postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwShowTextMixin")},_setShowTextAttr:function(d){if("boolean"!==typeof d)throw Error("'showText' property expects a Boolean!");d?this.domNode.classList.remove("mwHideText"):this.domNode.classList.add("mwHideText");this._set("showText",d)}})})},"mw-menu/mixins/property/ShowShortcutMixin":function(){define(["dojo/_base/declare"],function(k){return k(null,{showShortcut:!0,postCreate:function(){this.inherited(arguments);
this.domNode.classList.add("mwShowShortcutMixin")},_setShowShortcutAttr:function(d){if("boolean"!==typeof d)throw Error("'showShortcut' property expects a Boolean!");!1===d?this.domNode.classList.add("mwHideShortcut"):this.shortcutNode&&""===this.shortcutNode.textContent?this.domNode.classList.add("mwHideShortcut"):this.domNode.classList.remove("mwHideShortcut");this._set("showShortcut",d)}})})},"mw-menu/mixins/SingleLineTextMixin":function(){define(["dojo/_base/declare","mw-mixins/property/TextMixin"],
function(k,d){var e=k(null,{_getTextForDOM:function(a){a=this.inherited(arguments);return a=a.replace(/\n/g," ")}});e._dependencies=[{mixin:d,orderDependent:!0}];return e})},"mw-menu/mixins/FocusableMenuChildMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/has dojo/dom dojo/on dojo/mouse dojo/touch dijit/focus dijit/registry mw-dom-utils/domUtils".split(" "),function(k,d,e,a,b,h,l,m,g,f){return k(null,{postCreate:function(){this.inherited(arguments);var a=e("touch")&&!window.PointerEvent;
this.own(b(this.domNode,"click",d.hitch(this,"_onMouseClick")),b(this.domNode,a?l.release:"mouseup",d.hitch(this,"_onMouseUp")),b(this.domNode,h.enter,d.hitch(this,"_onMouseEnter")),b(this.domNode,"focusout",d.hitch(this,"_focusLost")));this.domNode.classList.add("mwFocusableMenuChildMixin")},_focusLost:function(c){setTimeout(d.hitch(this,function(){var b,d=f.parseFocusEvent(c).gainedFocusNode,h=g.getEnclosingWidget(d);if(h&&(b=h.focusNode||h.domNode)&&b.hasAttribute("data-composite-child"))if(h=
g.getEnclosingWidget(a.byId(b.getAttribute("data-composite-primary-id"))),h===this)return;this!==h&&(b=this.getParentWidget(),(null==h||f.isFocusable(d))&&(b&&b._focusChange)&&b._focusChange(h),this.focusLost&&this.focusLost(h))}),0)},_onMouseClick:function(a){a.mwEventData?(this.focus(),this.closeMenuOnClick&&this._requestClose(!1)):(a.preventDefault(),a.stopImmediatePropagation())},_onMouseEnter:function(a){this.focusNode&&f.isFocusable(this.focusNode)&&this.focus()},_onMouseUp:function(a){a.preventDefault();
a.stopPropagation();!(this.getParentWidget()&&!0===this.getParentWidget()._mouseDownTriggered)&&f.isFocusable(this.focusNode)&&this._emitClickEvent&&(f.isLeftMouseButton(a)||"dojotouchend"===a.type)&&this._emitClickEvent(a)},_requestClose:function(a){var b=this.getParentWidget();null!=b&&b.closeRequest&&(b._closeEventData={mwEventData:{gainedFocusWidget:null}},b.closeRequest(a?a:!1))},focus:function(){this.inherited(arguments);f.isFocusable(this.focusNode)&&(m.focus(this.focusNode||this.domNode),
(this.focusNode||this.domNode).focus())},getParentWidget:function(a){if(null==a)if(this.domNode)a=this.domNode;else return null;a.domNode&&(a=a.domNode);if(a.parentNode)a=f.getParent(a);else return null;return g.getEnclosingWidget(a)}})})},"mw-menu/mixins/MenuChildResizeMixin":function(){define(["dojo/_base/declare","dojo/_base/lang"],function(k,d){var e="icon text shortcut description showIcon showText showShortcut showDescription".split(" ");return k(null,{postCreate:function(){this.inherited(arguments);
this.watch(d.hitch(this,function(a,b,d){-1<e.indexOf(a)&&("icon"!==a||this._getIconType(d)!==this._iconTypes.DATA_URI)&&this.emit("updatelayout")}));this.domNode.classList.add("mwMenuChildResizeMixin")}})})},"mw-menu/mixins/MenuItemTextColorMixin":function(){define(["dojo/_base/declare","mw-mixins/property/DescriptionMixin","mw-menu/mixins/property/ShowDescriptionMixin"],function(k,d,e){k=k(null,{_setDescriptionAttr:function(a){this.inherited(arguments);""!==a?this.textNode.classList.add("mwBlueText"):
this.textNode.classList.remove("mwBlueText")},_setShowDescriptionAttr:function(a){this.inherited(arguments);a?this.textNode.classList.add("mwBlueText"):this.textNode.classList.remove("mwBlueText")},postCreate:function(){this.inherited(arguments);(this.get("showDescription")&&""===this.get("description")||!this.get("showDescription")&&""!==this.get("description"))&&this.textNode.classList.remove("mwBlueText")}});k._dependencies=[{mixin:d,orderDependent:!0},{mixin:e,orderDependent:!0}];return k})},
"mw-menu/Menu":function(){define("dojo/_base/declare dijit/focus dijit/_WidgetBase dijit/_TemplatedMixin dijit/_Container mw-menu/mixins/KeyNavMixin mw-menu/mixins/OnOpenMixin mw-menu/mixins/OnCloseMixin mw-menu/mixins/ContainerFocusMixin mw-menu/mixins/MenuFocusMixin mw-menu/mixins/property/MaxHeightMixin mw-mixins/property/TagMixin mw-mixins/property/DestroyedMixin mw-mixins/property/VisualFamilyMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/Menu.html".split(" "),function(k,d,e,
a,b,h,l,m,g,f,c,n,r,s,q,p){return k(q.validate([e,h,a,b,n,l,m,g,f,c,r,s]),{baseClass:"mwWidget mwMenu",templateString:p,_getTargetNode:function(a){a.hasAttribute("data-composite-child")&&(a=document.getElementById(a.getAttribute("data-composite-primary-id")));return a},isMenuOpen:function(){return this.domNode&&this.domNode.parentElement?"none"!==this.domNode.parentElement.style.display:!1}})})},"mw-mixins/property/DestroyedMixin":function(){define(["dojo/_base/declare"],function(k){return k(null,
{_destroyed:!1,destroy:function(){this._set("_destroyed",!0);this.inherited(arguments)},isDestroyed:function(){return this.get("_destroyed")}})})},"mw-menu/MenuItem":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_CssStateMixin dijit/_Contained dijit/_FocusMixin mw-menu/mixins/MenuItemTextColorMixin mw-mixins/property/TagMixin mw-menu/mixins/property/CloseMenuOnClickMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/IconMixin mw-menu/mixins/property/IconSizeCalculatorMixin mw-mixins/property/ShortcutMixin mw-menu/mixins/property/ShowDescriptionMixin mw-menu/mixins/property/ShowIconMixin mw-menu/mixins/property/ShowTextMixin mw-menu/mixins/property/ShowShortcutMixin mw-mixins/property/TextMixin mw-menu/mixins/SingleLineTextMixin mw-mixins/property/VisualFamilyMixin mw-mixins/AccessibilityClickMixin mw-mixins/PreventSelectionMixin mw-menu/mixins/FocusableMenuChildMixin mw-menu/mixins/MenuChildResizeMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/MenuItem.html".split(" "),
function(k,d,e,a,b,h,l,m,g,f,c,n,r,s,q,p,t,u,v,w,x,y,z,C,D,B,E){return k(B.validate([d,e,a,b,h,m,g,f,c,n,r,s,q,p,t,u,v,w,x,l,y,z,C,D]),{baseClass:"mwWidget mwSharedMenuItem mwMenuItem",templateString:E,closeMenuOnClick:!0,_emitClickEvent:function(){this.emit("click",{mwEventData:{value:this.get("text")},_dojo_click:!0})},_qeClick:function(){this._emitClickEvent()}})})},"mw-mixins/property/IconMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-construct","dojo/on"],function(k,
d,e,a){return k(null,{_iconTypes:{DATA_URI:"data_uri",CSS_CLASS:"css_class"},icon:"",_lastIconApplied:"",postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwIconMixin");this.set("icon",this.get("icon"))},_setIconAttr:function(a){if("string"!==typeof a)throw Error("'icon' property expects a literal string!");this._set("icon",a);this._updateDOM(a)},_updateDOM:function(a){this._removeOldIcon();this._applyNewIcon(a)},_removeOldIcon:function(){var a=this._lastIconApplied,d=this._getIconType(a);
d===this._iconTypes.DATA_URI?this._removeImageStyles(this.iconNode):d===this._iconTypes.CSS_CLASS&&""!==a&&a.trim().split(" ").forEach(function(a){this.iconNode.classList.remove(a)},this)},_applyNewIcon:function(b){var h=this._getIconType(b);if(h===this._iconTypes.DATA_URI){var l=e.create("img",{src:b});this.own(a.once(l,"load",d.hitch(this,function(){this._applyImageStyles(this.iconNode,b,l);this.emit("iconapplied");this.emit("updatelayout");e.destroy(l)})))}else h===this._iconTypes.CSS_CLASS&&""!==
b&&b.trim().split(" ").forEach(function(a){this.iconNode.classList.add(a)},this);0===b.length?this.domNode.classList.add("mwNoIcon"):this.domNode.classList.remove("mwNoIcon");this._lastIconApplied=b},_getIconType:function(a){var d="";return d=-1<a.indexOf("data:")?this._iconTypes.DATA_URI:this._iconTypes.CSS_CLASS},_applyImageStyles:function(a,d,e){a.style.backgroundImage="url("+d+")";a.style.width=e.width+"px";a.style.height=e.height+"px"},_removeImageStyles:function(a){a.style.backgroundImage="";
a.style.width="";a.style.height=""}})})},"mw-menu/mixins/property/IconSizeCalculatorMixin":function(){define(["dojo/_base/declare","dojo/on","dojo/dom-geometry","dojo/_base/lang","dojo/dom-construct"],function(k,d,e,a,b){return k(null,{_applyNewIcon:function(a){this.inherited(arguments);if(this._getIconType(a)===this._iconTypes.CSS_CLASS){var d=b.create("div",{"class":a,style:"position:absolute",top:"-10000px !important",left:"-10000px !important"});b.place(d,document.body);var m=e.getMarginBox(d).h;
this._addClass(m);b.destroy(d)}},_addClass:function(a){24<=a?this.domNode.classList.add("mwIcon_24"):this.domNode.classList.remove("mwIcon_24")},_applyImageStyles:function(a,b,d){this.inherited(arguments);this._addClass(d.height)}})})},"mw-menu/mixins/property/ShowIconMixin":function(){define(["dojo/_base/declare"],function(k){return k(null,{showIcon:!0,postCreate:function(){this.inherited(arguments);this.domNode.classList.add("mwShowIconMixin")},_setShowIconAttr:function(d){if("boolean"!==typeof d)throw Error("'showIcon' property expects a Boolean!");
d?this.domNode.classList.remove("mwHideIcon"):this.domNode.classList.add("mwHideIcon");this._set("showIcon",d)}})})},"mw-menu/MenuSeparator":function(){define("dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_CssStateMixin mw-mixins/property/TagMixin mw-mixins/property/VisualFamilyMixin mw-mixins/PreventFocusMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/MenuSeparator.html".split(" "),function(k,d,e,a,b,h,l,m,g){return k(m.validate([d,e,a,b,h,l]),{baseClass:"mwWidget mwMenuSeparator",
templateString:g})})},"mw-mixins/PreventFocusMixin":function(){define(["dojo/_base/declare","dojo/on"],function(k,d){return k(null,{postCreate:function(){this.inherited(arguments);this._getNonFocusableNodes().forEach(function(e){d(e,"mousedown",function(a){a.preventDefault()})})},_getNonFocusableNodes:function(){return[this.domNode]}})})},"mw-menu/PopupMenuItem":function(){define("dojo/_base/declare dijit/focus dojo/on dojo/keys dojo/dom-geometry dojo/_base/lang dijit/_WidgetBase dijit/_TemplatedMixin dijit/_CssStateMixin dijit/_Contained dijit/_FocusMixin mw-menu/mixins/OnOpenMixin mw-menu/mixins/OnCloseMixin mw-mixins/property/TagMixin mw-menu/mixins/property/CloseMenuOnClickMixin mw-mixins/property/DescriptionMixin mw-mixins/property/DisabledMixin mw-mixins/property/MenuMixin mw-mixins/property/HasDynamicMenuMixin mw-mixins/property/IconMixin mw-menu/mixins/property/IconSizeCalculatorMixin mw-mixins/property/ShortcutMixin mw-menu/mixins/property/ShowDescriptionMixin mw-menu/mixins/property/ShowIconMixin mw-menu/mixins/property/ShowTextMixin mw-menu/mixins/property/ShowShortcutMixin mw-mixins/property/TextMixin mw-menu/mixins/SingleLineTextMixin mw-mixins/property/VisualFamilyMixin mw-menu/mixins/FocusableMenuChildMixin mw-menu/mixins/MenuChildResizeMixin mw-menu/mixins/MenuItemTextColorMixin mw-mixins/PreventSelectionMixin mw-mixins/mixinDependencyValidator dojo/text!./templates/PopupMenuItem.html".split(" "),
function(k,d,e,a,b,h,l,m,g,f,c,n,r,s,q,p,t,u,v,w,x,y,z,C,D,B,E,J,H,P,I,K,F,A,G){return k(A.validate([l,m,g,f,c,n,r,s,q,p,t,u,P,v,w,x,y,z,C,D,B,E,J,H,K,F,I]),{baseClass:"mwWidget mwSharedMenuItem mwPopupMenuItem",templateString:G,_focusSubMenuOnOpen:!1,menuOrientation:"horizontal",keyPressButtons:"right_arrow_a11y",postCreate:function(){this.inherited(arguments);this.own(e(this.domNode,"keydown",h.hitch(this,"_handleRightArrow")))},_setFocusSubMenuOnOpenAttr:function(a){if("boolean"!==typeof a)throw Error("'doFocus' argument expects a boolean value.");
this._set("_focusSubMenuOnOpen",a)},_emitClickEvent:function(){this.emit("click",{mwEventData:{value:this.get("text")},_dojo_click:!0})},focusLost:function(a){this.get("menu")&&(this.get("menu").isDescendant&&!this.get("menu").isDescendant(a,this.get("menu")))&&(this.get("menu")._closeEventData={mwEventData:{gainedFocusWidget:a}},this.closeMenu(!1))},focus:function(){this.inherited(arguments);this.get("disabled")||this.openMenu()},_handleRightArrow:function(c){c.keyCode===a.RIGHT_ARROW&&(this.isMenuOpen()?
this.get("menu").focusFirst():(this.set("_focusSubMenuOnOpen",!0),this.openMenu()))},_showMenu:function(){var a=this.get("menu");null!==a&&(!this._doNotOpen&&!this.isMenuOpen())&&(a._leftArrowListener=e(a.domNode,"keydown",h.hitch(a,this._handleLeftArrow)),a._menuCloseListener=e(a.domNode,"close",h.hitch(a,this._handleCloseMenu)),a._storeFocusOnOpen=a.get("_focusOnOpen"),a._storeOnOpen=a.onOpen,a._storeMatchMinWidthToInvokingWidget=a.get("_matchMinWidthToInvokingWidget"),a.set("_focusOnOpen",this.get("_focusSubMenuOnOpen")),
a.onOpen=this.onOpen,a._matchMinWidthToInvokingWidget=!1,a.domNode.classList.add("mwPopupMenuItemPopup"),this.inherited(arguments))},_handleCloseMenu:function(a){if(a&&a.mwEventData&&a.mwEventData.hasOwnProperty("gainedFocusWidget")){var c=this._invokingWidget.getParentWidget();a=a.mwEventData.gainedFocusWidget;!c.isInvokingWidget(a)&&!c.isDescendant(a,c)&&(this._leftArrowListener&&this._leftArrowListener.remove(),this._menuCloseListener&&this._menuCloseListener.remove(),delete this._leftArrowListener,
delete this._menuCloseListener,this._focusOnOpen=this._storeFocusOnOpen,this.onOpen=this._storeOnOpen,this._matchMinWidthToInvokingWidget=this._storeMatchMinWidthToInvokingWidget,this.domNode.classList.remove("mwPopupMenuItemPopup"),c._focusChange(a))}},_handleLeftArrow:function(c){c.keyCode===a.LEFT_ARROW&&(this._doNotOpen=!0,this._invokingWidget.focus(),this._doNotOpen=!1)},onOpen:function(){this.inherited(arguments);this._emitOpenEvent();this._updateLayout();b.position(this.domNode).x>b.position(this._invokingWidget.domNode).x?
(this.domNode.classList.add("mwPopupMenuItemPopupRight"),this.domNode.classList.remove("mwPopupMenuItemPopupleft"),this.domNode.parentElement.classList.add("mwPopupMenuItemParentRight"),this.domNode.parentElement.classList.remove("mwPopupMenuItemParentLeft")):(this.domNode.classList.add("mwPopupMenuItemPopupLeft"),this.domNode.classList.remove("mwPopupMenuItemPopupRight"),this.domNode.parentElement.classList.remove("mwPopupMenuItemParentRight"),this.domNode.parentElement.classList.add("mwPopupMenuItemParentLeft"));
this.domNode.parentElement.classList.add("mwPopupMenuItemParent");0<this.getChildren().length&&(this._focusOnOpen&&this.focusFirst)&&(this._storeFocus=this.focus,this.focus=function(){this.focusFirst();this.focus=this._storeFocus;delete this._storeFocus});this._invokingWidget.set("_focusSubMenuOnOpen",!1)},_closeMenuOnParentClick:function(){return!1},_updateWidth:function(){}})})},"mw-mixins/property/MenuMixin":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dom dojo/dom-geometry dojo/has dojo/keys dojo/on dojo/touch dijit/focus dijit/popup dijit/Viewport dijit/_WidgetBase".split(" "),
function(k,d,e,a,b,h,l,m,g,f,c,n,r){var s={left:[0],center:[1],right:[2],all:[0,1,2],none:[]},q=function(a){if(!0===a.synthetic&&window.syn&&-1!==a.type.indexOf("mouse"))switch(a.button){case window.syn.mouse.browser.left[a.type].button:return 0;case window.syn.mouse.browser.right[a.type].button:return 2;default:return 1}else return a.button},p={down_arrow:[l.DOWN_ARROW],right_arrow:[l.RIGHT_ARROW],left_arrow:[l.LEFT_ARROW],up_arrow:[l.UP_ARROW],enter:[l.ENTER],space:[l.SPACE],a11y:[l.ENTER,l.SPACE],
down_arrow_a11y:[l.DOWN_ARROW,l.ENTER,l.SPACE],right_arrow_a11y:[l.RIGHT_ARROW,l.ENTER,l.SPACE],left_arrow_a11y:[l.LEFT_ARROW,l.ENTER,l.SPACE],up_arrow_a11y:[l.UP_ARROW,l.ENTER,l.SPACE],none:[]},t={below:["below","below-alt"],vertical:["below","below-alt","above","above-alt"],horizontal:["after","before"]};return k(null,{menu:null,menuNode:null,aroundNode:null,_clickButtons:s.left,_keyPressButtons:p.a11y,_menuOrientation:t.vertical,_setMenuAttr:function(a){this._validateMenuAttr(a);this._set("menu",
a)},_validateMenuAttr:function(a){if(null!==a&&!(a instanceof r))throw Error("'menu' property expects a widget");},_setMenuNodeAttr:function(a){if(!(a instanceof HTMLElement))throw Error("'menuNode' property expects a DOM node.");a?this._set("menuNode",a):this._set("menuNode",this.focusNode||this.domNode)},_setAroundNodeAttr:function(a){if(!(a instanceof HTMLElement))throw Error("'aroundNode' property expects a DOM node.");a?this._set("aroundNode",a):this._set("aroundNode",this.domNode)},_setClickButtonsAttr:function(a){if("string"!==
typeof a||-1===s.hasOwnProperty(a))throw Error("'clickButtons' property expects one of these values: "+Object.keys(s));this._set("_clickButtons",s[a])},_setKeyPressButtonsAttr:function(a){if("string"!==typeof a||-1===p.hasOwnProperty(a))throw Error("'keyPressButtons' property expects one of these values: "+Object.keys(p));this._set("_keyPressButtons",p[a])},_setMenuOrientationAttr:function(a){if("string"!==typeof a||-1===t.hasOwnProperty(a))throw Error("'menuOrientation' property expects one of these values: "+
Object.keys(t));this._set("_menuOrientation",t[a])},postCreate:function(){var a;this.inherited(arguments);this.domNode.classList.add("mwMenuMixin");this.menuNode=this.menuNode||this.focusNode||this.domNode;this.aroundNode=this.aroundNode||this.domNode;a=h("touch")&&!window.PointerEvent;this.own(m(this.menuNode,a?g.press:"mousedown",d.hitch(this,"_onPress")),m(this.menuNode,"mousedown",d.hitch(this,"_onMouseDown")),m(this.menuNode,"keydown",d.hitch(this,"_onKeyDown")),m(this.menuNode,"keyup",d.hitch(this,
"_onKeyUp")),m(this.domNode,"click",d.hitch(this,"_onMouseClick")),this.watch("disabled",d.hitch(this,function(a,c,b){b&&this._handleClosingPopup(!1)})))},_onPress:function(a){var c=-1<this._clickButtons.indexOf(q(a))||"touchstart"===a.type,b=!this.isMenuOpen()||this._closeMenuOnParentClick();this.get("menu")&&(this.get("menu")._lastPressEvent=a);c&&b?(this.get("menu")&&(this.get("menu")._mouseDownTriggered=!0,setTimeout(d.hitch(this,function(){this.get("menu")&&"_mouseDownTriggered"in this.get("menu")&&
delete this.get("menu")._mouseDownTriggered}),300)),this.toggleMenu(a.target)):this.isMenuOpen()&&(a.preventDefault(),a.stopImmediatePropagation())},_onMouseDown:function(a){this.inherited(arguments);var c=this.get("menu")&&"_mouseDownTriggered"in this.get("menu"),b=this.get("menu")&&"_lastPressEvent"in this.get("menu")&&"touchstart"===this.get("menu")._lastPressEvent.type;if(this.isMenuOpen()||c&&b)a.preventDefault(),a.stopImmediatePropagation()},_onMouseClick:function(c){this.get("menu")&&"_mouseDownTriggered"in
this.get("menu")&&delete this.get("menu")._mouseDownTriggered;this.inherited(arguments);a.isDescendant(c.target,this.menuNode)&&c.stopImmediatePropagation()},_onKeyDown:function(a){this.inherited(arguments);if(!this.get("disabled")||this.get("dropDownNeverDisabled"))if(a.keyCode===l.ESCAPE)this.domNode.classList.contains("mwFocusableMenuChildMixin")?this.closeMenu(!1):this.closeMenu(!0);else if(-1<this._keyPressButtons.indexOf(a.keyCode)&&(!this.isMenuOpen()||this._closeMenuOnParentClick()&&this.isMenuOpen()))this._toggleOnKeyUp=
!0},_onKeyUp:function(a){this.inherited(arguments);this._toggleOnKeyUp&&(delete this._toggleOnKeyUp,(!this.isMenuOpen()||this.closeMenuOnClick)&&this.toggleMenu(a.target))},_onBlur:function(){this.isMenuOpen()&&(this.get("menu")._invokingWidget===this&&!this.get("menu").domNode.classList.contains("mwMenu")&&!this.get("menu").domNode.classList.contains("mwSectionPopup"))&&(a.isDescendant(document.activeElement,this.domNode)?this.closeMenu(!0):this.closeMenu(!1));this.inherited(arguments)},_qeDropDownClick:function(){this.toggleMenu()},
toggleMenu:function(c){c=c||this.menuNode;c=c.domNode||c;a.isDescendant(c,this.menuNode)&&(this.isMenuOpen()?this.closeMenu(!0):this.openMenu())},openMenu:function(){this._showMenu()},_showMenu:function(){null!=this.get("menu")&&setTimeout(d.hitch(this,function(){var a,f,d=this;if(null!=d.get("menu")){null==this.aroundNode&&(f=a=0);"_invokingWidget"in this.get("menu")&&this.get("menu")._invokingWidget&&(this.get("menu")._lastInvokingWidget=this.get("menu")._invokingWidget);this.get("menu")._invokingWidget=
this;this.domNode.classList.add("mwHasMenuOpened");this.get("menu")._onPositionListener=e.around(b,"position",function(a){return function(c,b){var f="ontouchstart"in window||navigator.maxTouchPoints,d=document.body.clientWidth>window.innerWidth;return b&&f&&d?a(c,!1):a(c,b)}});this.get("menu").own(this.get("menu")._onPositionListener);c.open({parent:this,popup:d.get("menu"),x:a,y:f,around:d.aroundNode,orient:d._menuOrientation,maxHeight:d.get("maxHeight"),onCancel:function(){if(d.domNode.classList.contains("mwFocusableMenuChildMixin")){var a=
d.getParent();d.closeMenu(!1);a._closeEventData={mwEventData:{gainedFocusWidget:null}};a.closeRequest(!1)}else d.closeMenu(!0)},onClose:function(){d.get("menu")&&"_lastInvokingWidget"in d.get("menu")?(null!=d.get("menu")._lastInvokingWidget&&d._cleanUpAfterClose(d,!0),delete d.get("menu")._lastInvokingWidget):d._cleanUpAfterClose(d,!1);d.get("menu")&&"_onPositionListener"in d.get("menu")&&(d.get("menu")._onPositionListener.remove(),delete d.get("menu")._onPositionListener)}});var g=d.own(m(n,"resize",
function(){d.getParentWidget?d.closeMenu(!1):d.closeMenu(!0);g.length?[].slice.call(g).forEach(function(a){a.remove()}):g.remove()}))}}),0)},closeMenu:function(a){var c=this._handleClosingPopup(a);this._handleFocusOnClose(a,c)},_handleClosingPopup:function(a){if(this.isMenuOpen()){if(this.get("menu")){this.get("menu").getChildren().forEach(function(c){"menu"in c&&c.isMenuOpen()&&(c.get("menu")._closeEventData=this._closeEventData,c.closeMenu(a))},this);var b=this.get("menu")._closeEventData;c.close(this.get("menu"));
return b}}else if(this.get("menu"))return this.get("menu")._closeEventData},_handleFocusOnClose:function(a,c){!0===a?this.focus?this.focus():f.focus(this.focusNode||this.domNode):c&&"mwEventData"in c&&"gainedFocusWidget"in c.mwEventData&&c.mwEventData.gainedFocusWidget?f.focus(c.mwEventData.gainedFocusWidget.focusNode||c.mwEventData.gainedFocusWidget.domNode):f.focus(document.body)},startup:function(){if(!this._started){if(!this.get("menu")&&this.srcNodeRef){var a=query("[widgetId]",this.srcNodeRef)[0];
a&&this.set("menu",registry.byNode(a))}this.get("menu")&&c.hide(this.get("menu"));this.inherited(arguments)}},destroy:function(){this.isMenuOpen()&&this.closeMenu(!0);this.inherited(arguments)},_closeMenuOnParentClick:function(){return!0},_cleanUpAfterClose:function(a,c){!c&&a.get("menu")&&delete a.get("menu")._invokingWidget;a.domNode&&a.domNode.classList.remove("mwHasMenuOpened")},isMenuOpen:function(){return this.get("menu")&&this.get("menu")._invokingWidget&&this.get("menu")._invokingWidget===
this&&this.get("menu").domNode&&this.get("menu").domNode.parentElement&&this.get("menu").domNode.parentElement.classList.contains("dijitPopup")?"none"!==this.get("menu").domNode.parentElement.style.display:!1}})})},"mw-mixins/property/HasDynamicMenuMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","mw-mixins/property/MenuMixin"],function(k,d,e){k=k(null,{hasDynamicMenu:!1,_setHasDynamicMenuAttr:function(a){this._set("hasDynamicMenu",a)},postCreate:function(){this.inherited(arguments);
this.domNode.classList.add("mwHasDynamicMenuMixin");this.set("hasDynamicMenu",this.get("hasDynamicMenu"))},openMenu:function(){this.get("hasDynamicMenu")?this.emit("dropdownclick",{}):this._showMenu()},showMenu:function(){this._showMenu();var a=this.menu.on("updatelayout",d.hitch(this.menu,function(){this._updateLayout&&this._updateLayout()})),b=this.menu.on("close",function(){a.remove();b.remove()})}});k._dependencies=[{mixin:e,orderDependent:!0}];return k})},"mw-filebrowser/actions/keyboard/KeyboardActionsBuilder":function(){define(["dojo/_base/lang",
"dojo/aspect","mw-keybindings/BindingUtils","mw-keybindings/DefaultKeys"],function(k,d,e,a){var b;return{buildKeyMap:function(h,e){b=e;b.grid.addKeyHandler(a.LEFT_ARROW,k.hitch(b.grid,"moveFocusLeft"));b.grid.addKeyHandler(a.RIGHT_ARROW,k.hitch(b.grid,"moveFocusRight"));b.grid.addKeyHandler(a.LEFT_ARROW,k.hitch(b.grid,"moveFocusLeft"),!0);b.grid.addKeyHandler(a.RIGHT_ARROW,k.hitch(b.grid,"moveFocusRight"),!0);var m=this;h.forEach(function(a){d.after(a,"onActionAdd",function(c){c=a._actionById(c.id)._properties;
m.setKeyBinding(c,a)},!0);var b=[];try{b=a.getAllActions()}catch(c){return}b.forEach(function(c){m.setKeyBinding(c,a)})})},setKeyBinding:function(a,d){a.supportsKeyBinding&&(a.keyCode||d.updateAction(a.id,{keyCode:b.keybindings[a.id]?e.getKeyBindingData(b.keybindings[a.id]).keyCode:""}),b.grid.keyMap[a.keyCode]=null,b.grid.addKeyHandler(a.keyCode,k.hitch(this,"_performAction",a,d)))},_performAction:function(a,b,d){if(!a.requiresCtrl||d.ctrlKey)b.executeAction(a.id,b._actionById(a.id)._properties),
d.preventDefault(),d.stopPropagation()}}})},"mw-filebrowser/columns/ColumnHiderContextMenuBuilder":function(){define(["mw-menu/CheckBoxMenuItem"],function(k){var d=function(d){var a=[];d.getColumns().forEach(function(b){b.unhidable||a.push(b)});return a};return{buildContextMenu:function(e,a,b,h){e.destroyDescendants();d(a).forEach(function(a){a=new k({closeMenuOnClick:!0,checked:!a.hidden,text:a.label,id:a.id});e.addChild(a);a.startup();a.on("change",function(a){a=a.currentTarget.id;h(a,b.isColumnHidden(a))})})}}})},
"mw-filebrowser/grid/draganddrop/FileBrowserGridDnDSource":function(){define("dojo/_base/declare dojo/_base/Deferred dojo/_base/NodeList dojo/dom-class dojo/has dojo/topic dojo/dnd/Manager dojo/dnd/Source dojo/has!touch?dgrid/util/touch mw-dnd/DnDUtils mw-filename-utils/FileNameUtil ./FileBrowserGridDnDAvatar".split(" "),function(k,d,e,a,b,h,l,m,g,f,c,n){return k(m,{manager:l.manager(),_setCanDrop:function(){if(this.manager.target){var a=this.getTargetFolderInfo();this.manager.copy||this.canTargetAcceptSource(a,
this.manager.nodes)?(this.manager.canDrop(!0),this.highlightTargetNode(this.grid.row(a).element)):(this.manager.canDrop(!1),this.removeHighlightTargetNode())}},onFilesDrop:function(a,c,b){},getTargetRow:function(){var a=this._targetAnchor=this.targetAnchor,c=this.grid;return a&&c.row(a)},getTargetFolderInfo:function(){var a=this.grid,c=a.store,b=this.getTargetRow(),f;b&&(f=c.get(b.id));if(!f||!f.isDirectory&&f.parent===a.getCurrentFolderPath())f=a.getCurrentFolderInfo();f.isDirectory||(f=c.get(f.parent));
return f},canTargetAcceptSource:function(a,b){var f=!0;c.isWritable(a)||(f=!1);var d=this,g=c.normalizePath(c.pathFromFileInfo(a));b.some(function(a){var b=d.getObject(a),h=c.normalizePath(c.pathFromFileInfo(b)),e=c.normalizePath(b.location);a=b.isDirectory&&!c.isWritable(b);e=g===e;b=b.isDirectory&&0===g.indexOf(h);if(a||e||b)f=!1});return f},highlightTargetNode:function(c){this.removeHighlightTargetNode();c&&(a.add(c,"isDnDTarget"),this.previousTargetRowNode=c)},removeHighlightTargetNode:function(){this.previousTargetRowNode&&
(a.remove(this.previousTargetRowNode,"isDnDTarget"),this.previousTargetRowNode=null)},getObject:function(a){var c=this.grid;return c._trackError(function(){return c.store.get(a.id.slice(c.id.length+5))})},_legalMouseDown:function(a){return this.inherited(arguments)&&a.target!==this.grid.bodyNode},constructor:function(){f.registerMakeAvatar(this,function(){return new n(l.manager())})},onDndCancel:function(){this.inherited(arguments);this.removeHighlightTargetNode()},onDrop:function(a,c,b){var f=this.getTargetFolderInfo();
if(this===a)this.onDropInternal(c,b,f)},onDropInternal:function(a,c,b){var f=this,g=[];a.forEach(function(a){d.when(f.getObject(a),function(a){g.push(a)})});this.onFilesDrop(g,b,c)},onDndStart:function(a){var b=this;this.inherited(arguments);a===this&&(this.grid.cancelTouchScroll&&this.grid.cancelTouchScroll(),this.manager.nodes.forEach(function(f){var d=a.getObject(f);f=c.isUserPublishedDirectoryPath(d.path);var g=c.isUserSharedDirectoryPath(d.path),d=c.isInUsersSharedDirectory(d.path);if(f||g||
d)b.manager.canDrop(!1),b.manager.stopDrag(),h.publish("/dnd/cancel")}))},onMouseDown:function(a){b("touch")&&this.isDragging&&1<g.countCurrentTouches(a,this.grid.touchNode)?(h.publish("/dnd/cancel"),this.manager.stopDrag()):this.inherited(arguments)},onMouseMove:function(a){if(!b("touch")||1>=g.countCurrentTouches(a,this.grid.touchNode))this.inherited(arguments),this.isDragging&&this._setCanDrop()},checkAcceptance:function(a,c){return a.getObject&&m.prototype.checkAcceptance.apply(this,arguments)},
getSelectedNodes:function(){var a=new e,c;for(c in this.grid.selection)a.push(this._selectedNodes[c]);return a},_markDndStatus:function(){this.inherited(arguments);this._setCanDrop()}})})},"mw-dnd/DnDUtils":function(){define(["dojo/_base/declare","dojo/aspect","dojo/dnd/Manager","mw-utils/Utils"],function(k,d,e,a){var b={},h=function(a){var d=-1;Object.keys(b).some(function(g,f,c){return b[g].dndSource===a?(d=g,!0):!1});return d};d.around(e.manager(),"makeAvatar",function(a){return function(){var d=
e.manager(),g;!1===Object.keys(b).some(function(a,c,h){return b[a].dndSource===d.source?(g=b[a].makeAvatarFunc.call(d),!0):!1})&&(g=a.call(d));return g}});return{registerMakeAvatar:function(d,e){var g=h(d);-1===g&&(g=a.generateUuid());b[g]={dndSource:d,makeAvatarFunc:e}},unregisterMakeAvatar:function(a){a=h(a);-1!==a&&delete b[a]},destroy:function(a){a&&a.remove()}}})},"mw-utils/Utils":function(){define(["dojo/_base/lang","dojo/_base/window","mw-utils/deprecation"],function(k,d,e){return{generateUuid:function(){return"xxxxxxxx".replace(/[xy]/g,
function(a){var b=16*Math.random()|0;return("x"===a?b:b&3|8).toString(16)}).toUpperCase()},isImageData:function(a){return!!a&&(d.global.ImageData&&a instanceof d.global.ImageData||a.hasOwnProperty("width")&&a.hasOwnProperty("height")&&a.hasOwnProperty("data"))},isArray:function(a){e.deprecated({deprecated:{module:"MW/utils/Utils",method:"isArray"},geckNumber:1444368});return Array.isArray(a)},getArrayLength:function(a){var b=0;if(!k.isArray(a))return!1;a.forEach(function(a){a&&(b+=1)});return b},
isWhitespace:function(a){return/^\s+$/.test(a)},removeSurroundingNewLines:function(a){for(;"\n"===a.charAt(0);)a=a.substring(1);for(;"\n"===a.charAt(a.length-1);)a=a.substring(0,a.length-1);return a},getFirstUniqueElement:function(a,b){var d=null;b.some(function(b){if(-1===a.indexOf(b))return d=b,!0});return d},unionOfWordSets:function(a,b,d){a=this._stringToArray(a);b=this._stringToArray(b);a=this.unionOfArrays(a,b);return d?a.join(" "):a},intersectionOfWordSets:function(a,b,d){a=this._stringToArray(a);
b=this._stringToArray(b);a=this.intersectionOfArrays(a,b);return d?a.join(" "):a},differenceOfWordSets:function(a,b,d){a=this._stringToArray(a);b=this._stringToArray(b);a=this.unique(this.differenceOfArrays(a,b));return d?a.join(" "):a},unionOfArrays:function(a,b){return this.unique(a.concat(b))},intersectionOfArrays:function(a,b){return this.nonunique(a.concat(b))},differenceOfArrays:function(a,b){if(void 0===window.Map)return this._legacyDifferenceOfArrays(a,b);var d,e,m,g=new Map,f=[];for(m=0;m<
b.length;m++)g.set(b[m],null);for(m=0;m<a.length;m++)e=a[m],(d=g.has(e))||f.push(e);return f},_legacyDifferenceOfArrays:function(a,b){return this.unique(a.filter(function(a){return-1===b.indexOf(a)}))},unique:function(a){return a.filter(function(b,d){return a.indexOf(b)===d})},nonunique:function(a){return this.unique(a.filter(function(b,d){return a.indexOf(b)!==d}))},arrayEquals:function(a,b,d){if(a===b)return!0;if(a.length!==b.length)return!1;d||(d=function(a,b){return a===b});for(var e=0,m=a.length;e<
m;e++)if(!d(a[e],b[e]))return!1;return!0},removeEmptyElements:function(a){return a.filter(function(a){return!(""===a||null===a||void 0===a)})},_stringToArray:function(a){return!this._isString(a)?a:this.removeEmptyElements(a.split(" "))},_isString:function(a){return"string"===typeof a||a instanceof String}}})},"mw-utils/deprecation":function(){var k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"===typeof Symbol&&d.constructor===
Symbol&&d!==Symbol.prototype?"symbol":typeof d};define(["dojo/_base/config","mw-log/Log"],function(d,e){var a={deprecated:function(a){var h,l;if((d.isDebug||window.showDeprecationsAsErrors)&&this._isConfigValid(a))l=window.showDeprecationsAsErrors||a.deprecationLevel===this.ERROR?this.ERROR:this.WARN,h="DEPRECATED: ",a.deprecated&&(h+=a.deprecated.module,a.deprecated.method&&(h+="."+a.deprecated.method+"()"),h+="."),a.replacement&&(h+=" Use "+a.replacement.module,a.replacement.method&&(h+="."+a.replacement.method+
"()"),h+=" instead."),a.removalVersion&&(h+=" Will be removed in version: "+a.removalVersion+"."),a.geckNumber&&(h+=" Please use g"+a.geckNumber+" to track latest information regarding this deprecation"),a.additionalInformation&&(h+=" "+a.additionalInformation),e[l](h)},_isConfigValid:function(a){var d=!!a.deprecated&&"object"===k(a.deprecated)&&a.deprecated.hasOwnProperty("module");a.replacement&&(d=d&&"object"===k(a.replacement)&&a.replacement.hasOwnProperty("module"));a.geckNumber&&(d=d&&"number"===
typeof a.geckNumber);d||e.error("Supplied deprecationConfig properties are not valid. Please refer to http://inside.mathworks.com/wiki/Web_Widgets_Deprecation_API for right API");return d}};Object.defineProperties(a,{WARN:{value:"warn",enumerable:!0},ERROR:{value:"error",enumerable:!0}});return a})},"mw-filebrowser/grid/draganddrop/FileBrowserGridDnDAvatar":function(){define("dojo/_base/declare dojo/dnd/Avatar dojo/dom-attr dojo/dom-construct dojo/hccss dojo/i18n!../../l10n/nls/FileBrowserResources dojo/string".split(" "),
function(k,d,e,a,b,h,l){return k([d],{construct:function(){var d=a.create("table",{"class":"fileBrowserGridDnDAvatar dojoDndAvatar"}),g=a.create("tbody",null,d),g=a.create("tr",null,g),f=a.create("td",null,g);b("highcontrast")&&a.create("span",{id:"a11yIcon",innerHTML:this.manager.copy?"+":"\x3c"},f);a.create("span",{innerHTML:this.manager.source.generateText?this._generateText():""},f);e.set(g,{"class":"dojoDndAvatarHeader"});this.node=d},_generateText:function(){return this.manager.copy?l.substitute(h.dndCopyMessage,
[this.manager.nodes.length.toString()]):l.substitute(h.dndMoveMessage,[this.manager.nodes.length.toString()])}})})},"mw-filebrowser/grid/workarounds/ColumnResizer":function(){define("dojo/_base/declare dojo/on dojo/query dojo/_base/lang dojo/dom dojo/dom-geometry dojo/has dgrid/util/misc put-selector/put dojo/_base/html xstyle/css!dgrid/css/extensions/ColumnResizer.css".split(" "),function(k,d,e,a,b,h,l,m,g){function f(a){for(var c=a.length,b=c,f=a[0].length,d=Array(c);c--;)d[c]=Array(f);for(var g=
{},c=0;c<b;c++)for(var e=d[c],h=a[c],l=0,m=0;l<f;l++){var k=h[m],n;if("undefined"===typeof e[l]){e[l]=k.id;if(k.rowSpan&&1<k.rowSpan){n=d;for(var r=k.rowSpan,s=c,q=l,I=k.id,K=1;K<r;K++)n[s+K][q]=I}if(0<c&&k.colSpan&&1<k.colSpan)for(n=1;n<k.colSpan;n++)if(e[++l]=k.id,k.rowSpan&&1<k.rowSpan)for(var r=d,s=k.rowSpan,q=c,I=l,K=k.id,F=1;F<s;F++)r[q+F][I]=K;g[k.id]=a[0][l].id;m++}}return g}function c(a,c,b,f,g){if(!(0>=b)){var e=a.columns[c],h;if(e&&(h={grid:a,columnId:c,width:b,bubbles:!0,cancelable:!0},
f&&(h.parentType=f),!a._resizedColumns||d.emit(a.headerNode,"dgrid-columnresize",h)))return"auto"===b?delete e.width:(e.width=b,b+="px"),(f=a._columnSizes[c])?f.set("width",b):f=m.addCssRule("#"+m.escapeCssIdentifier(a.domNode.id)+" .dgrid-column-"+m.escapeCssIdentifier(c,"-"),"width: "+b+";"),a._columnSizes[c]=f,!1!==g&&a.resize(),!0}}var n,r,s=0,q={create:function(){n=g("div.dgrid-column-resizer");r=g("div.dgrid-resize-guard")},destroy:function(){g(n,"!");g(r,"!");n=r=null},show:function(a){var c=
h.position(a.domNode,!0);n.style.top=c.y+"px";n.style.height=c.h+"px";g(document.body,n);g(a.domNode,r)},move:function(a){n.style.left=a+"px"},hide:function(){n.parentNode.removeChild(n);r.parentNode.removeChild(r)}};return k(null,{resizeNode:null,minWidth:40,adjustLastColumn:!0,_resizedColumns:!1,buildRendering:function(){this.inherited(arguments);s++||q.create()},destroy:function(){this.inherited(arguments);for(var a in this._columnSizes)this._columnSizes[a].remove();--s||q.destroy()},resizeColumnWidth:function(a,
b){return c(this,a,b)},configStructure:function(){var c=this._oldColumnSizes=a.mixin({},this._columnSizes),b;this._resizedColumns=!1;this._columnSizes={};this.inherited(arguments);for(b in c)b in this._columnSizes||c[b].remove();delete this._oldColumnSizes},_configColumn:function(a){this.inherited(arguments);var c=a.id,b;"width"in a&&((b=this._oldColumnSizes[c])?b.set("width",a.width+"px"):b=m.addCssRule("#"+m.escapeCssIdentifier(this.domNode.id)+" .dgrid-column-"+m.escapeCssIdentifier(c,"-"),"width: "+
a.width+"px;"),this._columnSizes[c]=b)},renderHeader:function(){this.inherited(arguments);var c=this,b;if(this.columnSets&&this.columnSets.length)for(var h=this.columnSets.length;h--;)b=a.mixin(b||{},f(this.columnSets[h]));else this.subRows&&1<this.subRows.length&&(b=f(this.subRows));for(var h=e(".dgrid-cell",c.headerNode),k=h.length;k--;){var n=h[k],r=n.columnId,s=c.columns[r],q=n.childNodes;if(s&&!1!==s.resizable){s=g("div.dgrid-resize-header-container");for(n.contents=s;0<q.length;)g(s,q[0]);n=
g(n,s,"div.dgrid-resize-handle.resizeNode-"+m.escapeCssIdentifier(r,"-"));n.columnId=b&&b[r]||r}}c.mouseMoveListen||(d(c.headerNode,".dgrid-resize-handle:mousedown"+(l("touch")?",.dgrid-resize-handle:touchstart":""),function(a){c._resizeMouseDown(a,this);c.mouseMoveListen.resume();c.mouseUpListen.resume()}),c._listeners.push(c.mouseMoveListen=d.pausable(document,"mousemove"+(l("touch")?",touchmove":""),m.throttleDelayed(function(a){c._updateResizerPosition(a)}))),c._listeners.push(c.mouseUpListen=
d.pausable(document,"mouseup"+(l("touch")?",touchend":""),function(a){c._resizeMouseUp(a);c.mouseMoveListen.pause();c.mouseUpListen.pause()})),c.mouseMoveListen.pause(),c.mouseUpListen.pause())},_resizeMouseDown:function(a,c){a.preventDefault();b.setSelectable(this.domNode,!1);this._startX=this._getResizeMouseLocation(a);this._targetCell=e(".dgrid-column-"+m.escapeCssIdentifier(c.columnId,"-"),this.headerNode)[0];this._updateResizerPosition(a);q.show(this)},_resizeMouseUp:function(a){var f=this._columnSizes,
d,g,h;this.adjustLastColumn&&(h=this.headerNode.clientWidth-1);this._resizedColumns||(d=e(".dgrid-cell",this.headerNode),this.columnSets&&this.columnSets.length?d=d.filter(function(a){return"0"===a.columnId.split("-")[0]&&!(a.columnId in f)}):this.subRows&&1<this.subRows.length&&(d=d.filter(function(a){return"0"===a.columnId.charAt(0)&&!(a.columnId in f)})),g=d.map(function(a){return a.offsetWidth}),d.forEach(function(a,b){c(this,a.columnId,g[b],null,!1)},this),this._resizedColumns=!0);b.setSelectable(this.domNode,
!0);d=this._targetCell;var l=this._getResizeMouseLocation(a)-this._startX,k=d.offsetWidth+l,n=this._getResizedColumnWidths(),r=n.totalWidth,n=n.lastColId,s=e(".dgrid-column-"+m.escapeCssIdentifier(n,"-"),this.headerNode)[0].offsetWidth;k<this.minWidth&&(k=this.minWidth);c(this,d.columnId,k,a.type)&&d.columnId!==n&&this.adjustLastColumn&&(r+l<h?c(this,n,"auto",a.type):s-l<=this.minWidth&&c(this,n,this.minWidth,a.type));q.hide();delete this._startX;delete this._targetCell},_updateResizerPosition:function(a){if(this._targetCell){a=
this._getResizeMouseLocation(a);var c=this._targetCell.offsetWidth,b=a;c+(a-this._startX)<this.minWidth&&(b=this._startX-(c-this.minWidth));q.move(b)}},_getResizeMouseLocation:function(a){var c=0;a.pageX?c=a.pageX:a.clientX&&(c=a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft);return c},_getResizedColumnWidths:function(){var a=0,c=e((this.columnSets?".dgrid-column-set-cell ":"")+"tr:first-child .dgrid-cell",this.headerNode),b=c.length;if(!b)return{};for(var f=c[b-1].columnId;b--;)a+=
c[b].offsetWidth;return{totalWidth:a,lastColId:f}}})})},"mw-filebrowser/grid/workarounds/DgridWorkarounds":function(){define(["dojo/_base/declare","./TreeWorkaround"],function(k,d){return k([d],{})})},"mw-filebrowser/grid/workarounds/TreeWorkaround":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/query"],function(k,d,e){return k(null,{_onNotify:function(a,b){void 0===a&&delete this._expanded[b];this.inherited(arguments)},handleRemoveRow:function(a,b){var h=a.connected,l=this.grid;
h&&(e("\x3e.dgrid-row",h).forEach(function(a){l.removeRow(a,!0)}),b||d.destroy(h))}})})},"mw-filebrowser/grid/FileBrowserSortProperty":function(){define(["dojo/_base/declare"],function(k){k=k(null,{setFBSortProperties:function(d,a,b){this._compareFunction=d;this._fbSort=[{attribute:a,descending:b}]},getFBCompareFunction:function(){return this._compareFunction},getFBSortArray:function(){return this._fbSort},isFBSortDescending:function(){return this._fbSort[0].descending}});if(!d)var d=new k;return d})},
"mw-filebrowser/grid/GridHelper":function(){define(["dojo/_base/declare","mw-filename-utils/FileNameUtil","./FileBrowserSortProperty"],function(k,d,e){return k(null,{clearRemovedFocus:function(){delete this._removedFocus},getSelectedFilePaths:function(){var a=Object.keys(this.selection);return a=0<a.length?a:[""]},getSelectedFileInfos:function(){var a=[],b=this;this.getSelectedFilePaths().forEach(function(d){a.push(b.row(d).data)});return a},setCurrentFolderInfo:function(a){this.currentFolderInfo=
a},getCurrentFolderInfo:function(){return this.currentFolderInfo},getCurrentFolderPath:function(){return this.getCurrentFolderInfo()?d.pathFromFileInfo(this.getCurrentFolderInfo()):""},down:function(a,b,d){if(a)return this.inherited(arguments);var e=document.getElementsByClassName("dgrid-row")[0];return this.row(e)},moveFocusRight:function(a){var b=this.row(a)?this.row(a):this._focusedNode;this._expanded[b.id]?(b=this.down(this._focusedNode,1,!0),this.focus(b,!1,a)):(this.expand(b,!0),this.focus(b))},
moveFocusLeft:function(a){var b=this.row(a)?this.row(a):this._focusedNode;this._expanded[b.id]?(this.expand(b,!1),this.focus(b)):(b=this.row(b.data.parent),this.focus(b,!1,a))},updateSortArrow:function(a,b){a=e.getFBSortArray();this.inherited(arguments)},_customSelectionHandler:function(a,b){a.target.classList.contains("dgrid-cell-data")||"dgrid-cellfocusin"===a.type?this._extendedSelectionHandler(a,b):a.target.classList.contains("dgrid-cell")?2===a.button&&!b.classList.contains("dgrid-selected")?
this.clearSelection():this._extendedSelectionHandler(a,b):a.target.classList.contains("dgrid-expando-icon")||this._extendedSelectionHandler(a,b)},_focusOnNode:function(a,b,d){(!d||!d.target.classList.contains("dgrid-cell")||d.target.classList.contains("dgrid-selected")||2!==d.button)&&this.inherited(arguments)}})})},"mw-filebrowser/columns/FileBrowserColumnRegistry":function(){define(["dojo/_base/declare"],function(k){return k(null,{_columnsMap:null,constructor:function(){this._columnsMap=[]},addColumn:function(d){this._columnsMap.push(d.column)},
getColumns:function(){return this._columnsMap},getColumn:function(d){return this.getColumns().filter(function(e){return e.field===d})[0]},getCompareFunction:function(d,e){var a=this.getColumn(d);if(a.sort)return function(b,d){return a.sort(b,d)*(e?-1:1)}}})})},"mw-actiondataservice/ActionDataService":function(){define(["dojo/_base/declare","mw-peermodel/PeerModelManager","mw-peermodel/_PeerModelListenerMixin","mw-peermodel/_PropertyIndexerMixin","mw-utils/Utils"],function(k,d,e,a,b){return k([e,a],
{constructor:function(a){a=a||{};this._mode=a.mode||"StandAlone";this._nameSpace=a.nameSpace||"/actions/"+b.generateUuid();this._setupPeerModel();this._callbacks={};this._actionChangeCallbacks={};this._propertyToIndex="id"},_setupPeerModel:function(){switch(this._mode){case "StandAlone":this._peerModelManager=d.getClientInstance(this._nameSpace);this.addManagerListeners(this._peerModelManager);this._peerModelManager.setRoot("Root");break;case "ActAsServer":this._peerModelManager=d.getServerInstance(this._nameSpace);
this.addManagerListeners(this._peerModelManager);this.start(this._peerModelManager);this._peerModelManager.setRoot("Root");break;case "ActAsClient":this._peerModelManager=d.getClientInstance(this._nameSpace);this.addManagerListeners(this._peerModelManager);this.start(this._peerModelManager);break;default:throw Error("The mode provided is not valid! Please use one of the following: StandAlone, ActAsServer or ActAsClient");}},onPropertySet:function(a){this.onActionChange({id:a.target.getProperty("id"),
key:a.data.key,oldValue:a.data.oldValue,newValue:a.data.newValue})},onChildAdd:function(a){a.data.child.getProperty("id")||a.data.child.setProperty("id",a.data.child.getId());this.onActionAdd({id:a.data.child.getProperty("id")})},loadActions:function(a){Array.isArray(a)&&a.forEach(function(a){this.addAction(a)},this)},addAction:function(a){if("ActAsClient"===this._mode)throw Error("Actions cannot be added while in ActAsClient Mode!");var b;a=a||{};if(a.id&&this._getPeerNodeIdForIndexedProperty(a.id))throw Error("Action id must be unique!");
b=this._peerModelManager.getRoot().addChild("Action",a);a.id||b.setProperty("id",b.getId());a.callback&&this.addActionCallback(b.getProperty("id"),a.callback);return b.getId()},getAction:function(a){return(a=this._actionById(a))?a.getProperties():null},getAllActions:function(){return this._peerModelManager.getRoot().getChildren().map(function(a){return a.getProperties()})},removeAction:function(a){if("ActAsClient"===this._mode)throw Error("Actions cannot be removed while in ActAsClient Mode!");var b=
this._getPeerNodeIdForIndexedProperty(a);if(b&&this._peerModelManager.hasById(b))this._peerModelManager.getById(b).destroy(),delete this._callbacks[a];else throw Error("This is not a valid action id!");},enableAction:function(a){this.updateAction(a,{enabled:!0})},disableAction:function(a){this.updateAction(a,{enabled:!1})},updateAction:function(a,b,d){var g=this._actionById(a);g&&(b.callback&&this.addActionCallback(a,b.callback),g.setProperties(b,d))},actionHasProperty:function(a,b){return this._actionById(a).hasProperty(b)},
executeAction:function(a,b){var d;b=b||{};d=this._actionById(a);!0===d.getProperty("enabled")&&d.dispatchEvent("peerEvent",d,b)},addActionCallback:function(a,b,d){var g=this._actionById(a),f;this.removeActionCallback(a);f=function(a){delete a.data.type;b.call(d||g.getProperties(),a.data)};this._callbacks[a]={callback:f,scope:d};g.addEventListener("peerEvent",f,d)},removeActionCallback:function(a){var b=this._actionById(a);(a=this._callbacks[a])&&b.removeEventListener("peerEvent",a.callback,a.scope)},
addActionChangeCallback:function(a,b,d){var g=this._actionById(a),f;this.removeActionChangeCallback(a);f=function(a){b.call(d,{property:a.data.key,oldValue:a.data.oldValue,newValue:a.data.newValue},a.originator)};this._actionChangeCallbacks[a]={callback:f,scope:d};g.addEventListener("propertySet",f,d)},removeActionChangeCallback:function(a){var b=this._actionById(a);this._actionChangeCallbacks[a]&&b.removeEventListener("propertySet",this._actionChangeCallbacks[a].callback,this._actionChangeCallbacks[a].scope)},
onActionChange:function(a){},onActionAdd:function(a){},_actionById:function(a){var b;(a=this._getPeerNodeIdForIndexedProperty(a))&&this._peerModelManager.hasById(a)&&(b=this._peerModelManager.getById(a));return b},destroy:function(){d.cleanup(this._nameSpace)}})})},"mw-peermodel/PeerModelManager":function(){define(["dojo/_base/declare","./PropSetPeerSynchronizer","./PeerNode","./PeerSynchronizer","./Observable"],function(k,d,e,a,b){var h=k([b],{getNamespace:function(){},move:function(a,b,c,d){},setRoot:function(a,
b,c){},getRoot:function(){},hasRoot:function(){},hasById:function(a){},getById:function(a){},setSyncEnabled:function(a,b){},isSyncEnabled:function(){},getByType:function(a,b){},getByProperty:function(a,b,c){}}),l=k([h,b.Syncable],{setRootWithId:function(a,b,c,d){}}),m=k([l,b.Impl],{constructor:function(){this._root=null;this._sync=!1;this._idCache={}},setRootWithId:function(a,b,c,d){if(this.hasRoot())throw Error("Root node already exists.");a=new e.Impl(a,b,c,this._idCache);this._setRoot(a,d);return a},
setRoot:function(a,b,c){if(this.hasRoot())throw Error("Root node already exists.");a=e.Impl.createNode(a,b,this._idCache);this._setRoot(a,c);return a},_setRoot:function(a,b){this._root=a;var c=this;this._root.destroy=function(a){c.dispatchEvent("rootDestroyed",this,void 0,a);e.Impl.prototype.destroy.call(this,a);c._root=null;c.dispatchEvent("rootUnset",this,void 0,a)};this.dispatchEvent("rootSet",this._root,void 0,b);return this._root},getRoot:function(){return this._root},hasRoot:function(){return!!this._root},
hasById:function(a){return this._idCache.hasOwnProperty(a)},getById:function(a){if(this._idCache.hasOwnProperty(a))return this._idCache[a];throw Error("No root node exists");},move:function(a,b,c,d){if(a.getRoot()!==b.getRoot())throw Error("Can not move a node to a different peer model");if(a===b||a.hasDescendant(a.getId()))throw Error("Can not move a node to be a child or descendant of itself");var e,h;if(a.hasParent())e=a.getParent(),h=e.getChildIndex(a);else throw Error("Only un-orphaned nodes can be moved.");
if(h!==c||e!==b)e._removeChild(a),c=b._addChild(a,c),this.dispatchEvent("childMoved",a,{oldParent:e,oldIndex:h,newParent:b,newIndex:c},d)},setSyncEnabled:function(a,b){this._sync!==a&&(this._sync=a,this.dispatchEvent("syncChanged",this,{syncEnabled:this._sync},b))},isSyncEnabled:function(){return this._sync},getByType:function(a,b){var c=[];b||(b=this.getRoot());b&&b.accept(function(b){b.getType()===a&&c.push(b)});return c},getByProperty:function(a,b,c){var d=[];c||(c=this.getRoot());c&&c.accept(function(c){c.hasProperty(a)&&
c.getProperty(a)===b&&d.push(c)});return d}});h._clientPropSet=!0;h.setClientPropSetEnabled=function(a){h._clientPropSet=a};h.clearInstances=function(){h._instances={};h._serverInstances={}};h.clearInstances();h.getInstance=h.getClientInstance=function(b,f){if(!this._instances[b]){var c=new m,e;e=h._clientPropSet?new d(b,c,f):new a(b,c,f);this._instances[b]={manager:c,synchronizer:e}}return this._instances[b].manager};h.getServerInstance=function(b,f){if(!this._serverInstances[b]){var c=new m,e;e=
h._clientPropSet?new d(b,c,f,!1):new a(b,c,f,!1);this._serverInstances[b]={manager:c,synchronizer:e}}return this._serverInstances[b].manager};h.cleanup=function(a){h._instances[a]&&(h._instances[a].manager.setSyncEnabled(!1),h._instances[a].manager.hasRoot()&&h._instances[a].manager.getRoot().destroy(),delete h._instances[a])};h.Impl=m;return h})},"mw-peermodel/PropSetPeerSynchronizer":function(){define("dojo/_base/declare dojo/_base/lang mw-log/Log mw-utils/Utils mw-messageservice/MessageService ./PeerSynchronizer".split(" "),
function(k,d,e,a,b,h){return k([h],{propertiesSetObserver:function(b){if(b.originator!==this._originator&&(Object.keys(b.data.newValues).forEach(function(a){this.updateVersionVector(a,b.target)},this),this.shouldSync()&&this.isReady())){var e=this.createNewMessage();e.targetId=b.target.getId();var g=b.data.newValues,f=b.data.oldValues;Object.keys(g).forEach(function(c){if(a.isImageData(g[c])){var d=f[c];delete b.data.newValues[c];if(!this.isClient&&a.isImageData(d)){var h=this.createNewMessage();
h.targetId=b.target.getId();h.key=c;h.newValue=this.imageDifferencer.computeImageDataDifferences(d,g[c]);this.publish(this.getChannel("imageUpdate"),e)}}else(null===g[c]||void 0===g[c])&&delete b.data.newValues[c]},this);0<Object.keys(g).length&&(e.properties=b.data.newValues,e.versionVector=d.clone(b.target._versionVector),this.publish(this.getChannel(b.type),e))}},propertiesSetSubscriber:function(a){var b=a.data,d=b.targetId;if(this.manager.hasById(d))try{var f=this.manager.getById(d),c;for(c in b.properties)b.properties.hasOwnProperty(c)&&
(b.properties[c]instanceof Image?(this.imageDifferencer.updatePropertyWithImage(f,c,b.properties[c]),delete b.properties[c]):this.shouldUpdateProperties(c,f,a.data.versionVector)||delete b.properties[c],a.data.versionVector&&this.mergeVersionVectors(c,f,a.data.versionVector));f.setProperties(b.properties,this._originator);this._updateNodePagedData(f)}catch(e){this._error("Error while trying set properties.",a,e)}},shouldUpdateProperties:function(a,b,d){return this.isClient?!(b._versionVector&&b._versionVector[a]&&
(!d||!d[a])):!d||!d[a]||!b._versionVector||!b._versionVector[a]||b._versionVector[a][this.clientId]<=d[a][this.clientId]},updateVersionVector:function(a,b){this.isClient&&(!b._versionVector||!b._versionVector[a])?(b._versionVector=b._versionVector||{},b._versionVector[a]={},Object.keys(this.syncEnabled).forEach(function(d){b._versionVector[a][d]=1})):b._versionVector&&b._versionVector[a]&&(b._versionVector[a][this.clientId]+=1)},mergeVersionVectors:function(a,b,d){if(d&&d[a]){if(!b._versionVector||
!b._versionVector[a])b._versionVector=b._versionVector||{},b._versionVector[a]={};Object.keys(d[a]).forEach(function(f){b._versionVector[a][f]=Math.max(d[a][f],b._versionVector[a][f]||1)})}},convertNode:function(a){var b=this.inherited(arguments);b.versionVectors=a._versionVector;return b},updateNodeRecursive:function(a,b){b.versionVectors&&Object.keys(b.versionVectors).forEach(function(d){this.mergeVersionVectors(d,a,b.versionVectors)},this);this.inherited(arguments)}})})},"mw-messageservice/MessageService":function(){define("dojo/_base/lang dojo/aspect ./messageserviceimpl/MessageServiceAsync ./messageserviceimpl/MessageServiceBase ./messageserviceimpl/MessageServiceReqResp mw-remote/Remote".split(" "),
function(k,d,e,a,b,h){var l=new a;a={messageService:l,subscribe:k.hitch(l,"subscribe"),unsubscribe:k.hitch(l,"unsubscribe"),publish:k.hitch(l,"publish"),start:k.hitch(l,"start"),stop:k.hitch(l,"stop"),isRunning:k.hitch(l,"isStarted"),isStarted:k.hitch(l,"isStarted"),isConnected:k.hitch(l,"isConnected"),isFatallyDisconnected:k.hitch(l,"isFatallyDisconnected"),isDisconnected:k.hitch(l,"isDisconnected"),setLatency:k.hitch(l,"setLatency"),setErrorRate:k.hitch(l,"setErrorRate"),onConnected:function(){},
onDisconnected:function(){},onReconnected:function(){},onFatallyDisconnected:function(){},onNotConnected:function(){},handleMessage:k.hitch(l,"handleMessage"),internalMotwDisableStart:function(){this._startFunction=this.start;this.start=function(){}},internalMotwEnableStart:function(){this._startFunction&&(this.start=this._startFunction,this._startFunction=null)}};d.after(l,"onConnected",k.hitch(a,"onConnected"),!0);d.after(l,"onDisconnected",k.hitch(a,"onDisconnected"),!0);d.after(l,"onReconnected",
k.hitch(a,"onReconnected"),!0);d.after(l,"onFatallyDisconnected",k.hitch(a,"onFatallyDisconnected"),!0);d.after(l,"onNotConnected",k.hitch(a,"onNotConnected"),!0);var m=h.enableServerOnWorkerAsync;h.enableServerOnWorkerAsync=function(){m();l.setDelegate(new e(h))};var g=h.disableServerOnWorkerAsync;h.disableServerOnWorkerAsync=function(){g();l.setDelegate(new b(h,l))};h.isServerOnWorkerAsyncEnabled()?h.enableServerOnWorkerAsync():h.disableServerOnWorkerAsync();return a})},"mw-messageservice/messageserviceimpl/MessageServiceAsync":function(){define("dojo/_base/declare dojo/aspect dojo/json dojo/Deferred dojox/cometd/cometd dojox/cometd/AckExtension mw-log/Log mw-remote/iframeproxy/IframeProxyClient".split(" "),
function(k,d,e,a,b,h,l,m){var g;b.JSON.toJSON=e.stringify;b.JSON.fromJSON=e.parse;var f=0,c=0,n={};setInterval(function(){f+=200;Object.keys(n).forEach(function(a){var c=n[a];c.execTime<=f&&(c.func(),delete n[a])})},200);var r=function(a,d){var e=new b.LongPollingTransport,e=b.Transport.derive(e);e.xhrSend=function(a){var c=d.sendMessage(a.body,a.url,{headers:a.headers});c.then(a.onSuccess,function(c){a.onError(c,c)});return{abort:function(){c.cancel()}}};var l=new b.Cometd(a),k=b.Utils.setTimeout;
b.Utils.setTimeout=function(a,b,d){if(0===d)return k(a,b,d);c+=1;n[c]={func:function(){try{b()}catch(a){l._debug("Exception invoking timed function",b,a)}},execTime:f+d};return c};b.Utils.clearTimeout=function(a){delete n[a]};b.WebSocket=m.WebSocket;m.WebSocket.proxyClient=d;l.registerExtension("ack",new h);b.WebSocket&&(g.enableWebsocket||0<=location.search.indexOf("websocket\x3don"))&&l.registerTransport("websocket",new b.WebSocketTransport,0);l.registerTransport("long-polling",e,1);return l};g=
k([],{BASE_PREFIX:"/matlab",BASE_END_POINT:"messageservice/async",logCometdLifecycle:!1,logCometdSubscriptions:!1,constructor:function(a,c,b,f){this.remote=a;this.constructCometD=c||r;this.cometdProperties=f||{connectTimeout:5E3,maxBackoff:1E4,logLevel:"info",maxNetworkDelay:2E4,appendMessageTypeToURL:!1,autoBatch:!0};this.workerProxyAsyncClient=b||new m("remoteWorkerAsyncProducer");var g=this;d.after(this.workerProxyAsyncClient,"onError",function(a){g.cometd&&(g.logCometdLifecycle&&l.info("MessageServiceAsync disconnecting cometd due to IFrame error."),
g.cometd.disconnect());g.onConnectionError(a)},!0);this.subscriptions={};this.recentMessages=[];this._deferredCleanupFunction=function(){g._deferredCleanup=!1;g.recentMessages=[]}},onMessage:function(a){},onConnectionError:function(a){},connect:function(){this.routingHost=g.workerHostOverride||this.remote.getWorkerRoutingHost();this.routingKey=this.remote.getWorkerRoutingKey();this.computeToken=this.remote.getComputeSessionId();this.workerProxyAsyncClient.setRemotePageHost(this.routingHost,this.routingKey,
this.computeToken);var c=this.constructCometD("messageService",this.workerProxyAsyncClient);this.cometd=c;this.logCometdLifecycle&&l.info("MessageServiceAsync constructing new cometd instance.");var b=this._createOneShotMessagePromise("/meta/handshake"),d=this,f=new a;b.then(function(a){d.logCometdLifecycle&&l.info("MessageServiceAsync cometd handshake successful.",a,c.getClientId(),c);c.isDisconnected()?(l.error("MessageServiceAsync cometd handshake successful but still disconnected!"),c.disconnect(),
f.reject(a)):f.resolve(a)},function(a){d.logCometdLifecycle&&l.info("MessageServiceAsync disconnecting cometd due to handshake failure.",a,c.getClientId(),c);c.disconnect();f.reject(a)});this.cometdProperties.url=this._getEndpoint();c.init(this.cometdProperties);return f.promise},disconnect:function(){this.logCometdLifecycle&&l.info("MessageServiceAsync disconnecting cometd due to disconnect call.",this.cometd.getClientId());var a=this._createOneShotMessagePromise("/meta/disconnect");this.cometd.disconnect();
return a},cleanup:function(){this.cometd&&(this.logCometdLifecycle&&l.info("MessageServiceAsync disconnecting cometd due to cleanup call.",this.cometd,this.cometd&&this.cometd.getClientId()),this.cometd.disconnect(),this.cometd=null)},delegateConnected:function(){return this.cometd?!this.cometd.isDisconnected():!1},doPublish:function(a,c){var b=this._createOneShotMessagePromise("/meta/publish");this.cometd.publish(this._getRequestChannel(a),c);return b},doSubscribe:function(a){this.logCometdSubscriptions&&
l.info("MessageServiceAsync subscribing cometd to channel: "+a);var c=this._createOneShotMessagePromise("/meta/subscribe");this.subscriptions[a]=this.cometd.subscribe(this._getRequestChannel(a),this,this._handleCometResponse);return c},doUnsubscribe:function(c){if(this.subscriptions[c]){this.logCometdSubscriptions&&l.info("MessageServiceAsync unsubscribing cometd from channel: "+c);var b=this._createOneShotMessagePromise("/meta/unsubscribe");this.cometd.unsubscribe(this.subscriptions[c]);delete this.subscriptions[c];
return b}return(new a).resolve({successful:!0})},doStartBatch:function(){this.cometd.startBatch()},doEndBatch:function(){this.cometd.endBatch()},doSetLatency:function(a){this.workerProxyAsyncClient.setLatency(a)},doSetErrorRate:function(a){this.workerProxyAsyncClient.setErrorRate(a)},_handleCometResponse:function(a){if(this._shouldHandleMessage(a))this.onMessage(this._stripBasePrefixAndConvertToJson(a))},_shouldHandleMessage:function(a){return!a.id&&0>this.recentMessages.indexOf(a)?(this.recentMessages.push(a),
this._deferRecentMessagesCleanup(),!0):!1},_deferRecentMessagesCleanup:function(){this._deferredCleanup||(this._deferredCleanup=setTimeout(this._deferredCleanupFunction,0))},_createOneShotMessagePromise:function(c){var b=new a;this._addOneShotListener(c,function(a){a.successful?b.resolve(a):(l.warn("Message failed: ",a),b.reject(a))});return b.promise},_addOneShotListener:function(a,c){var b=this,d=this.cometd,f;f=this.cometd.addListener(a,function(a){d.removeListener(f);c.apply(b,arguments)})},_getEndpoint:function(){return this.routingHost+
this.BASE_END_POINT+"?routingkey\x3d"+this.routingKey},_getRequestChannel:function(a){return this.BASE_PREFIX+a},_stripBasePrefixAndConvertToJson:function(a){return{channel:a.channel.substring(this.BASE_PREFIX.length),data:a.data}}});g.enableWebsocket=!1;g.workerHostOverride=!1;return g})},"dojox/cometd/cometd":function(){define(function(){var k=this.org=this.org||{};k.cometd={};k.cometd.JSON={};k.cometd.JSON.toJSON=k.cometd.JSON.fromJSON=function(d){throw"Abstract";};k.cometd.Utils={};k.cometd.Utils.isString=
function(d){return void 0===d||null===d?!1:"string"===typeof d||d instanceof String};k.cometd.Utils.isArray=function(d){return void 0===d||null===d?!1:d instanceof Array};k.cometd.Utils.inArray=function(d,e){for(var a=0;a<e.length;++a)if(d===e[a])return a;return-1};k.cometd.Utils.setTimeout=function(d,e,a){return window.setTimeout(function(){try{e()}catch(a){d._debug("Exception invoking timed function",e,a)}},a)};k.cometd.Utils.clearTimeout=function(d){window.clearTimeout(d)};k.cometd.TransportRegistry=
function(){var d=[],e={};this.getTransportTypes=function(){return d.slice(0)};this.findTransportTypes=function(a,b,h){for(var l=[],k=0;k<d.length;++k){var g=d[k];!0===e[g].accept(a,b,h)&&l.push(g)}return l};this.negotiateTransport=function(a,b,h,l){for(var k=0;k<d.length;++k)for(var g=d[k],f=0;f<a.length;++f)if(g===a[f]){var c=e[g];if(!0===c.accept(b,h,l))return c}return null};this.add=function(a,b,h){for(var l=!1,k=0;k<d.length;++k)if(d[k]===a){l=!0;break}l||("number"!==typeof h?d.push(a):d.splice(h,
0,a),e[a]=b);return!l};this.find=function(a){for(var b=0;b<d.length;++b)if(d[b]===a)return e[a];return null};this.remove=function(a){for(var b=0;b<d.length;++b)if(d[b]===a)return d.splice(b,1),b=e[a],delete e[a],b;return null};this.clear=function(){d=[];e={}};this.reset=function(){for(var a=0;a<d.length;++a)e[d[a]].reset()}};k.cometd.Transport=function(){var d,e;this.registered=function(a,b){d=a;e=b};this.unregistered=function(){e=d=null};this._debug=function(){e._debug.apply(e,arguments)};this._mixin=
function(){return e._mixin.apply(e,arguments)};this.getConfiguration=function(){return e.getConfiguration()};this.getAdvice=function(){return e.getAdvice()};this.setTimeout=function(a,b){return k.cometd.Utils.setTimeout(e,a,b)};this.clearTimeout=function(a){k.cometd.Utils.clearTimeout(a)};this.convertToMessages=function(a){if(k.cometd.Utils.isString(a))try{return k.cometd.JSON.fromJSON(a)}catch(b){throw this._debug("Could not convert to JSON the following string",'"'+a+'"'),b;}if(k.cometd.Utils.isArray(a))return a;
if(void 0===a||null===a)return[];if(a instanceof Object)return[a];throw"Conversion Error "+a+", typeof "+typeof a;};this.accept=function(a,b,d){throw"Abstract";};this.getType=function(){return d};this.send=function(a,b){throw"Abstract";};this.reset=function(){this._debug("Transport",d,"reset")};this.abort=function(){this._debug("Transport",d,"aborted")};this.toString=function(){return this.getType()}};k.cometd.Transport.derive=function(d){function e(){}e.prototype=d;return new e};k.cometd.RequestTransport=
function(){function d(a){for(;0<c.length;){var b=c[0],d=b[0],b=b[1];if(d.url===a.url&&d.sync===a.sync)c.shift(),a.messages=a.messages.concat(d.messages),this._debug("Coalesced",d.messages.length,"messages from request",b.id);else break}}function e(a,c){this.transportSend(a,c);c.expired=!1;if(!a.sync){var b=this.getConfiguration().maxNetworkDelay,d=b;!0===c.metaConnect&&(d+=this.getAdvice().timeout);this._debug("Transport",this.getType(),"waiting at most",d,"ms for the response, maxNetworkDelay",b);
var f=this;c.timeout=this.setTimeout(function(){c.expired=!0;c.xhr&&c.xhr.abort();var b="Request "+c.id+" of transport "+f.getType()+" exceeded "+d+" ms max network delay";f._debug(b);f.complete(c,!1,c.metaConnect);a.onFailure(c.xhr,a.messages,"timeout",b)},d)}}function a(a){var b=++m,d={id:b,metaConnect:!1};f.length<this.getConfiguration().maxConnections-1?(f.push(d),e.call(this,a,d)):(this._debug("Transport",this.getType(),"queueing request",b,"envelope",a),c.push([a,d]))}function b(b,g){var e=
k.cometd.Utils.inArray(b,f);0<=e&&f.splice(e,1);if(0<c.length){var e=c.shift(),h=e[0],l=e[1];this._debug("Transport dequeued request",l.id);if(g)this.getConfiguration().autoBatch&&d.call(this,h),a.call(this,h),this._debug("Transport completed request",b.id,h);else{var m=this;this.setTimeout(function(){m.complete(l,!1,l.metaConnect);h.onFailure(l.xhr,h.messages,"error","Previous request failed")},0)}}}var h=new k.cometd.Transport,l=k.cometd.Transport.derive(h),m=0,g=null,f=[],c=[];l.complete=function(a,
c,d){if(d){a=a.id;this._debug("Transport",this.getType(),"metaConnect complete, request",a);if(null!==g&&g.id!==a)throw"Longpoll request mismatch, completing request "+a;g=null}else b.call(this,a,c)};l.transportSend=function(a,c){throw"Abstract";};l.transportSuccess=function(a,c,b){if(!c.expired)if(this.clearTimeout(c.timeout),this.complete(c,!0,c.metaConnect),b&&0<b.length)a.onSuccess(b);else a.onFailure(c.xhr,a.messages,"Empty HTTP response")};l.transportFailure=function(a,c,b,d){c.expired||(this.clearTimeout(c.timeout),
this.complete(c,!1,c.metaConnect),a.onFailure(c.xhr,a.messages,b,d))};l.send=function(c,b){if(b){if(null!==g)throw"Concurrent metaConnect requests not allowed, request id\x3d"+g.id+" not yet completed";var d=++m;this._debug("Transport",this.getType(),"metaConnect send, request",d,"envelope",c);d={id:d,metaConnect:!0};e.call(this,c,d);g=d}else a.call(this,c)};l.abort=function(){h.abort();for(var a=0;a<f.length;++a){var c=f[a];this._debug("Aborting request",c);c.xhr&&c.xhr.abort()}g&&(this._debug("Aborting metaConnect request",
g),g.xhr&&g.xhr.abort());this.reset()};l.reset=function(){h.reset();g=null;f=[];c=[]};return l};k.cometd.LongPollingTransport=function(){var d=new k.cometd.RequestTransport,e=k.cometd.Transport.derive(d),a=!0;e.accept=function(b,d,e){return a||!d};e.xhrSend=function(a){throw"Abstract";};e.transportSend=function(b,d){this._debug("Transport",this.getType(),"sending request",d.id,"envelope",b);var e=this;try{var m=!0;d.xhr=this.xhrSend({transport:this,url:b.url,sync:b.sync,headers:this.getConfiguration().requestHeaders,
body:k.cometd.JSON.toJSON(b.messages),onSuccess:function(f){e._debug("Transport",e.getType(),"received response",f);var c=!1;try{var g=e.convertToMessages(f);0===g.length?(a=!1,e.transportFailure(b,d,"no response",null)):(c=!0,e.transportSuccess(b,d,g))}catch(k){e._debug(k),c||(a=!1,e.transportFailure(b,d,"bad response",k))}},onError:function(f,c){a=!1;m?e.setTimeout(function(){e.transportFailure(b,d,f,c)},0):e.transportFailure(b,d,f,c)}});m=!1}catch(g){a=!1,this.setTimeout(function(){e.transportFailure(b,
d,"error",g)},0)}};e.reset=function(){d.reset();a=!0};return e};k.cometd.CallbackPollingTransport=function(){var d=new k.cometd.RequestTransport,d=k.cometd.Transport.derive(d);d.accept=function(d,a,b){return!0};d.jsonpSend=function(d){throw"Abstract";};d.transportSend=function(d,a){for(var b=this,h=0,l=d.messages.length,m=[];0<l;){var g=k.cometd.JSON.toJSON(d.messages.slice(h,h+l)),g=d.url.length+encodeURI(g).length;if(2E3<g){if(1===l){var f="Bayeux message too big ("+g+" bytes, max is 2000) for transport "+
this.getType();this.setTimeout(function(){b.transportFailure(d,a,"error",f)},0);return}--l}else m.push(l),h+=l,l=d.messages.length-h}var c=d;if(1<m.length){h=0;l=m[0];this._debug("Transport",this.getType(),"split",d.messages.length,"messages into",m.join(" + "));c=this._mixin(!1,{},d);c.messages=d.messages.slice(h,l);c.onSuccess=d.onSuccess;c.onFailure=d.onFailure;for(g=1;g<m.length;++g){var n=this._mixin(!1,{},d),h=l,l=l+m[g];n.messages=d.messages.slice(h,l);n.onSuccess=d.onSuccess;n.onFailure=d.onFailure;
this.send(n,a.metaConnect)}}this._debug("Transport",this.getType(),"sending request",a.id,"envelope",c);try{var r=!0;this.jsonpSend({transport:this,url:c.url,sync:c.sync,headers:this.getConfiguration().requestHeaders,body:k.cometd.JSON.toJSON(c.messages),onSuccess:function(d){var f=!1;try{var g=b.convertToMessages(d);0===g.length?b.transportFailure(c,a,"no response"):(f=!0,b.transportSuccess(c,a,g))}catch(e){b._debug(e),f||b.transportFailure(c,a,"bad response",e)}},onError:function(d,f){r?b.setTimeout(function(){b.transportFailure(c,
a,d,f)},0):b.transportFailure(c,a,d,f)}});r=!1}catch(s){this.setTimeout(function(){b.transportFailure(c,a,"error",s)},0)}};return d};k.cometd.WebSocketTransport=function(){function d(){var a=l.getURL().replace(/^http/,"ws");this._debug("Transport",this.getType(),"connecting to URL",a);var c=this,b=null,d=l.getConfiguration().connectTimeout;0<d&&(b=this.setTimeout(function(){b=null;r||(c._debug("Transport",c.getType(),"timed out while connecting to URL",a,":",d,"ms"),c.onClose(1002,"Connect Timeout"))},
d));var f=new k.cometd.WebSocket(a),g=function(a){var d=a?a.code:1E3;a=a?a.reason:void 0;c._debug("WebSocket closed",d,"/",a,f);b&&(c.clearTimeout(b),b=null);if(f!==n)c._debug("Ignoring close event, WebSocket",n);else c.onClose(d,a)};f.onopen=function(){c._debug("WebSocket opened",f);b&&(c.clearTimeout(b),b=null);if(f!==n)c._debug("Ignoring open event, WebSocket",n);else c.onOpen()};f.onclose=g;f.onerror=function(){g({code:1002})};f.onmessage=function(a){c._debug("WebSocket message",a,f);if(f!==n)c._debug("Ignoring message event, WebSocket",
n);else c.onMessage(a)};n=f;this._debug("Transport",this.getType(),"configured callbacks on",f)}function e(a,b){var d=k.cometd.JSON.toJSON(a.messages);n.send(d);this._debug("Transport",this.getType(),"sent",a,"metaConnect \x3d",b);var f=d=this.getConfiguration().maxNetworkDelay;b&&(f+=this.getAdvice().timeout,s=!0);for(var g=[],e=0;e<a.messages.length;++e){var h=a.messages[e];if(h.id){g.push(h.id);var l=n;c[h.id]=this.setTimeout(function(){l&&l.close(1E3,"Timeout")},f)}}this._debug("Transport",this.getType(),
"waiting at most",f,"ms for messages",g,"maxNetworkDelay",d,", timeouts:",c)}function a(a,c){try{null===n?d.call(this):r&&e.call(this,a,c)}catch(b){var f=n;this.setTimeout(function(){a.onFailure(f,a.messages,"error",b)},0)}}var b=new k.cometd.Transport,h=k.cometd.Transport.derive(b),l,m=!0,g=!1,f={},c={},n=null,r=!1,s=!1,q;h.onOpen=function(){this._debug("Transport",this.getType(),"opened",n);g=r=!0;this._debug("Sending pending messages",f);for(var a in f){var c=f[a],b=c[0],c=c[1];q=b.onSuccess;e.call(this,
b,c)}};h.onMessage=function(a){this._debug("Transport",this.getType(),"received websocket message",a,n);var b=!1;a=this.convertToMessages(a.data);for(var d=[],g=0;g<a.length;++g){var e=a[g];if((/^\/meta\//.test(e.channel)||void 0===e.data)&&e.id){d.push(e.id);var h=c[e.id];h&&(this.clearTimeout(h),delete c[e.id],this._debug("Transport",this.getType(),"removed timeout for message",e.id,", timeouts",c))}"/meta/connect"===e.channel&&(s=!1);"/meta/disconnect"===e.channel&&!s&&(b=!0)}g=!1;for(e=0;e<d.length;++e){var l=
d[e],m;for(m in f){var h=m.split(","),r=k.cometd.Utils.inArray(l,h);if(0<=r){g=!0;h.splice(r,1);l=f[m][0];r=f[m][1];delete f[m];0<h.length&&(f[h.join(",")]=[l,r]);break}}}g&&this._debug("Transport",this.getType(),"removed envelope, envelopes",f);q.call(this,a);b&&n.close(1E3,"Disconnect")};h.onClose=function(a,b){this._debug("Transport",this.getType(),"closed",a,b,n);m=g;for(var d in c)this.clearTimeout(c[d]);c={};for(var e in f)d=f[e][0],f[e][1]&&(s=!1),d.onFailure(n,d.messages,"closed "+a+"/"+b);
f={};null!==n&&r&&n.close(1E3,"Close");r=!1;n=null};h.registered=function(a,c){b.registered(a,c);l=c};h.accept=function(a,c,b){return m&&!!k.cometd.WebSocket&&!1!==l.websocketEnabled};h.send=function(c,b){this._debug("Transport",this.getType(),"sending",c,"metaConnect \x3d",b);for(var d=[],g=0;g<c.messages.length;++g){var e=c.messages[g];e.id&&d.push(e.id)}f[d.join(",")]=[c,b];this._debug("Transport",this.getType(),"stored envelope, envelopes",f);a.call(this,c,b)};h.abort=function(){b.abort();if(null!==
n)try{n.close(1001)}catch(a){this._debug(a)}this.reset()};h.reset=function(){b.reset();null!==n&&r&&n.close(1E3,"Reset");m=!0;g=!1;c={};f={};n=null;r=!1;q=null};return h};k.cometd.Cometd=function(d){function e(a){return k.cometd.Utils.isString(a)}function a(a){return void 0===a||null===a?!1:"function"===typeof a}function b(c,b){if(window.console){var d=window.console[c];a(d)&&d.apply(window.console,b)}}function h(){for(var a in Y)for(var c=Y[a],b=0;b<c.length;++b){var d=c[b];d&&!d.listener&&(delete c[b],
A._debug("Removed subscription",d,"for channel",a))}}function l(a){R!==a&&(A._debug("Status",R,"-\x3e",a),R=a)}function m(){return"disconnecting"===R||"disconnected"===R}function g(c,b,d,f,g){try{return b.call(c,f)}catch(e){A._debug("Exception during execution of extension",d,e);c=A.onExtensionException;if(a(c)){A._debug("Invoking extension exception callback",d,e);try{c.call(A,e,d,g,f)}catch(h){A._info("Exception during execution of exception callback in extension",d,h)}}return f}}function f(c){for(var b=
0;b<X.length&&!(void 0===c||null===c);++b){var d=X[b],f=d.extension.outgoing;a(f)&&(d=g(d.extension,f,d.name,c,!0),c=void 0===d?c:d)}return c}function c(c,b){var d=Y[c];if(d&&0<d.length)for(var f=0;f<d.length;++f){var g=d[f];if(g)try{g.callback.call(g.scope,b)}catch(e){A._debug("Exception during notification",g,b,e);var h=A.onListenerException;if(a(h)){A._debug("Invoking listener exception callback",g,e);try{h.call(A,e,g.handle,g.listener,b)}catch(l){A._info("Exception during execution of listener callback",
g,l)}}}}}function n(a,b){c(a,b);for(var d=a.split("/"),f=d.length-1,g=f;0<g;--g){var e=d.slice(0,g).join("/")+"/*";g===f&&c(e,b);e+="*";c(e,b)}}function r(){null!==ca&&k.cometd.Utils.clearTimeout(ca);ca=null}function s(a){r();var c=Z.interval+W;A._debug("Function scheduled in",c,"ms, interval \x3d",Z.interval,"backoff \x3d",W,a);ca=k.cometd.Utils.setTimeout(A,a,c)}function q(c,b,d,g){for(var e=0;e<b.length;++e){var h=b[e];h.id=""+ ++T;O&&(h.clientId=O);var l=void 0;a(h._callback)&&(l=h._callback,
delete h._callback);h=f(h);void 0!==h&&null!==h?(b[e]=h,l&&(ha[h.id]=l)):b.splice(e--,1)}0!==b.length&&(e=Q.url,Q.appendMessageTypeToURL&&(e.match(/\/$/)||(e+="/"),g&&(e+=g)),c={url:e,sync:c,messages:b,onSuccess:function(a){try{ea.call(A,a)}catch(c){A._debug("Exception during handling of messages",c)}},onFailure:function(a,c,b,d){try{fa.call(A,a,c,b,d)}catch(f){A._debug("Exception during handling of failure",f)}}},A._debug("Send",c),M.send(c,d))}function p(a){0<V||!0===S?L.push(a):q(!1,[a],!1)}function t(){var a=
L;L=[];0<a.length&&q(!1,a,!1)}function u(){l("connecting");s(function(){if(!m()){var a={channel:"/meta/connect",connectionType:M.getType()};la||(a.advice={timeout:0});l("connecting");A._debug("Connect sent",a);q(!1,[a],!0,"connect");l("connected")}})}function v(a){a&&(Z=A._mixin(!1,{},Q.advice,a),A._debug("New advice",Z))}function w(a){r();a&&M.abort();O=null;l("disconnected");W=V=0;0<L.length&&(fa.call(A,void 0,L,"error","Disconnected"),L=[])}function x(a){O=null;h();m()?(N.reset(),v(Q.advice)):
v(A._mixin(!1,Z,{reconnect:"retry"}));V=0;S=!0;ka=a;a=N.findTransportTypes("1.0",U,Q.url);var c=A._mixin(!1,{},ka,{version:"1.0",minimumVersion:"0.9",channel:"/meta/handshake",supportedConnectionTypes:a,advice:{timeout:Z.timeout,interval:Z.interval}});M=N.negotiateTransport(a,"1.0",U,Q.url);A._debug("Initial transport is",M.getType());l("handshaking");A._debug("Handshake sent",c);q(!1,[c],!1,"handshake")}function y(){l("handshaking");S=!0;s(function(){x(ka)})}function z(a){n("/meta/handshake",a);
n("/meta/unsuccessful",a);!m()&&"none"!==Z.reconnect?(W<Q.maxBackoff&&(W+=Q.backoffIncrement),y()):w(!1)}function C(a){n("/meta/connect",a);n("/meta/unsuccessful",a);a=m()?"none":Z.reconnect;switch(a){case "retry":u();W<Q.maxBackoff&&(W+=Q.backoffIncrement);break;case "handshake":N.reset();W=0;y();break;case "none":w(!1);break;default:throw"Unrecognized advice action"+a;}}function D(a){w(!0);n("/meta/disconnect",a);n("/meta/unsuccessful",a)}function B(a){n("/meta/subscribe",a);n("/meta/unsuccessful",
a)}function E(a){n("/meta/unsubscribe",a);n("/meta/unsuccessful",a)}function J(c){var b=ha[c.id];a(b)&&(delete ha[c.id],b.call(A,c))}function H(a){J(a);n("/meta/publish",a);n("/meta/unsuccessful",a)}function P(c){for(var b=0;b<X.length&&!(void 0===c||null===c);++b){var d=X[Q.reverseIncomingExtensions?X.length-1-b:b],f=d.extension.incoming;a(f)&&(d=g(d.extension,f,d.name,c,!1),c=void 0===d?c:d)}if(!(void 0===c||null===c))switch(v(c.advice),c.channel){case "/meta/handshake":if(c.successful){O=c.clientId;
b=N.negotiateTransport(c.supportedConnectionTypes,c.version,U,Q.url);if(null===b)throw"Could not negotiate transport with server; client "+N.findTransportTypes(c.version,U,Q.url)+", server "+c.supportedConnectionTypes;M!==b&&(A._debug("Transport",M,"-\x3e",b),M=b);S=!1;t();c.reestablish=ra;ra=!0;n("/meta/handshake",c);c=m()?"none":Z.reconnect;switch(c){case "retry":W=0;u();break;case "none":w(!1);break;default:throw"Unrecognized advice action "+c;}}else z(c);break;case "/meta/connect":if(la=c.successful)switch(n("/meta/connect",
c),c=m()?"none":Z.reconnect,c){case "retry":W=0;u();break;case "none":w(!1);break;default:throw"Unrecognized advice action "+c;}else C(c);break;case "/meta/disconnect":c.successful?(w(!1),n("/meta/disconnect",c)):D(c);break;case "/meta/subscribe":c.successful?n("/meta/subscribe",c):B(c);break;case "/meta/unsubscribe":c.successful?n("/meta/unsubscribe",c):E(c);break;default:void 0===c.successful?void 0!==c.data&&null!==c.data?n(c.channel,c):A._debug("Unknown message",c):c.successful?(J(c),n("/meta/publish",
c)):H(c)}}function I(a){if(a=Y[a])for(var c=0;c<a.length;++c)if(a[c])return!0;return!1}function K(c,b){var d={scope:c,method:b};if(a(c))d.scope=void 0,d.method=c;else if(e(b)){if(!c)throw"Invalid scope "+c;d.method=c[b];if(!a(d.method))throw"Invalid callback "+b+" for scope "+c;}else if(!a(b))throw"Invalid callback "+b;return d}function F(a,c,b,d){c=K(c,b);A._debug("Adding listener on",a,"with scope",c.scope,"and callback",c.method);d={channel:a,scope:c.scope,callback:c.method,listener:d};c=Y[a];
c||(c=[],Y[a]=c);c=c.push(d)-1;d.id=c;d.handle=[a,c];A._debug("Added listener",d,"for channel",a,"having id \x3d",c);return d.handle}var A=this,G=d||"default",U=!1,N=new k.cometd.TransportRegistry,M,R="disconnected",T=0,O=null,V=0,L=[],S=!1,Y={},W=0,ca=null,X=[],Z={},ka,ha={},ra=!1,la=!1,Q={connectTimeout:0,maxConnections:2,backoffIncrement:1E3,maxBackoff:6E4,logLevel:"info",reverseIncomingExtensions:!0,maxNetworkDelay:1E4,requestHeaders:{},appendMessageTypeToURL:!0,autoBatch:!1,advice:{timeout:6E4,
interval:0,reconnect:"retry"}};this._mixin=function(a,c,b){for(var d=c||{},f=2;f<arguments.length;++f){var g=arguments[f];if(!(void 0===g||null===g))for(var e in g){var h=g[e],l=d[e];h!==c&&void 0!==h&&(d[e]=a&&"object"===typeof h&&null!==h?h instanceof Array?this._mixin(a,l instanceof Array?l:[],h):this._mixin(a,"object"===typeof l&&!(l instanceof Array)?l:{},h):h)}}return d};this._warn=function(){b("warn",arguments)};this._info=function(){"warn"!==Q.logLevel&&b("info",arguments)};this._debug=function(){"debug"===
Q.logLevel&&b("debug",arguments)};this._isCrossDomain=function(a){return a&&a!==window.location.host};var ea,fa;this.send=p;this.receive=P;ea=function(a){A._debug("Received",a);for(var c=0;c<a.length;++c)P(a[c])};fa=function(a,c,b,d){A._debug("handleFailure",a,c,b,d);for(b=0;b<c.length;++b){var f=c[b];switch(f.channel){case "/meta/handshake":z({successful:!1,failure:!0,channel:"/meta/handshake",request:f,xhr:a,advice:{reconnect:"retry",interval:W}});break;case "/meta/connect":d=a;la=!1;C({successful:!1,
failure:!0,channel:"/meta/connect",request:f,xhr:d,advice:{reconnect:"retry",interval:W}});break;case "/meta/disconnect":D({successful:!1,failure:!0,channel:"/meta/disconnect",request:f,xhr:a,advice:{reconnect:"none",interval:0}});break;case "/meta/subscribe":B({successful:!1,failure:!0,channel:"/meta/subscribe",request:f,xhr:a,advice:{reconnect:"none",interval:0}});break;case "/meta/unsubscribe":E({successful:!1,failure:!0,channel:"/meta/unsubscribe",request:f,xhr:a,advice:{reconnect:"none",interval:0}});
break;default:H({successful:!1,failure:!0,channel:f.channel,request:f,xhr:a,advice:{reconnect:"none",interval:0}})}}};this.registerTransport=function(c,b,d){if(d=N.add(c,b,d))this._debug("Registered transport",c),a(b.registered)&&b.registered(c,this);return d};this.getTransportTypes=function(){return N.getTransportTypes()};this.unregisterTransport=function(c){var b=N.remove(c);null!==b&&(this._debug("Unregistered transport",c),a(b.unregistered)&&b.unregistered());return b};this.unregisterTransports=
function(){N.clear()};this.findTransport=function(a){return N.find(a)};this.configure=function(a){A._debug("Configuring cometd object with",a);e(a)&&(a={url:a});a||(a={});Q=A._mixin(!1,Q,a);if(!Q.url)throw"Missing required configuration parameter 'url' specifying the Bayeux server URL";var c=/(^https?:\/\/)?(((\[[^\]]+\])|([^:\/\?#]+))(:(\d+))?)?([^\?#]*)(.*)?/.exec(Q.url);a=c[8];var b=c[9];U=A._isCrossDomain(c[2]);Q.appendMessageTypeToURL&&(void 0!==b&&0<b.length?(A._info("Appending message type to URI "+
a+b+" is not supported, disabling 'appendMessageTypeToURL' configuration"),Q.appendMessageTypeToURL=!1):(c=a.split("/"),b=c.length-1,a.match(/\/$/)&&(b-=1),0<=c[b].indexOf(".")&&(A._info("Appending message type to URI "+a+" is not supported, disabling 'appendMessageTypeToURL' configuration"),Q.appendMessageTypeToURL=!1)))};this.init=function(a,c){this.configure(a);this.handshake(c)};this.handshake=function(a){l("disconnected");ra=!1;x(a)};this.disconnect=function(a,c){if(!m()){void 0===c&&"boolean"!==
typeof a&&(c=a,a=!1);var b=this._mixin(!1,{},c,{channel:"/meta/disconnect"});l("disconnecting");q(!0===a,[b],!1,"disconnect")}};this.startBatch=function(){++V};this.endBatch=function(){--V;if(0>V)throw"Calls to startBatch() and endBatch() are not paired";0===V&&(!m()&&!S)&&t()};this.batch=function(a,c){var b=K(a,c);this.startBatch();try{b.method.call(b.scope),this.endBatch()}catch(d){throw this._debug("Exception during execution of batch",d),this.endBatch(),d;}};this.addListener=function(a,c,b){if(2>
arguments.length)throw"Illegal arguments number: required 2, got "+arguments.length;if(!e(a))throw"Illegal argument type: channel must be a string";return F(a,c,b,!0)};this.removeListener=function(a){if(!k.cometd.Utils.isArray(a))throw"Invalid argument: expected subscription, not "+a;var c=Y[a[0]];c&&(delete c[a[1]],A._debug("Removed listener",a))};this.clearListeners=function(){Y={}};this.subscribe=function(c,b,d,f){if(2>arguments.length)throw"Illegal arguments number: required 2, got "+arguments.length;
if(!e(c))throw"Illegal argument type: channel must be a string";if(m())throw"Illegal state: already disconnected";a(b)&&(f=d,d=b,b=void 0);var g=!I(c),h=F(c,b,d,!1);g&&(g=this._mixin(!1,{},f,{channel:"/meta/subscribe",subscription:c}),p(g));return h};this.unsubscribe=function(a,c){if(1>arguments.length)throw"Illegal arguments number: required 1, got "+arguments.length;if(m())throw"Illegal state: already disconnected";this.removeListener(a);var b=a[0];I(b)||(b=this._mixin(!1,{},c,{channel:"/meta/unsubscribe",
subscription:b}),p(b))};this.clearSubscriptions=function(){h()};this.publish=function(c,b,d,f){if(1>arguments.length)throw"Illegal arguments number: required 1, got "+arguments.length;if(!e(c))throw"Illegal argument type: channel must be a string";if(m())throw"Illegal state: already disconnected";a(b)?(f=b,b=d={}):a(d)&&(f=d,d={});var g=this._mixin(!1,{},d,{channel:c,data:b,_callback:f});p(g)};this.getStatus=function(){return R};this.isDisconnected=m;this.setBackoffIncrement=function(a){Q.backoffIncrement=
a};this.getBackoffIncrement=function(){return Q.backoffIncrement};this.getBackoffPeriod=function(){return W};this.setLogLevel=function(a){Q.logLevel=a};this.registerExtension=function(c,b){if(2>arguments.length)throw"Illegal arguments number: required 2, got "+arguments.length;if(!e(c))throw"Illegal argument type: extension name must be a string";for(var d=!1,f=0;f<X.length;++f)if(X[f].name===c){d=!0;break}if(d)return this._info("Could not register extension with name",c,"since another extension with the same name already exists"),
!1;X.push({name:c,extension:b});this._debug("Registered extension",c);a(b.registered)&&b.registered(c,this);return!0};this.unregisterExtension=function(c){if(!e(c))throw"Illegal argument type: extension name must be a string";for(var b=!1,d=0;d<X.length;++d){var f=X[d];if(f.name===c){X.splice(d,1);b=!0;this._debug("Unregistered extension",c);c=f.extension;a(c.unregistered)&&c.unregistered();break}}return b};this.getExtension=function(a){for(var c=0;c<X.length;++c){var b=X[c];if(b.name===a)return b.extension}return null};
this.getName=function(){return G};this.getClientId=function(){return O};this.getURL=function(){return Q.url};this.getTransport=function(){return M};this.getConfiguration=function(){return this._mixin(!0,{},Q)};this.getAdvice=function(){return this._mixin(!0,{},Z)};k.cometd.WebSocket=window.WebSocket;k.cometd.WebSocket||(k.cometd.WebSocket=window.MozWebSocket)};return k.cometd})},"dojox/cometd/AckExtension":function(){define(["./cometd"],function(k){return k.AckExtension=function(){var d,e=!1,a=-1;
this.registered=function(a,e){d=e;d._debug("AckExtension: executing registration callback",void 0)};this.unregistered=function(){d._debug("AckExtension: executing unregistration callback",void 0);d=null};this.incoming=function(b){var h=b.channel;if("/meta/handshake"==h)e=b.ext&&b.ext.ack,d._debug("AckExtension: server supports acks",e);else if(e&&"/meta/connect"==h&&b.successful&&(h=b.ext)&&"number"===typeof h.ack)a=h.ack,d._debug("AckExtension: server sent ack id",a);return b};this.outgoing=function(b){var h=
b.channel;"/meta/handshake"==h?(b.ext||(b.ext={}),b.ext.ack=d&&!1!==d.ackEnabled,a=-1):e&&"/meta/connect"==h&&(b.ext||(b.ext={}),b.ext.ack=a,d._debug("AckExtension: client sending ack id",a));return b}}})},"mw-remote/iframeproxy/IframeProxyClient":function(){define("dojo/_base/connect dojo/_base/declare dojo/_base/Deferred dojo/_base/json dojo/_base/lang dojo/aspect dojo/dom-construct require mw-log/Log ./CheckUrlService".split(" "),function(k,d,e,a,b,h,l,m,g,f){var c=this,n=d([],{IFRAME_TIMEOUT:2E4,
constructor:function(a){this.iframeId=a||"remoteProducer";this._messageId=0;this._loaded=!1;this._pendingQueue=[];this._transactions={};this._uploadTargetCallbacks={};this._loadTimeoutHandle=this._checkUrl=null;this._errorRate=0},setRemotePageHost:function(a,c,b,d,f){a=this._combineUriPaths(a||"","/");c=c||"";f=f||"1.2";d=d||"";this.computeToken=b;a===this._host&&c===this._key&&d===this._proxyUrl&&f===this._version||(this._errorLoading=this._loaded=!1,this._host=a,this._key=c,this._version=f,this._proxyUrl=
d,a=this._calculateUrls(a,c,f,d),this._createIframe(a))},_calculateUrls:function(a,c,b,d){var f="/remote/proxy/"+b+"/iframeProxyRelease.html";b="/remote/proxy/"+b+"/CheckJsFile.js";d&&(f=d);f=this._combineUriPaths(a,f).split("?")[0];f+=c?"?routingkey\x3d"+c:"";b=this._combineUriPaths(a,b);b=c?b+("?routingkey\x3d"+c):b+("?time\x3d"+(new Date).getTime());return{fastFailUrl:b,iFrameUrl:f}},_createIframe:function(a){var b=a.fastFailUrl,d=this;this._url=a.iFrameUrl;this.remoteIframe&&l.destroy(this.remoteIframe);
g.info("Creating iframe ["+this.iframeId+"] for "+this._url+" at "+new Date);this.remoteIframe=l.create("iframe",{id:this.iframeId,src:this._url,width:0,height:0,style:"visibility: hidden; display: none;"});a=function(){d._loaded||("1.0"===d._version?d._handleLoadTimeout():"1.1"===d._version?(clearTimeout(d._loadTimeoutHandle),g.info("Unable to load proxy version "+d._version+", trying 1.0."),d.setRemotePageHost(d._host,d._key,d.computeToken,d._proxyUrl,"1.0")):(clearTimeout(d._loadTimeoutHandle),
g.info("Unable to load proxy version "+d._version+", trying 1.1."),d.setRemotePageHost(d._host,d._key,d.computeToken,d._proxyUrl,"1.1")))};this._checkUrl=(new f(b)).then(function(){},a);this._loadTimeoutHandle=setTimeout(a,this.IFRAME_TIMEOUT);document.body.appendChild(this.remoteIframe);this._messageConnection||(this._messageConnection=k.connect(c,"message",this,this._handleMessage))},createUploadIframeTarget:function(a,c,d){this._uploadTargetCallbacks[a]=b.hitch(d||this,c);this._postMessage("createUploadIframe;"+
a)},cancelUpload:function(a){this._postMessage("cancelUpload;"+a)},sendMessage:function(c,b,d){var f=this,h;this.computeToken&&(d=d||{},d.headers=d.headers||{},d.headers.computeToken=this.computeToken);h=this._getNewMessageId();b="sendMessage;"+h+";"+b+";"+(d?a.toJson(d):"{}");b+=";"+c;c={deferred:new e(function(){"1.0"===f._version?g.warn("Cancelling is not supported by the 1.0 remote proxy."):f._postMessage("abort;"+h)}),id:h};this._errorLoading?c.deferred.reject("The iFrame did not load properly: "+
this._url):(this._transactions[h]=c,this._postMessage(b));return c.deferred},setLatency:function(a){this._latency=a},setErrorRate:function(a){this._errorRate=a},_postMessage:function(a){this._loaded?this._postMessageNow(a):this._pendingQueue.push(a)},_handleMessage:function(a){var c,b;if(a.source===this.remoteIframe.contentWindow){b=a.data.indexOf(";");c=a.data.substring(0,b);if(!c)throw Error("Client unable to parse message, no action specified: "+a.data);switch(c){case "ready":this._cleanupFailureChecks();
this._loaded=!0;this._flushPending();break;case "sendMessageResponse":this._sendMessageResponse(a,b);break;case "uploadIframeMessage":c=a.data.indexOf(";",b+1);b=a.data.substring(b+1,c);a=a.data.substring(c+1,a.data.length);this._uploadTargetCallbacks[b](a);break;case "websocketOpened":this.onWebsocketOpen();break;case "websocketClosed":a=a.data.substring(b+1,a.data.length);a=JSON.parse(a);this.onWebsocketClose(a);break;case "websocketMsg":a=a.data.substring(b+1,a.data.length);a=JSON.parse(a);this.onWebsocketMsg(a);
break;case "websocketError":this.onWebsocketError();break;default:throw Error("Unknown action: "+c+", data: "+a.data);}}},_sendMessageResponse:function(c,b){var d,f,g=c.data.indexOf(";",b+1);d=c.data.indexOf(";",g+1);var e=c.data.substring(b+1,g),g=c.data.substring(g+1,d),h=c.data.substring(d+1,c.data.length);if(!e||!g)throw Error("Invalid message from remote iframe: "+c.data);d=this._transactions[e];if(!d)throw Error("Unknown transaction id: "+e+", from remote iframe: "+c.data);delete this._transactions[e];
if(!d.deferred.isCanceled())if("success"===g){try{f=h&&a.fromJson(h)}catch(l){f=h}f=""===f?{}:f;d.deferred.resolve(f)}else this.onError(h),d.deferred.reject(h)},_cleanupFailureChecks:function(){this._checkUrl&&!this._checkUrl.isFulfilled&&this._checkUrl.cancel("iFrame loaded...cancel URL check",!1);this._loadTimeoutHandle&&clearTimeout(this._loadTimeoutHandle);this._checkUrl=this._loadTimeoutHandle=null},_handleLoadTimeout:function(){var a,c;this._cleanupFailureChecks();if(!this._loaded)for(c in a=
{code:"IframeLoadTimeout",description:"Iframe proxy loading failed due to an HTTP error",message:""},this.onError(a),this._errorLoading=!0,a=this._transactions,this._transactions={},a)a.hasOwnProperty(c)&&a[c].deferred.reject("Timeout while loading the iFrame "+this._url+" at "+new Date)},_postMessageNow:function(a){function c(){if(0<b._errorRate&&Math.random()<b._errorRate&&0===a.indexOf("sendMessage;")){if(d=a.split(";",2)[1],f=b._transactions[d])delete b._transactions[d],g.error("Generating simulated error. Request was: ",
a),b.onError("403"),f.deferred.reject("403")}else b.remoteIframe.contentWindow.postMessage(a,b._url)}var b=this,d,f;this._latency?setTimeout(c,this._latency):c()},_flushPending:function(){this._pendingQueue.forEach(this._postMessageNow,this);this._pendingQueue=[]},_getNewMessageId:function(){this._messageId+=1;return this._messageId.toString()},onError:function(){},onWebsocketOpen:function(){},onWebsocketMsg:function(){},onWebsocketClose:function(){},onWebsocketError:function(){},_combineUriPaths:function(){return Array.prototype.slice.call(arguments).reduce(function(a,
c){if(0===a.length)return c;0<c.length&&("/"===c[0]&&a.lastIndexOf("/")===a.length-1?c=c.substring(1):"/"!==c[0]&&a.lastIndexOf("/")!==a.length-1&&(a+="/"));return a+c})}});n.WebSocket=d([],{constructor:function(a){var c=this;this.proxyClient=n.WebSocket.proxyClient;this.proxyClient.computeToken&&0<=a.indexOf("?")&&(a=a+"\x26computeToken\x3d"+this.proxyClient.computeToken);this.proxyClient._postMessage("connectWebsocket;"+a);h.after(this.proxyClient,"onWebsocketOpen",function(){c.onopen.apply(c,arguments)},
!0);h.after(this.proxyClient,"onWebsocketMsg",function(){c.onmessage.apply(c,arguments)},!0);h.after(this.proxyClient,"onWebsocketClose",function(){c.onclose.apply(c,arguments)},!0);h.after(this.proxyClient,"onWebsocketError",function(){c.onerror.apply(c,arguments)},!0)},onopen:function(){},onmessage:function(){},onclose:function(){},onerror:function(){},send:function(a){this.proxyClient._postMessage("websocketSend;"+a)},close:function(){this.proxyClient._postMessage("closeWebsocket;")}});return n})},
"mw-remote/iframeproxy/CheckUrlService":function(){define(["dojo/_base/declare","dojo/dom","dojo/on","dojo/request/script","mw-log/Log"],function(k,d,e,a,b){return function(h){var l,k,g;if(!h)throw Error("Expected a valid url in urlToEmptyJsFile");l={framedoc:null};k=a.get(h,l,!0);l=d.byId(k.id,l.frameDoc);g=e(l,"error",function(a){b.info("CheckUrlService detected an error accessing url: "+h);k.handleResponse(null,a);g.remove()});return k.promise}})},"dojo/request/script":function(){define("module ./watch ./util ../_base/kernel ../_base/array ../_base/lang ../on ../dom ../dom-construct ../has ../_base/window".split(" "),
function(k,d,e,a,b,h,l,m,g,f,c){function n(a,c){a.canDelete&&t._remove(a.id,c.options.frameDoc,!0)}function r(a){z&&z.length&&(b.forEach(z,function(a){t._remove(a.id,a.frameDoc);a.frameDoc=null}),z=[]);return a.options.jsonp?!a.data:!0}function s(a){return!!this.scriptLoaded}function q(a){return(a=a.options.checkString)&&eval("typeof("+a+') !\x3d\x3d "undefined"')}function p(a,c){if(this.canDelete){var b=this.response.options;z.push({id:this.id,frameDoc:b.ioArgs?b.ioArgs.frameDoc:b.frameDoc});b.ioArgs&&
(b.ioArgs.frameDoc=null);b.frameDoc=null}c?this.reject(c):this.resolve(a)}function t(a,c,b){var f=e.parseArgs(a,e.deepCopy({},c));a=f.url;c=f.options;var g=e.deferred(f,n,r,c.jsonp?null:c.checkString?q:s,p);h.mixin(g,{id:u+v++,canDelete:!1});c.jsonp&&(RegExp("[?\x26]"+c.jsonp+"\x3d").test(a)||(a+=(~a.indexOf("?")?"\x26":"?")+c.jsonp+"\x3d"+(c.frameDoc?"parent.":"")+u+"_callbacks."+g.id),g.canDelete=!0,y[g.id]=function(a){f.data=a;g.handleResponse(f)});e.notify&&e.notify.emit("send",f,g.promise.cancel);
if(!c.canAttach||c.canAttach(g)){var k=t._attach(g.id,a,c.frameDoc);if(!c.jsonp&&!c.checkString)var m=l(k,w,function(a){if("load"===a.type||x.test(k.readyState))m.remove(),g.scriptLoaded=a})}l.once(k,"error",function(a){g.reject(a);t._remove(g.id,c.frameDoc,!0)});d(g);return b?g:g.promise}f.add("script-readystatechange",function(a,c){return"undefined"!==typeof c.createElement("script").onreadystatechange&&("undefined"===typeof a.opera||"[object Opera]"!==a.opera.toString())});var u=k.id.replace(/[\/\.\-]/g,
"_"),v=0,w=f("script-readystatechange")?"readystatechange":"load",x=/complete|loaded/,y=a.global[u+"_callbacks"]={},z=[];t.get=t;t._attach=function(a,b,d){d=d||c.doc;var f=d.createElement("script");f.type="text/javascript";f.src=b;f.id=a;f.async=!0;f.charset="utf-8";return d.getElementsByTagName("head")[0].appendChild(f)};t._remove=function(a,c,b){g.destroy(m.byId(a,c));y[a]&&(b?y[a]=function(){delete y[a]}:delete y[a])};t._callbacksProperty=u+"_callbacks";return t})},"mw-messageservice/messageserviceimpl/MessageServiceBase":function(){define("dojo/_base/declare dojo/_base/json dojo/_base/lang dojo/aspect dojo/Deferred mw-statemachine/StateMachine mw-log/Log ./MessageServiceState".split(" "),
function(k,d,e,a,b,h,l,m){return k([m],{logSubscriptions:!1,constructor:function(){this.batching=!0;this.typeSerializers=[];this.typeDeserializers={};this.channelSubscriptions={}},setDelegate:function(b){this.inherited(arguments);a.after(this._delegate,"onMessage",e.hitch(this,this.handleMessage),!0)},publish:function(a,b){if(this.isConnected()||"resubscribing"===this._currentState){var c=this._queuePublish(a,this.serialize(b));this._deferProcessQueue();return c}return this._queuePublish(a,this.serialize(b))},
subscribe:function(a,d,c){this.logSubscriptions&&l.info("MessageService subscribe: "+a,d,c);this._addHandler(this.channelSubscriptions,a,d,c);return this.isConnected()||"resubscribing"===this._currentState?(a=this._queueSubscribe(a,d,c),this._deferProcessQueue(),a):(new b).resolve()},unsubscribe:function(a,d,c){this.logSubscriptions&&l.info("MessageService unsubscribe: "+a,d,c);if(this._removeHandler(this.channelSubscriptions,a,d,c))return this.isConnected()||"resubscribing"===this._currentState?
(a=this._queueUnsubscribe(a,d,c),this._deferProcessQueue(),a):(new b).resolve();l.error("Not subscribed to channel: "+a+", can't unsubscribe.");return(new b).reject("Not subscribed to channel: "+a+", can't unsubscribe.")},flush:function(){if(this.isConnected())this._processQueue();else throw Error("Can only manually flush the queue when connected.");},setLatency:function(a){this._delegate&&this._delegate.doSetLatency&&this._delegate.doSetLatency(a)},setErrorRate:function(a){this._delegate&&this._delegate.doSetErrorRate&&
this._delegate.doSetErrorRate(a)},_enterDisconnected:function(){this.inherited("_enterDisconnected",arguments);this._queuedOps=[]},_enterConnecting:function(){this.inherited("_enterConnecting",arguments);Object.keys(this.channelSubscriptions).forEach(function(a){a.subscribed=!1})},_enterConnected:function(){this.inherited("_enterConnected",arguments);this._processQueue()},_enterDisconnecting:function(){this._processQueue();this.inherited("_enterDisconnecting",arguments)},_queuePublish:function(a,
d){var c=new b;this._queuedOps.push({type:"publish",channel:a,data:d,deferred:c});return c.promise},_queueSubscribe:function(a,d,c){var e=new b;this._queuedOps.push({type:"subscribe",channel:a,handler:d,scope:c,deferred:e});return e.promise},_queueUnsubscribe:function(a,d,c){for(var e=new b,h,l=0;l<this._queuedOps.length;l++)if(h=this._queuedOps[l],"subscribe"===h.type&&h.channel===a&&h.handler===d&&h.scope===c)return this._queuedOps.splice(l,1),h.deferred.resolve(),(new b).resolve();this._queuedOps.push({type:"unsubscribe",
channel:a,handler:d,scope:c,deferred:e});return e.promise},_processQueue:function(){var a=this._delegate&&this._delegate.delegateConnected();(!this.isConnected()||!a)&&"disconnecting"!==this._currentState||(this._delegate.doStartBatch(),a=this._queuedOps,this._queuedOps=[],a.forEach(function(a){var c;"publish"===a.type?c=this._delegate.doPublish(a.channel,a.data):"subscribe"===a.type?c=this._doSubscribe(a.channel,a.handler,a.scope):"unsubscribe"===a.type&&(c=this._doUnsubscribe(a.channel,a.handler,
a.scope));c.then(a.deferred.resolve,a.deferred.reject)},this),this._delegate.doEndBatch())},_deferProcessQueue:function(){if(this.batching&&!this._deferredTimeout){var a=this;this._deferredTimeout=setTimeout(function(){a._deferredTimeout=!1;a._processQueue()},0)}else this.batching||this._processQueue()},_doSubscribe:function(a){if(this.channelSubscriptions[a].subscribed)return(new b).resolve();var d=this._delegate.doSubscribe(a);this.channelSubscriptions[a].subscribed=!0;return d},_doUnsubscribe:function(a){return this.channelSubscriptions[a]?
(new b).resolve():this._delegate.doUnsubscribe(a)},handleMessage:function(a){var b;if(a&&a.channel){a.data&&(a.data=this.deserialize(a.data));var c=a.channel.split("/");for(b=1;b<=c.length;b+=1)this._callHandlers(this.channelSubscriptions,c.slice(0,b).concat("**").join("/"),a);this._callHandlers(this.channelSubscriptions,c.slice(0,c.length-1).concat("*").join("/"),a);this._callHandlers(this.channelSubscriptions,c.concat("*").join("/"),a);this._callHandlers(this.channelSubscriptions,a.channel,a)}},
registerMessageHandler:function(a,b,c){l.error("registerMessageHandler is not supported any more.")},deregisterMessageHandler:function(a,b,c){l.error("deregisterMessageHandler is not supported any more.")},registerTypeSerializer:function(a,b,c){this.typeSerializers.push({typeMatcher:a,type:b,serializer:c})},registerTypeDeserializer:function(a,b){this.typeDeserializers[a]=b},serialize:function(a){return e.isArray(a)?this._serializeArray(a):a instanceof Number||a instanceof Boolean||e.isString(a)?a:
this._serializeObject(a)},deserialize:function(a){return e.isArray(a)?this._deserializeArray(a):a instanceof Number||a instanceof Boolean||e.isString(a)?a:this._deserializeObject(a)},_addHandler:function(a,b,c,d){var e;d=d||this;"string"===typeof c&&"function"!==typeof d[c]?l.warn("Not adding invalid handler: "+c):(e=a[b],e||(e=[],a[b]=e),a={channel:b,handler:c,scope:d},e.push(a),e.sort(function(a){return a.exclusive?-1:0}))},_removeHandler:function(a,b,c,d){var e;e=a[b];c=this._getHandlerIndex(e,
{handler:c,scope:d||this});0<=c&&e.splice(c,1);(!e||0===e.length)&&delete a[b];return 0<=c},_callHandlers:function(a,b,c){var e;if(a.hasOwnProperty(b)){a=a[b];for(e=0;e<a.length;e+=1)try{"string"===typeof a[e].handler?a[e].scope[a[e].handler].call(a[e].scope,c):a[e].handler.call(a[e].scope,c)}catch(h){l.error("Error while executing message handler on channel: "+b+", message: "+d.toJson(c)+", error: "+h)}}},_getHandlerIndex:function(a,b){if(!a)return-1;var c;for(c=0;c<a.length;c+=1)if(b.handler===
a[c].handler&&b.scope===a[c].scope)return c;return-1},_serializeObject:function(a){var b,c;for(c=0;c<this.typeSerializers.length;c+=1){var d=this.typeSerializers[c];if(d.typeMatcher(a))return{__type__:d.type,__value__:d.serializer.call(this,a)}}if(a instanceof Image)return a;for(b in a)a.hasOwnProperty(b)&&(a[b]=this.serialize(a[b]));return a},_serializeArray:function(a){var b,c=a.length;for(b=0;b<c;b+=1)a[b]=this.serialize(a[b]);return a},_deserializeObject:function(a){var b;if(void 0===a||null===
a)return null;if(a.hasOwnProperty("__type__")&&a.hasOwnProperty("__value__"))try{return this.typeDeserializers[a.__type__].call(this,a.__value__)}catch(c){l.error("Error while trying to deserialize: ",a)}for(b in a)a.hasOwnProperty(b)&&(null!==a[b]&&void 0!==a[b])&&(a[b]=this.deserialize(a[b]));return a},_deserializeArray:function(a){var b,c=a.length;for(b=0;b<c;b+=1)a[b]=this.deserialize(a[b]);return a}})})},"mw-statemachine/StateMachine":function(){define(["dojo/_base/declare","./statemachineimpl/State"],
function(k,d){return k([],{constructor:function(e){e.stateMachine=this;this.state=new d(e)},start:function(){this.state.enter()},stop:function(){this.state.exit()},_changeState:function(d,a){this.state.enter(d,a)},onEnterState:function(d){},onExitState:function(d){}})})},"mw-statemachine/statemachineimpl/State":function(){define("dojo/_base/declare dojo/_base/lang mw-log/Log ./EventTrigger ./MessageTrigger ./RemoteTrigger ./TimeoutTrigger ./Transition".split(" "),function(k,d,e,a,b,h,l,m){var g;return g=
k([],{constructor:function(a){this.stateMachine=a.stateMachine||{_changeState:function(){},onEnterState:function(){},onExitState:function(){}};this.namespace=a.namespace||"";this.name=a.name||this.getDefaultName();this.context=a.context||{};this.data=a.data||{};this.composition=a.composition||"XOR";this.defaultSubstate=a.defaultSubstate||"";this.constructSubstates(a.substates);this.constructTriggersAndTransitions(a.transitions);this.active=a.active||!1},getDefaultName:function(){var a;0<this.namespace.length?
(a=this.namespace.split("."),a=a.pop()):e.warn("State: state name is not specified.");return a||""},constructSubstates:function(a){var c={},b,d;for(b in a)a.hasOwnProperty(b)&&(d=a[b],d.name&&d.name!==b&&e.error("State: error constructing substate: "+b+", the specified names don't match: "+d.name),d.name=b,d.namespace=d.namespace||[this.namespace,this.name].join("."),d.stateMachine=d.stateMachine||this.stateMachine,d.context=d.context||this.context,c[d.name]=new g(d));this.substates=c},constructTriggersAndTransitions:function(a){var c,
b={},d=[],g;for(c in a)a.hasOwnProperty(c)&&((g=this.constructTrigger(c))&&d.push(g),b[c]=this.constructTransition(c,a[c]));this.transitions=b;this.triggers=d},constructTrigger:function(f){var c,g,e;c=f.split(" ");if(2===c.length)"subscribe"===c[0]?e=b:"response"===c[0]||"fault"===c[0]?e=h:"timeout"===c[0]&&(e=l);else if("onEnterState"!==f||"onExitState"!==f)e=a;e&&(g=new e({name:f,context:this.context,triggerHandler:d.hitch(this,this.handleTrigger)}));return g},constructTransition:function(a,c){var b;
if(d.isFunction(c)||d.isString(c)||d.isArray(c))"onEnterState"===a||"onExitState"===a?(b=c,c={},c.action=b,c.target=""):(b=c,c={},c.target=b);c.state=this;return new m(c)},enter:function(a,c){this.active||(this.active=!0,this.enableTriggers(),this.stateMachine.onEnterState(this.name),this.handleTrigger.apply(this,["onEnterState"].concat(c)));a?this.changeSubstates(a,c):this.changeToDefaultSubstate(c)},exit:function(){var a=this.activeSubstates();this.active=!1;this.disableTriggers();a.forEach(function(a){a.exit()});
this.handleTrigger("onExitState");this.stateMachine.onExitState(this.name)},enableTriggers:function(){this.triggers.forEach(function(a){a.enable()})},disableTriggers:function(){this.triggers.forEach(function(a){a.disable()})},handleTrigger:function(a){var c,b;if(this.transitions[a]&&(b=Array.prototype.slice.call(arguments,1,arguments.length),c=this.transitions[a].handleTrigger(a,b)))d.isString(c)||(b=c.args,c=c.target),this.stateMachine._changeState(c,b)},changeSubstates:function(a,c){var b=this.activeSubstates();
this.substates[a]&&(0<=b.length&&b[0].name!==a&&b.forEach(function(a){a.exit()}),this.substates[a].enter(void 0,c))},changeToDefaultSubstate:function(a){0===this.activeSubstates().length&&this.substates[this.defaultSubstate]&&this.substates[this.defaultSubstate].enter(void 0,a)},activeSubstates:function(){var a=[],c;for(c in this.substates)this.substates.hasOwnProperty(c)&&this.substates[c].active&&a.push(this.substates[c]);return a}})})},"mw-statemachine/statemachineimpl/EventTrigger":function(){define(["dojo/_base/declare",
"dojo/_base/lang","dojo/aspect","mw-log/Log","./Trigger"],function(k,d,e,a,b){return k(b,{constructor:function(){this.connection={}},enable:function(){d.isFunction(this.context[this.name])&&(this.cachedFunction=this.context[this.name]);this.connection=e.after(this.context,this.name,d.hitch(null,this.triggerHandler,this.name),!0)},disable:function(){this.connection.remove();this.cachedFunction&&(this.context[this.name]=this.cachedFunction)}})})},"mw-statemachine/statemachineimpl/Trigger":function(){define(["dojo/_base/declare"],
function(k){return k([],{constructor:function(d){this.name="";this.context={};this.triggerHandler=d.triggerHandler||function(){};k.safeMixin(this,d)},enable:function(){},disable:function(){}})})},"mw-statemachine/statemachineimpl/MessageTrigger":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/topic","mw-log/Log","./Trigger"],function(k,d,e,a,b){return k(b,{constructor:function(){var b=this.name.split(" ");(2>b.length||"subscribe"!==b[0])&&a.error("Invalid trigger name for a MessageTrigger. Could not parse out the message name.");
this.messageId=b[1]||"";this.subscrition={}},enable:function(){this.subscription=e.subscribe(this.messageId,d.hitch(null,this.triggerHandler,this.name))},disable:function(){this.subscription.remove()}})})},"mw-statemachine/statemachineimpl/RemoteTrigger":function(){define(["dojo/_base/declare","dojo/_base/lang","mw-log/Log","mw-remote/Remote","./Trigger"],function(k,d,e,a,b){return k(b,{constructor:function(){var b=this.name.split(" ");(2>b.length||"response"!==b[0]&&"fault"!==b[0])&&e.error("Invalid trigger name for a RemoteTrigger. Could not parse out the type of handler.");
(!a.registerResponseHandler||!a.registerFaultHandler)&&e.error("The remote package is not available, this type of trigger will not work.");this.messageId=b[1]||"";this.handlerType=b[0]},enable:function(){"response"===this.handlerType?a.registerResponseHandler(this.messageId,d.hitch(null,this.triggerHandler,this.name)):a.registerFaultHandler(this.messageId,d.hitch(null,this.triggerHandler,this.name))},disable:function(){"response"===this.handlerType?a.deregisterResponseHandler(this.messageId):a.deregisterFaultHandler(this.messageId)}})})},
"mw-remote/Remote":function(){define("dojo/_base/lang dojo/aspect ./iframeproxy/IframeProxyClient ./iframeproxy/IframeJsonTransaction ./impl/FaultManager ./impl/RequestManager ./impl/ResponseManager ./impl/Transaction ./RemoteEndPointsManager mw-log/Log ./serviceRegistryLookup!".split(" "),function(k,d,e,a,b,h,l,m,g,f,c){var n=this,r;r={reset:function(){var s=[],q=new b,p=new l({faultManager:q}),t=new h({responseManager:p});r.faultManager=q;r.responseManager=p;r.requestManager=t;r._serviceRegistryLookup=
c;var u=r.proxyClient=new e;r.createUploadIframeTarget=k.hitch(u,u.createUploadIframeTarget);r.cancelUpload=k.hitch(u,u.cancelUpload);g.setIframeProxyClientForEndPoint(g.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT,u);g.setIframeProxyClientForEndPoint(g.getEndPointNames().ROUTER_LEAF_INSECURE_ENDPOINT,u);m.construct=function(c){c=c||{};g.getRoutingHost(g.getEndPointNames().ROUTER_LEAF_INSECURE_ENDPOINT)||r.setEndpoint();c.allowedMessages=s;c.sendMessage=r.sendMessage;c.computeSessionId=r.getComputeSessionId;
return new a(c)};r.registerEndpointLevelFaultHandler=k.hitch(q,q.registerEndpointLevelFaultHandler);r.sendMessage=k.hitch(t,t.sendMessage);r.registerDefaultMessageFactory=k.hitch(t,t.registerDefaultMessageFactory);r.deregisterDefaultMessageFactory=k.hitch(t,t.deregisterDefaultMessageFactory);r.registerResponseHandler=k.hitch(p,p.registerResponseHandler);r.deregisterResponseHandler=k.hitch(p,p.deregisterResponseHandler);r.registerFaultHandler=k.hitch(q,q.registerFaultHandler);r.deregisterFaultHandler=
k.hitch(q,q.deregisterFaultHandler);r.registerTopLevelFaultHandler=k.hitch(q,q.registerTopLevelFaultHandler);r.deregisterTopLevelFaultHandler=k.hitch(q,q.deregisterTopLevelFaultHandler);r.setServiceEndPoint=function(a,c,b){g.setRoutingHostAndRoutingKey(a,c,b)};r.ignoreTopLevelFault=r.registerTopLevelFaultHandler;r.setComputeToken=function(a){t.computeToken=a};r.setWorkerEndpoint=function(a,c){g.setRoutingHostAndRoutingKey(g.getEndPointNames().WORKER_ENDPOINT,a,c)};r.setEndpoint=function(a){a||(a=
r._serviceRegistryLookup.getServiceRegistryEndpoint("primary"),a||(f.info("ServiceRegistryLookup is empty, falling back to localhost"),a="/"));if(!a||"/"===a)a=n.location.protocol+"//"+n.location.host+"/";g.setRoutingHostAndRoutingKey(g.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT,a);g.setRoutingHostAndRoutingKey(g.getEndPointNames().ROUTER_LEAF_INSECURE_ENDPOINT,a);u.setRemotePageHost(a)};r.setAllowedMessages=function(a){s=a};r.allowAllMessages=function(){s=[]};r.getEndPoint=function(){return g.getRoutingHost(g.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT)};
r.getComputeSessionId=function(){return t.computeToken?t.computeToken.computeSessionId:12345};r.getWorkerRoutingHost=function(){var a=g.getRoutingHost(g.getEndPointNames().WORKER_ENDPOINT);return a?a:location.protocol+"//"+location.host+"/"};r.getWorkerRoutingKey=function(){return g.getRoutingKey(g.getEndPointNames().WORKER_ENDPOINT)};r.enableServerOnWorkerAsync=function(){g.enableEndPoint(g.getEndPointNames().WORKER_ASYNC_ENDPOINT)};r.disableServerOnWorkerAsync=function(){g.disableEndPoint(g.getEndPointNames().WORKER_ASYNC_ENDPOINT)};
r.isServerOnWorkerAsyncEnabled=function(){return g.isEndPointEnabled(g.getEndPointNames().WORKER_ASYNC_ENDPOINT)};r.enableServerOnWorker=function(){g.enableEndPoint(g.getEndPointNames().WORKER_ENDPOINT)};r.disableServerOnWorker=function(){g.disableEndPoint(g.getEndPointNames().WORKER_ENDPOINT)};r.isWorkerEndpointEnabled=function(){return g.isEndPointEnabled(g.getEndPointNames().WORKER_ENDPOINT)};r.addWorkerOnlyMessageType=function(a){g.addMessageTypesToEndPoint(a,g.getEndPointNames.WORKER_ENDPOINT)};
r.removeWorkerOnlyMessageType=function(a){g.removeMessageTypesFromEndPoint(a,g.getEndPointNames.WORKER_ENDPOINT)};r.setWorkerOnlyMessageTypes=function(a){g.setMessageTypesToEndPoint(g.getEndPointNames().WORKER_ENDPOINT,a)};r.getWorkerOnlyMessageTypes=function(){return g.getMessagesMappedToEndPoint(g.getEndPointNames().WORKER_ENDPOINT)};d.after(u,"onError",function(a){a&&q.handleNonTransactionFault(a)},!0)}};r.reset();return r})},"mw-remote/iframeproxy/IframeJsonTransaction":function(){define(["dojo/_base/declare",
"mw-remote/impl/JsonTransaction","mw-remote/RemoteEndPointsManager"],function(k,d,e){return k([d],{constructor:function(a){a=a||{};this.proxyClient=a.proxyClient;this.workerProxyClient=a.workerProxyClient;this.routingHost=a.routingHost;this.routingKey=a.routingKey;this.computeSessionId=a.computeSessionId},_doSend:function(a){return e.getIframeProxyClientForEndPoint(this.endPointName).sendMessage(a,e.getRemoteUrlForEndPoint(this.endPointName))}})})},"mw-remote/impl/JsonTransaction":function(){define("dojo/_base/declare dojo/_base/xhr dojo/_base/json dojo/_base/lang mw-remote/RemoteEndPointsManager ./Transaction".split(" "),
function(k,d,e,a,b,h){return k(h,{constructor:function(a){a=a||{};this.uuid=a.uuid||this._generateUuid()},_getRequest:function(a){var d=null;b.isEndpointMessageContainerBased(this.endPointName)?(d={uuid:this.uuid,messages:a},this.computeToken&&(d.computeToken=this.computeToken)):Object.keys(a).forEach(function(b){d=a[b]});this._sanitizeForJson(d);return e.toJson(d)},_sanitizeForJson:function(b){var d;if(a.isArray(b))b.forEach(this._sanitizeForJson,this);else if(a.isObject(b))for(d in b)b.hasOwnProperty(d)&&
(void 0===b[d]?delete b[d]:(a.isObject(b[d])||a.isArray(b[d]))&&this._sanitizeForJson(b[d]))},_doSend:function(a){return d.post({url:this._getEndpoint(),contentType:"application/json",handleAs:"json",postData:a})},_processResponse:function(a){this.stopTime=(new Date).getTime();a?(a.fault&&(this.fault=a.fault),this.responseMessages=a.messages?a.messages:a):this.fault={faultCode:"Connection.Fault",message:"Unable to communicate with server, no response."}},_processFault:function(a){this.stopTime=(new Date).getTime();
this.fault={faultCode:"Connection.Fault",message:a}}})})},"mw-remote/RemoteEndPointsManager":function(){define(["./EndPointsManager"],function(k){var d=null;null===d&&(d=new k);return d})},"mw-remote/EndPointsManager":function(){define(["dojo/_base/declare","dojo/_base/array","./iframeproxy/IframeProxyClient"],function(k,d,e){return k([],{constructor:function(){this._initializeEndPointsCollection()},_initializeEndPointsCollection:function(){this.endPointsCollection={ROUTER_LEAF_INSECURE_ENDPOINT:{routingHost:"",
routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"messageservice/json",messages:"RouterLogin CreateAccount CurrentUser Login UpdateAccount ServiceRegistry ClientType AuthorizationDetails".split(" "),iframeProxyName:"remoteProducer",acceptsMessageContainerMessages:!0},ROUTER_LEAF_SECURE_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"messageservice/json/secure",messages:[],iframeProxyName:"remoteProducer",acceptsMessageContainerMessages:!0},
WORKER_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!1,iframeProxyUrl:"",pathSuffix:"messageservice/json/secure",messages:[],iframeProxyName:"remoteWorkerProducer",acceptsMessageContainerMessages:!0},WORKER_ASYNC_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"messageservice/async",messages:[],acceptsMessageContainerMessages:!0},USAGE_DATA_ROUTER_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",
pathSuffix:"udc/service/v1/events",messages:["UsageDataEventCollection"],iframeProxyName:"remoteUDCProducer",acceptsMessageContainerMessages:!1}}},reset:function(){this._initializeEndPointsCollection()},setUpNewEndPoint:function(a,b,d,e,k){this.endPointsCollection[a]={routingHost:"",routingKey:"",pathSuffix:d,enabled:b,messages:[],iframeProxy:null,iframeProxyName:e,acceptsMessageContainerMessages:k}},getPathSuffixForEndPoint:function(a){return this.endPointsCollection[a].pathSuffix},getEndPointNames:function(){var a=
{},b;for(b in this.endPointsCollection)this.endPointsCollection.hasOwnProperty(b)&&(a[b]=b);return a},setRoutingHostAndRoutingKey:function(a,b,d){b&&b.lastIndexOf("/")!==b.length-1&&(b+="/");this.endPointsCollection[a].routingHost=b;d&&(this.endPointsCollection[a].routingKey=d);b&&this._setIframeRoutingHostAndRoutingkey(a)},_setIframeRoutingHostAndRoutingkey:function(a){var b=this.getIframeProxyClientForEndPoint(a);b&&b.setRemotePageHost(this.endPointsCollection[a].routingHost,this.endPointsCollection[a].routingKey,
null,this.endPointsCollection[a].iframeProxyUrl)},getRoutingHost:function(a){return this.endPointsCollection[a].routingHost},getRoutingKey:function(a){return this.endPointsCollection[a].routingKey},getMessageTypesMappedToEndPoint:function(a){return this.endPointsCollection[a].messages},isEndPointEnabled:function(a){return this.endPointsCollection[a].enabled},setMessageTypesToEndPoint:function(a,b){this.endPointsCollection[a].messages=b},enableEndPoint:function(a){this.endPointsCollection[a].enabled=
!0},disableEndPoint:function(a){this.endPointsCollection[a].enabled=!1},getEndPointForMessageType:function(a){var b=null,e;for(e in this.endPointsCollection)if(this.endPointsCollection.hasOwnProperty(e)&&(b=-1<d.lastIndexOf(this.endPointsCollection[e].messages,a)?e:b))if(this.isEndPointEnabled(b))break;else b=null;return b?b:this.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT},getRemoteUrlForEndPoint:function(a){var b=this.endPointsCollection[a].routingHost+this.endPointsCollection[a].pathSuffix;
this.endPointsCollection[a].routingKey&&(b=b+"?routingkey\x3d"+this.endPointsCollection[a].routingKey);return b},setIframeProxyClientForEndPoint:function(a,b){this.endPointsCollection[a].iframeProxy=b},getIframeProxyClientForEndPoint:function(a){var b=this.endPointsCollection[a].iframeProxy;b||(b=new e(this.endPointsCollection[a].iframeProxyName),this.endPointsCollection[a].iframeProxy=b);return b},isEndpointMessageContainerBased:function(a){return a&&this.endPointsCollection[a]?this.endPointsCollection[a].acceptsMessageContainerMessages:
!0},addMessagesTypesToEndPoint:function(a,b){this.endPointsCollection[a]&&-1===this.endPointsCollection[a].messages.indexOf(b)&&this.endPointsCollection[a].messages.push(b)},removeMessageTypesFromEndPoint:function(a,b){if(this.endPointsCollection[a]){var d=this.endPointsCollection[a].messages.indexOf(b);-1<d&&this.endPointsCollection[a].messages.splice(d,1)}}})})},"mw-remote/impl/Transaction":function(){define(["dojo/_base/declare","dojo/_base/Deferred","dojo/_base/lang","mw-remote/RemoteEndPointsManager",
"mw-utils/Utils"],function(k,d,e,a,b){return k([],{constructor:function(a){a=a||{};this.requestMessages=a.requestMessages||{};this.responseMessages=a.responseMessages||{};this.context=a.context;this.computeToken=a.computeToken;this.uuidClassifierMap=a.uuidClassifierMap||{};this.endPointName=a.endPointName||null;this.allowedMessages=a.allowedMessages||[];this.ignoreMessageTypes=a.ignoreMessageTypes||[];this.sendMessage=a.sendMessage},addRequestMessage:function(b,d,k){if(d){var g=a.isEndpointMessageContainerBased(this.endPointName);
this.requestMessages[b]||(this.requestMessages[b]=[]);e.isArray(d)?d.forEach(function(a){this.addRequestMessage(b,a,k)},this):g?(d.uuid=d.uuid||this._generateUuid(),k&&(this.uuidClassifierMap[d.uuid]=k),this.requestMessages[b].push(d)):this.requestMessages[b]=d;this.requestMessages=this._filterMessages(this.requestMessages)}},_filterMessages:function(a){var b={};this.getRequestMessageTypes().forEach(function(d){if(0===this.allowedMessages.length||0<=this.allowedMessages.indexOf(d))b[d]=a[d]},this);
return b},getResponseMessageTypes:function(){var a,b=[];for(a in this.responseMessages)this.responseMessages.hasOwnProperty(a)&&b.push(a);return b},getRequestMessageTypes:function(){var a,b=[];for(a in this.requestMessages)this.requestMessages.hasOwnProperty(a)&&b.push(a);return b},getMessageClassifier:function(a){return a&&a.uuid&&this.uuidClassifierMap.hasOwnProperty(a.uuid)?this.uuidClassifierMap[a.uuid]:""},send:function(){this._removeEmptyMessages();this._isEmpty(this.requestMessages)?(this.deferred=
new d,this.deferred.callback()):(this.startTime=(new Date).getTime(),this.deferred=this._doSend(this._getRequest(this.requestMessages)),this.deferred.addCallback(this,this._processResponse),this.deferred.addErrback(this,this._processFault))},addIgnoreMessageType:function(a,b){if(-1<this.getRequestMessageTypes().indexOf(a))if(b)for(var d in this.uuidClassifierMap)this.uuidClassifierMap.hasOwnProperty(d)&&(b&&this.uuidClassifierMap[d]===b)&&this.ignoreMessageTypes.push(a+":"+b);else this.ignoreMessageTypes.push(a)},
_removeEmptyMessages:function(){if(!this._isEmpty(this.requestMessages))for(var a in this.requestMessages)this.requestMessages.hasOwnProperty(a)&&e.isArray(this.requestMessages[a])&&0===b.getArrayLength(this.requestMessages[a])&&delete this.requestMessages[a]},_isEmpty:function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},_generateUuid:function(){return b.generateUuid()}})})},"mw-remote/impl/FaultManager":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang",
"mw-remote/RemoteEndPointsManager"],function(k,d,e,a){return d([],{constructor:function(a){a=a||{};this.faultHandlers=a.faultHandlers||{};this.topLevelHandlers=a.topLevelHandlers||[];this.endPointLevelHandlers=a.endPointLevelHandlers||{}},registerFaultHandler:function(a,d,l){l&&(d=e.hitch(l,d));this.faultHandlers[a]=d},deregisterFaultHandler:function(a){delete this.faultHandlers[a]},registerTopLevelFaultHandler:function(a,d,l){l&&(d=e.hitch(l,d));if(e.isString(a)){if("*"===a)return a={matcher:a,handler:d},
this.defaultTopLevelHandler=d,a;a=this._constructMatcherFromQuery(a)}a={matcher:a,handler:d};this.topLevelHandlers.push(a);return a},registerEndpointLevelFaultHandler:function(a,d,l,k){k&&(l=e.hitch(k,l));e.isString(d)&&(d=this._constructMatcherFromQuery(d));d={matcher:d,handler:l};this.endPointLevelHandlers[a]||(this.endPointLevelHandlers[a]=[]);this.endPointLevelHandlers[a].push(d);return d},deregisterTopLevelFaultHandler:function(a){var d=this.topLevelHandlers.indexOf(a);-1<d?this.topLevelHandlers.splice(d,
1):"*"===a.matcher&&delete this.defaultTopLevelHandler},_constructMatcherFromQuery:function(a){var d=[];a.split("||").forEach(function(a){a=e.trim(a);a=a.replace(/([\.])/g,"\\$1");a=a.replace(/\*/g,".*");d.push(RegExp("^"+a+"$"))});return function(a){return k.some(d,function(b){return b.test(a.faultCode||a.code||"")})}},handleFault:function(a){var d,l=function(d,f){var c;if(c=a.getMessageClassifier(f))if(c=[d,c].join(":"),this.faultHandlers[c])this.faultHandlers[c](a.fault,a.context)};for(d in a.requestMessages)if(a.requestMessages.hasOwnProperty(d)){if(this.faultHandlers[d])this.faultHandlers[d](a.fault,
a.context);var k=a.requestMessages[d];k instanceof Array&&k.forEach(e.hitch(this,l,d))}if(this.faultHandlers["*"])this.faultHandlers["*"](a.fault,a.context);this.endPointLevelHandlers[a.endPointName]?this._handleEndpointLevelFault(a):this._handleTopLevelFault(a)},_handleEndpointLevelFault:function(a){var d=!1,e=k.filter(this.endPointLevelHandlers[a.endPointName],function(d){return d.matcher.call(this,a.fault,a.context)},this);0<e.length&&e[0].handler&&(d=!0,e[0].handler.call(this,a.fault,a.context,
a));return d},_handleTopLevelFault:function(a){var d=k.filter(this.topLevelHandlers,function(d){return d.matcher.call(this,a.fault,a.context)},this);(d=0<d.length?d[0].handler:this.defaultTopLevelHandler)&&d.call(this,a.fault,a.context,a)},handleNonTransactionFault:function(a){var d=k.filter(this.topLevelHandlers,function(d){return d.matcher.call(this,a)},this);(d=0<d.length?d[0].handler:this.defaultTopLevelHandler)&&d.call(this,a)}})})},"mw-remote/impl/RequestManager":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/Deferred dojo/_base/lang mw-remote/RemoteEndPointsManager mw-remote/defaultMessageMapping ./Transaction".split(" "),
function(k,d,e,a,b,h,l){return d([],{defaultMapping:h,constructor:function(a){a=a||{};this.defaultFactories=a.defaultFactories||{};this.mockHandlers=a.mockHandlers||{};this.mapping=a.mapping||this.defaultMapping;this.responseManager=a.responseManager},registerDefaultMessageFactory:function(b,d,f){f&&(d=a.hitch(f,d));this.defaultFactories[b]=d},deregisterDefaultMessageFactory:function(a){delete this.defaultFactories[a]},registerMockResponseGenerator:function(b,d,f){var c=this;d=a.hitch(f||this,d);
this.mockHandlers[b]=function(a,b){var f,h=l.construct(b);f=d(a,h);f||(f=new e,f.callback());f.addCallback(function(){c.responseManager._processResult(h)})}},deregisterMockResponseGenerator:function(a){delete this.mockHandlers[a]},sendMessage:function(a,b,d){var c={},e={};b=b||{};this._createAndFillTransactions(a,b,d,c,e);a=Object.keys(c);for(b=0;b<a.length;b+=1)d=a[b],this._callMocks(e[d]),c[d].send(),this.responseManager.handleTransaction(c[d])},_getTransaction:function(a,b){return l.construct({context:b,
computeToken:this.computeToken,endPointName:a})},_getMockTransaction:function(a,b,d){return l.construct({context:b,computeToken:this.computeToken,endPointName:a,uuid:d})},_createAndFillTransactions:function(a,d,f,c,e){var h,l,k=function(a){var f,h,l,k,m;f=b.getEndPointForMessageType(a);k=c[f];m=e[f];k||(k=this._getTransaction(f,d),m=this._getMockTransaction(f,d,k.uuid),c[f]=k,e[f]=m);if(this.defaultFactories[a]&&(f=this.defaultFactories[a](k.context)))h=a.split(":"),l=h[0],h=h.slice(1,h.length).join(":"),
this.mockHandlers[a]||k.addRequestMessage(l,f,h),m.addRequestMessage(l,f,h)},p,t;for(h in a)a.hasOwnProperty(h)&&(l=b.getEndPointForMessageType(h),p=e[l],t=c[l],c[l]||(t=this._getTransaction(l,d),p=this._getMockTransaction(l,d,t.uuid),c[l]=t,e[l]=p),l=[h,f].join(":"),!this.mockHandlers[h]&&!this.mockHandlers[l]&&t.addRequestMessage(h,a[h],f),p.addRequestMessage(h,a[h],f),this.mapping[l]?this.mapping[l].forEach(k,this):this.mapping[h]&&this.mapping[h].forEach(k,this))},_callMocks:function(b){var d,
f,c=b.context;delete b.context;var e=function(a,c){var b;if(b=d.getMessageClassifier(c))if(b=[a,b].join(":"),this.mockHandlers[b])this.mockHandlers[b]([c],d)};for(f in b.requestMessages)if(b.requestMessages.hasOwnProperty(f)){d=a.mixin({},b);d.context=c;if(this.mockHandlers.hasOwnProperty(f))this.mockHandlers[f](d.requestMessages[f],d);d.requestMessages[f]instanceof Array?d.requestMessages[f].forEach(a.hitch(this,e,f)):e(f,d.requestMessages[f])}if(this.mockHandlers["*"])this.mockHandlers["*"](f,d.requestMessages[f],
d)}})})},"mw-remote/defaultMessageMapping":function(){define([],function(){return{Eval:["CurrentFolder","ListFolder"],"Eval:Ping":[],"Eval:RunFile":["UpdateFile","CurrentFolder","ListFolder"],"Eval:MlsPublishPre":["UpdateFile"],"FEval:liveEvalInstrumentCode":[],Interrupt:["Eval"],"FEval:GetFigures":["CurrentFolder","ListFolder"],"FEval:CloseFigure":["FEval:GetFigures"],"FEval:SelectFigure":["FEval:GetFigures"],"FEval:ResetAxes":["FEval:GetFigures"],"FEval:ResizeFigure":["FEval:GetFigures"],"FEval:AxesInteraction2D":["FEval:GetFigures"],
"FEval:AxesInteraction3D":["FEval:GetFigures"],CurrentUser:["ServiceRegistry"],RouterLogin:["ServiceRegistry"],CurrentFolder:["ListFolder"],MoveFile:["CurrentFolder"],Variable:[],CloseFile:["SaveSession"],UpdateFile:["SaveSession"],SaveSession:["UpdateFile"],Logout:["CloseFile"],UpdateShare:["ListFolder"]}})},"mw-remote/impl/ResponseManager":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/Deferred dojo/_base/json dojo/_base/lang mw-log/Log mw-remote/RemoteEndPointsManager".split(" "),
function(k,d,e,a,b,h,l){return d([],{constructor:function(a){a=a||{};this.responseHandlers=a.responseHandlers||{};this.faultManager=a.faultManager;this.transactions=a.transactions||[]},registerResponseHandler:function(a,d,f){f&&(d=b.hitch(f,d));this.responseHandlers[a]=d},deregisterResponseHandler:function(a){delete this.responseHandlers[a]},handleTransaction:function(a){this.transactions.push(a);a.deferred.addCallback(b.hitch(this,this._processAll,a));a.deferred.addCallback(b.hitch(this,this._processResult,
a));a.deferred.addErrback(b.hitch(this,this._processAll,a));a.deferred.addErrback(b.hitch(this,this._processFault,a))},_processAll:function(a){a=this.transactions.indexOf(a);0<=a&&this.transactions.splice(a,1)},_processResult:function(b){b.getResponseMessageTypes().forEach(function(d){var f=b.responseMessages[d],c=[];try{if(f instanceof Array){f.forEach(function(a){var f,e=b.getMessageClassifier(a);if(e){f=[d,e].join(":");var h=this,l=!1;b.getRequestMessageTypes().forEach(function(c){var d=b.requestMessages[c];
d instanceof Array?d.forEach(function(d){h.responseHandlers[f]&&(h._shouldHandle(b,c,e)&&d.uuid===a.uuid)&&(h.responseHandlers[f]([a],b.context),l=!0)}):h.responseHandlers[f]&&(h._shouldHandle(b,c,e)&&d.uuid===a.uuid)&&(h.responseHandlers[f]([a],b.context),l=!0)});l||c.push(a)}else c.push(a)},this);if(0<c.length&&this.responseHandlers[d]&&this._shouldHandle(b,d))this.responseHandlers[d](c,b.context);if(this.responseHandlers["*"])this.responseHandlers["*"](d,b.responseMessages[d],b.context)}}catch(e){h.error("Remote: Fault occurred while processing response.\nMessage: "+
e.message+"\nType: "+d+"\nResponse: "+a.toJson(f))}},this);this._processUdcResponses(b);b.fault&&this.faultManager.handleFault(b)},_processUdcResponses:function(a){if(!l.isEndpointMessageContainerBased(a.endPointName)){var b=Object.keys(a.requestMessages)[0];if(this.responseHandlers[b]&&this._shouldHandle(a,b,""))this.responseHandlers[b](a.responseMessages)}},_processFault:function(a){this.faultManager.handleFault(a)},_shouldHandle:function(a,b,d){return this._shouldIgnoreMessageType(a,b,d)?!1:this.transactions&&
k.every(this.transactions,function(c){var e,h;if(d)for(e in c.uuidClassifierMap){if(c.uuidClassifierMap.hasOwnProperty(e)&&d&&c.uuidClassifierMap[e]===d){h=!0;break}}else h=c.requestMessages[b]?k.every(c.requestMessages[b],function(a){return!c.uuidClassifierMap[a.uuid]}):!0;(e=!(c.requestMessages[b]&&h&&c.startTime>a.startTime))&&c.addIgnoreMessageType(b,d);return e},this)},_shouldIgnoreMessageType:function(a,b,d){return-1!==a.ignoreMessageTypes.indexOf(d?b+":"+d:b)}})})},"mw-remote/serviceRegistryLookup":function(){define(["dojo/request/xhr",
"require"],function(k,d){var e=!1,a={_serviceData:{},getServiceRegistryEndpoint:function(b){if(a._serviceData.serviceregistry){var d,e;d=a._serviceData.serviceregistry.length;for(e=0;e<d;e+=1)if(a._serviceData.serviceregistry[e].name===b)return a._serviceData.serviceregistry[e].endpoint}return""}};return{load:function(b,d,l){e?l(a):k("/serviceregistrylookup/1/service",{handleAs:"json",failOk:!0,method:"GET",timeout:15E3,sync:!d.async}).then(function(b){a._serviceData=b;e=!0;l(a)},function(b){a._serviceData=
{};e=!0;l(a)})}}})},"mw-statemachine/statemachineimpl/TimeoutTrigger":function(){define(["dojo/_base/declare","dojo/_base/lang","mw-log/Log","./Trigger"],function(k,d,e,a){return k(a,{constructor:function(){var a=this.name.split(" ");(2>a.length||"timeout"!==a[0])&&e.error("Invalid trigger name for a TimeoutTrigger. Could not parse out the type of handler.");this.timeoutInSeconds=parseFloat(a[1]);this.handlerType=a[0]},enable:function(){this.disable();this.timeoutHandle=setTimeout(d.hitch(null,this.triggerHandler,
this.name),1E3*this.timeoutInSeconds)},disable:function(){this.timeoutHandle&&(clearTimeout(this.timeoutHandle),this.timeoutHandle=null)}})})},"mw-statemachine/statemachineimpl/Transition":function(){define(["dojo/_base/declare","dojo/_base/lang","mw-log/Log"],function(k,d,e){return k([],{constructor:function(a){this.state={};this.target="";this.action=this.condition=null;k.safeMixin(this,a)},handleTrigger:function(a,b){var d="";this.checkCondition(a,b)&&(this.runAction(a,b),d=this.getTarget(a,this.target,
b));return d},checkCondition:function(a,b){return!this.condition?!0:d.hitch(this.state.context,this.condition).apply(null,[a,this.state.data].concat(b))},runAction:function(a,b){var e;this.action&&(e=d.hitch(this.state.context,this.action),e.apply(null,[a,this.state.data].concat(b)))},getTarget:function(a,b,h){var l,k,g;if(d.isString(b))k=b;else if(d.isFunction(b))b=d.hitch(this.state.context,b),k=b.apply(null,[a,this.state.data].concat(h));else if(d.isArray(b))for(l=0;l<b.length;l+=1){k=this.getTarget(a,
b[l],h);if(d.isString(k)){k={target:k};d.mixin(k,g);break}if(k&&k.target){d.mixin(k,g);break}g=k||{}}else e.warn("Transition: improper target: ",b);return k}})})},"mw-messageservice/messageserviceimpl/MessageServiceState":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/Deferred dojo/promise/all mw-statemachine/StateMachine mw-log/Log".split(" "),function(k,d,e,a,b,h,l){return k([],{_MAX_RETRIES:30,logStateChanges:!1,constructor:function(){this._stateOptions={context:this,name:"WraDataService",
namespace:"MOTW.wra",defaultSubstate:"disconnected",substates:{disconnected:{transitions:{onEnterState:this._enterDisconnected,start:"connecting"}},connecting:{transitions:{onEnterState:this._enterConnecting,_connectSuccess:"resubscribing",_connectFailure:"reconnecting","timeout 10":[this._timeoutAction,"reconnecting"],stop:"disconnected"}},reconnecting:{transitions:{onEnterState:this._enterReconnecting,_connectSuccess:"resubscribing",_connectFailure:[this._retryFailure,"retryDelay"],"timeout 10":[this._timeoutAction,
"reconnecting"],stop:"disconnected"}},retryDelay:{transitions:{"timeout 2":"reconnecting",_reconnect:"reconnecting",stop:"disconnected"}},resubscribing:{transitions:{onEnterState:this._enterResubscribing,_resubscribeSuccess:"connected",_resubscribeFailure:"reconnecting","timeout 10":[this._timeoutAction,"reconnecting"],stop:"disconnecting"}},connected:{transitions:{onEnterState:this._enterConnected,_reconnect:"reconnecting",stop:"disconnecting"}},disconnecting:{transitions:{onEnterState:this._enterDisconnecting,
_disconnectSuccess:"disconnected",_disconnectFailure:"disconnected","timeout 2":"disconnected"}},fatallyDisconnected:{transitions:{onEnterState:this._enterFatallyDisconnected,stop:"disconnected"}}}}},setDelegate:function(a){if(this._delegate!==a){this._delegate=a;var b=this;e.after(a,"onConnectionError",function(){l.warn("MessageService received connection error, reconnecting");b._reconnect()},!0);this._states=new h(this._stateOptions);e.after(this._states,"onEnterState",d.hitch(this,this._enterState),
!0);this._states.start()}},onConnected:function(){},onNewlyConnected:function(){},onDisconnected:function(){},onReconnected:function(){},onFatallyDisconnected:function(){},onNotConnected:function(){},isStarted:function(){return"disconnecting"!==this._currentState&&"disconnected"!==this._currentState},isConnected:function(){return"connected"===this._currentState},isFatallyDisconnected:function(){return"fatallyDisconnected"===this._currentState},isDisconnected:function(){return"disconnected"===this._currentState},
start:function(){},stop:function(){},_enterState:function(a){var b=this._currentState;this._currentState=a;this.logStateChanges&&l.info("MessageService state change: "+b+" -\x3e "+a);if("connected"===b)this.onNotConnected();if("connected"===a&&this._previouslyConnected)this.onReconnected();else if("connected"===a&&!this._previouslyConnected)this.onNewlyConnected()},_enterDisconnected:function(){this._previouslyConnected=!1;this._delegate.cleanup();this.onDisconnected()},_enterConnecting:function(){this._retryCount=
0;this._delegate.connect().then(this._connectSuccess,this._connectFailure)},_enterReconnecting:function(){this._retryCount+=1;l.info("Reconnecting message service. Attempt "+this._retryCount,arguments);this._delegate.cleanup();this._delegate.connect().then(this._connectSuccess,this._connectFailure)},_reconnect:function(){},_connectSuccess:function(){},_connectFailure:function(){},_timeoutAction:function(){this.logStateChanges&&l.info("MessageService timeout:",arguments)},_retryFailure:function(){var a;
this._retryCount>=this._MAX_RETRIES&&(l.error("Message service fatally disconnected."),a="fatallyDisconnected");return a},_enterResubscribing:function(){function a(b){c.push(this._delegate.doSubscribe(b.channel))}var d,f,c=[];this._delegate.doStartBatch();for(d in this.channelSubscriptions)this.channelSubscriptions.hasOwnProperty(d)&&(f=this.channelSubscriptions[d],f.forEach(a,this));this._delegate.doEndBatch();b(c).then(this._resubscribeSuccess,this._resubscribeFailure)},_resubscribeSuccess:function(){},
_resubscribeFailure:function(){},_enterConnected:function(){this._delegate.delegateConnected()?(this._retryCount=0,this._previouslyConnected&&l.info("Successfully connected."),this._previouslyConnected=!0,this.onConnected()):this._reconnect()},_enterFatallyDisconnected:function(){this.onFatallyDisconnected()},_enterDisconnecting:function(){this._delegate.disconnect().then(this._disconnectSuccess,this._disconnectFailure)},_disconnectSuccess:function(){},_disconnectFailure:function(){}})})},"dojo/promise/all":function(){define(["../_base/array",
"../Deferred","../when"],function(k,d,e){var a=k.some;return function(b){var h,l;b instanceof Array?l=b:b&&"object"===typeof b&&(h=b);var k,g=[];if(h){l=[];for(var f in h)Object.hasOwnProperty.call(h,f)&&(g.push(f),l.push(h[f]));k={}}else l&&(k=[]);if(!l||!l.length)return(new d).resolve(k);var c=new d;c.promise.always(function(){k=g=null});var n=l.length;a(l,function(a,b){h||g.push(b);e(a,function(a){c.isFulfilled()||(k[g[b]]=a,0===--n&&c.resolve(k))},c.reject);return c.isFulfilled()});return c.promise}})},
"mw-messageservice/messageserviceimpl/MessageServiceReqResp":function(){define(["dojo/_base/declare","dojo/Deferred","mw-log/Log"],function(k,d,e){return k([],{pollDelay:50,constructor:function(a,b){this.remote=a;this.messageService=b;this.pending=0;a.registerDefaultMessageFactory("OpaqueMessage",function(){this.pending+=1;return{opaqueMessageDOs:[]}},this);a.registerResponseHandler("OpaqueMessageResponse",function(a){this.pending-=1;a.forEach(function(a){try{a.opaqueMessageDOs&&a.opaqueMessageDOs.forEach(b.handleMessage,
b)}catch(d){e.error("Error while handling message: "+d)}});this.poll()},this)},onMessage:function(a){},onConnectionError:function(a){},connect:function(){this.enabled=!0;this.poll();return(new d).resolve()},disconnect:function(){this.enabled=!1;this.timeout&&(clearTimeout(this.timeout),this.timeout=null);return(new d).resolve()},cleanup:function(){},poll:function(){if(this.enabled&&0===this.pending){var a=this;this.timeout=setTimeout(function(){a.pending+=1;a.remote.sendMessage({OpaqueMessage:{opaqueMessageDOs:[]}});
a.timeout=null},this.pollDelay)}},doPublish:function(a,b){clearTimeout(this.timeout);this.timeout=null;this.pending+=1;this.remote.sendMessage({OpaqueMessage:{opaqueMessageDOs:[{channel:a,data:b}]}})},doSubscribe:function(a){},doUnsubscribe:function(a){},doStartBatch:function(){},doEndBatch:function(){}})})},"mw-peermodel/PeerSynchronizer":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect mw-log/Log mw-utils/Utils mw-messageservice/MessageService ./ImageDifferencer ./PagedData ./Serializers".split(" "),
function(k,d,e,a,b,h,l,m,g){var f;f=k(null,{_MAX_RETRIES:3,constructor:function(c,f,k,m,q){this.namespace=c;this.manager=f;this.messageService=k||h.messageService;g.setupSerializers(this.messageService);this._originator={};this.messageCount=0;this.syncEnabled={};this.isClient=void 0===m?!0:!!m;this.clientId="string"===typeof q?q:b.generateUuid();this.imageDifferencer=new l(this._originator);this._queue=[];e.after(this.messageService,"onConnected",d.hitch(this,this._handleConnected));e.after(this.messageService,
"onNotConnected",d.hitch(this,this._handleNotConnected));this.messageService.isConnected()?this._handleConnected():this._handleNotConnected();try{this.addManagerListeners(),this.addMessageSubscriptions()}catch(p){a.error("Not able to create peer synchronizer: "+p)}},remove:function(){this._handleNotConnected();this.removeMessageSubscriptions();this.removeManagerListeners()},_handleNotConnected:function(){this.log("Not connected");this._handshook=this._connected=!1},_handleConnected:function(){this.log("Connected");
this._connected=!0;this._startHandshake()},_startHandshake:function(){this.log("Starting handshake");var a=this.createNewMessage();a.clientId=this.clientId;a.syncEnabled=this.manager.isSyncEnabled();this.publish(this.getChannel("getStatus"),a)},_handshakeComplete:function(){this.log("Handshake complete");this._handshook=!0;this._processQueue()},_processQueue:function(){var a=this._queue;this._queue=[];this.log("Processing queue",a);a.forEach(function(a){this.publish(a.channel,a.message)},this)},shouldSync:function(a){return this.manager.isSyncEnabled()&&
(!a||a.originator!==this._originator)},isReady:function(){return this._connected&&this._handshook},syncChangedObserver:function(){this.syncEnabled[this.clientId]=this.manager.isSyncEnabled();this.manager.isSyncEnabled()?(this.addSyncMessageSubscriptions(),this.addSyncManagerListeners(),this._connected&&this._startHandshake()):(this.removeSyncMessageSubscriptions(),this.removeSyncManagerListeners(),this._handshook=!1)},getStatusSubscriber:function(a){var b=this.createNewMessage();b.syncEnabled=this.manager.isSyncEnabled();
b.clientId=this.clientId;this.publish(this.getChannel("status"),b);this.statusSubscriber(a)},statusSubscriber:function(a){this.log("Status received",a);this.syncEnabled[a.data.clientId]=a.data.syncEnabled;this.isClient&&this.manager.isSyncEnabled()&&this.publish(this.getChannel("getFullUpdate"),this.createNewMessage())},getFullUpdateSubscriber:function(){this.log("getFullUpdate requested");if(this.manager.isSyncEnabled()){var a=this.createNewMessage();this.manager.hasRoot()&&(a.root=this.convertNodesRecursive(this.manager.getRoot(),
0));this.publish(this.getChannel("fullUpdate"),a);this._handshakeComplete()}},fullUpdateSubscriber:function(a){if(this.shouldSync())try{var b=a.data.root;b?(this.manager.hasRoot()&&(b.id!==this.manager.getRoot().getId()||b.type!==this.manager.getRoot().getType())&&this.manager.getRoot().destroy(this._originator),this._handshakeComplete(),this.manager.hasRoot()||this.manager.setRootWithId(b.id,b.type,b.properties,this._originator),this.updateNodeRecursive(this.manager.getRoot(),b)):(this.manager.hasRoot()&&
this.manager.getRoot().destroy(this._originator),this._handshakeComplete())}catch(d){this._error("Error while trying to do a full update.",a,d)}},rootSetObserver:function(a){this.addNodeListeners(a.target);if(this.shouldSync(a)&&this.isReady()){var b=this.createNewMessage();b.target=this.convertNode(a.target);this.publish(this.getChannel(a.type),b)}},rootSetSubscriber:function(a){if(this.shouldSync())try{var b=a.data.target;this.manager.hasRoot()&&this.manager.getRoot().destroy(this._originator);
var d=this.manager.setRootWithId(b.id,b.type,b.properties,this._originator);this.updateNodeRecursive(d,b)}catch(f){this._error("Error setting new root.",a,f)}},rootDestroyedObserver:function(a){if(this.shouldSync(a)&&this.isReady()){var b=this.createNewMessage();b.targetId=a.target.getId();this.publish(this.getChannel(a.type),b)}},rootDestroyedSubscriber:function(a){if(this.shouldSync())try{this.manager.hasRoot()&&this.manager.getRoot().getId()===a.data.targetId?this.manager.getRoot().destroy(this._originator):
this._error("Tried to unset the wrong root.",a)}catch(b){this._error("Error destroying root.",a,b)}},childMovedObserver:function(a){if(this.shouldSync(a)&&this.isReady()){var b=this.createNewMessage();b.targetId=a.target.getId();b.oldParentId=a.data.oldParent.getId();b.oldIndex=a.data.oldIndex;b.newParentId=a.data.newParent.getId();b.newIndex=a.data.newIndex;this.publish(this.getChannel(a.type),b)}},childMovedSubscriber:function(a){if(this.shouldSync())try{var b=a.data,d=this.manager.getById(b.targetId),
f=this.manager.getById(b.newParentId);this.manager.move(d,f,b.newIndex,this._originator)}catch(g){this._error("Error while trying to move.",a,g)}},childAddedObserver:function(a){var b=a.data.child;this.addNodeListeners(b);if(this.shouldSync(a)&&this.isReady()){var d=this.createNewMessage();d.parentId=a.target.getId();d.child=this.convertNode(b);d.index=a.data.index;this.publish(this.getChannel("subTreeAdded"),d)}},subTreeAddedSubscriber:function(a){if(this.shouldSync())try{var b=a.data.child,d=this.manager.getById(a.data.parentId).addChildWithId(b.id,
b.type,b.properties,a.data.index,this._originator);this.updateNodeRecursive(d,b)}catch(f){this._error("Error while trying to add a subtree of nodes.",a,f)}},childDetachedObserver:function(a){if(this.shouldSync(a)&&this.isReady()){var b=this.createNewMessage();b.childId=a.data.child.getId();this.publish(this.getChannel(a.type),b)}},childDetachedSubscriber:function(a){if(this.shouldSync())try{this.manager.getById(a.data.childId).detach(this._originator)}catch(b){this._error("Error while trying to detach.",
a,b)}},childReattachedObserver:function(a){if(this.shouldSync(a)&&this.isReady()){var b=this.createNewMessage();b.childId=a.data.child.getId();b.index=a.data.index;this.publish(this.getChannel(a.type),b)}},childReattachedSubscriber:function(a){if(this.shouldSync())try{var b=a.data;this.manager.getById(b.childId).reattach(b.index,this._originator)}catch(d){this._error("Error while trying to reattach.",a,d)}},subTreeDestroyedObserver:function(a){var b=a.data.child;this.removeNodeListenersRecursive(b);
if(this.shouldSync(a)&&this.isReady()){var d=this.createNewMessage();d.childId=b.getId();this.publish(this.getChannel(a.type),d)}},subTreeDestroyedSubscriber:function(a){if(this.shouldSync())try{this.manager.getById(a.data.childId).destroy(this._originator)}catch(b){this._error("Error while trying to destroy subtree.",a,b)}},propertiesSetObserver:function(a){if(this.shouldSync(a)&&this.isReady()&&!this.isClient){var d=[],f=this.createNewMessage(),g;f.targetId=a.target.getId();var e=a.data.newValues,
h=a.data.oldValues;for(g in e)if(e.hasOwnProperty(g)&&b.isImageData(e[g])){var l=h[g];if(l&&b.isImageData(l)){d.push(g);var k=this.createNewMessage();k.targetId=a.target.getId();k.key=g;k.newValue=this.imageDifferencer.computeImageDataDifferences(l,e[g]);this.publish(this.getChannel("imageUpdate"),f)}}d.forEach(function(b){delete a.data.newValues[b]});f.properties=a.data.newValues;this.publish(this.getChannel(a.type),f)}},propertiesSetSubscriber:function(a){if(this.shouldSync()||this.isClient)try{var b=
a.data,d=this.manager.getById(b.targetId),f;for(f in b.properties)b.properties.hasOwnProperty(f)&&(b.properties[f]instanceof Image?this.imageDifferencer.updatePropertyWithImage(d,f,b.properties[f]):(d.setProperty(f,b.properties[f],this._originator),this._updateNodePagedData(d)))}catch(g){this._error("Error while trying to update properties.",a,g)}},imageUpdateSubscriber:function(a){if(this.shouldSync())try{var b=a.data,d=this.manager.getById(b.targetId);this.imageDifferencer.applyImageDifferences(d,
b.key,b.newValue)}catch(f){this._error("Error while trying to update images.",a,f)}},propertiesUnsetObserver:function(a){if(this.shouldSync(a)&&this.isReady()){var b,d=this.createNewMessage();d.targetId=a.target.getId();d.keys=[];for(b in a.data.oldValues)a.data.oldValues.hasOwnProperty(b)&&d.keys.push(b);this.publish(this.getChannel(a.type),d)}},propertiesUnsetSubscriber:function(a){if(this.shouldSync())try{var b=a.data;this.manager.getById(b.targetId).unsetProperties(b.keys,this._originator)}catch(d){this._error("Error while trying to unset properties.",
a,d)}},peerEventObserver:function(a){var b=this.createNewMessage();b.targetId=a.target.getId();b.data=a.data;var d=this.getChannel(a.type);this.shouldSync(a)&&(this.isReady()?this.publish(d,b):this._queue.push({channel:d,message:b}))},peerEventSubscriber:function(a){if(this.shouldSync())try{var b=a.data,d=this.manager.getById(b.targetId);d.dispatchEvent("peerEvent",d,b.data,this._originator)}catch(f){this._error("Error while trying dispatch a peer event.",a,f)}},publish:function(c,b,d){this.log("Publishing message",
c,b);var f=this.messageService.publish(c,b),g=this;d=void 0===d?this._MAX_RETRIES:d;f.then(void 0,function(){0<d?(a.warn("Error sending message (will retry "+d+"): ",c,b),g.publish(c,b,d-1)):g._error("Error sending message, retry didn't work.",c,b)})},getChannel:function(a){return"/peermodel"+this.namespace+"/"+a},createNewMessage:function(){this.messageCount+=1;return{message:this.messageCount}},log:function(){if(this.namespace===f.debugNamespace){var c=Array.prototype.slice.call(arguments),c=["PeerSynchronizer ("+
this.namespace+")"].concat(c);a.info.apply(a,c)}},convertNodesRecursive:function(a,b){var d=this.convertNode(a,b),f=[],g=a.getChildren(),e;for(e=0;e<g.length;e+=1)f.push(this.convertNodesRecursive(g[e],e));d.children=f;return d},convertNode:function(a,b){b=b||0;return{id:a.getId(),type:a.getType(),index:b,properties:a.getProperties()}},updateNodeRecursive:function(a,b){for(var d,f,g,e,h,l=a?[a]:[],k=b?[b]:[];0<k.length;){a=l.pop();b=k.pop();d=this._getFilteredPropertyKeys(b.properties);if(!a._handled){a._handled=
!0;f=a.getProperties();g=Object.keys(f);h=g.length;for(e=0;e<h;e+=1)d.filtered[g[e]]=f[g[e]]}a.replaceProperties(d.filtered,this._originator);this._updateNodePagedData(a,f);this._updateNodeImageProperties(a,b.properties,d.images);this._destroyOldChildren(a,b);this._addNewChildren(a,b);this._updateChildIndices(a,b);l=l.concat(a.getChildren());b.children&&(k=k.concat(b.children))}},_destroyOldChildren:function(a,b){var d,f=a.getChildren();for(d=0;d<f.length;d+=1)this._dataHasChild(b,f[d])||f[d].destroy(this._originator)},
_addNewChildren:function(a,b){var d,f,g;if(b.children)for(d=0;d<b.children.length;d+=1)f=b.children[d],a.hasChild(f.id)||(g=this._getFilteredPropertyKeys(f.properties),a.addChildWithId(f.id,f.type,g.filtered,d,this._originator))},_updateChildIndices:function(a,b){var d,f;if(b.children)for(d=0;d<b.children.length;d+=1)f=b.children[d],f=a.getChild(f.id),a.getChildIndex(f)!==d&&this.manager.move(f,a,d,this._originator)},_dataHasChild:function(a,b){var d;if(a.children)for(d=0;d<a.children.length;d+=1)if(a.children[d].id===
b.getId()&&a.children[d].type===b.getType())return!0;return!1},_error:function(c,b,d){a.error(c,b,d);this.manager.isSyncEnabled()&&this.isClient&&this.publish(this.getChannel("getFullUpdate"),this.createNewMessage())},_getFilteredPropertyKeys:function(a){var b={},d=[],f;for(f in a)a.hasOwnProperty(f)&&(null!==a[f]&&void 0!==a[f])&&(a[f]instanceof Image?d.push(f):b[f]=a[f]);return{filtered:b,images:d}},_updateNodePagedData:function(a,b){var d;b||(b=a.getProperties());for(d in b)b.hasOwnProperty(d)&&
b[d]instanceof m&&b[d].setPeerNode(a,d)},_updateNodeImageProperties:function(a,b,d){var f;for(f=0;f<d.length;f+=1)this.imageDifferencer.updatePropertyWithImage(a,d[f],b[d[f]])},addMessageSubscriptions:function(){this._messageSubscribed||(this._onConnectedSub=e.after(this.messageService,"onReconnected",d.hitch(this,"syncChangedObserver")),this.messageService.subscribe(this.getChannel("getStatus"),"getStatusSubscriber",this),this._messageSubscribed=!0);this.manager.isSyncEnabled()&&this.addSyncMessageSubscriptions()},
removeMessageSubscriptions:function(){this._messageSubscribed&&(this._onConnectedSub.remove(),this.messageService.unsubscribe(this.getChannel("getStatus"),"getStatusSubscriber",this),this._messageSubscribed=!1);this.removeSyncMessageSubscriptions()},syncMessageChannels:"status getFullUpdate fullUpdate rootSet rootDestroyed childMoved childDetached childReattached subTreeAdded subTreeDestroyed propertiesSet propertiesUnset imageUpdate peerEvent".split(" "),addSyncMessageSubscriptions:function(){this._syncMessageSubscribed||
(this.log("addSyncMessageSubscriptions"),this.syncMessageChannels.forEach(function(a){this.messageService.subscribe(this.getChannel(a),a+"Subscriber",this)},this),this._syncMessageSubscribed=!0)},removeSyncMessageSubscriptions:function(){this._syncMessageSubscribed&&(this.log("removeSyncMessageSubscriptions"),this.syncMessageChannels.forEach(function(a){this.messageService.unsubscribe(this.getChannel(a),a+"Subscriber",this)},this),this._syncMessageSubscribed=!1)},addManagerListeners:function(){this._managerListeners||
(this.manager.addSyncEventListener("syncChanged","syncChangedObserver",this),this._managerListeners=!0);this.manager.isSyncEnabled()&&this.addSyncManagerListeners()},removeManagerListeners:function(){this._managerListeners&&(this.manager.removeSyncEventListener("syncChanged","syncChangedObserver",this),this._managerListeners=!1);this.removeSyncManagerListeners()},addSyncManagerListeners:function(){this._syncManagerListeners||(this.manager.addSyncEventListener("rootSet","rootSetObserver",this),this.manager.addSyncEventListener("rootDestroyed",
"rootDestroyedObserver",this),this.manager.addSyncEventListener("childMoved","childMovedObserver",this),this.manager.hasRoot()&&this.addNodeListenersRecursive(this.manager.getRoot()),this._syncManagerListeners=!0)},removeSyncManagerListeners:function(){this._syncManagerListeners&&(this.manager.removeSyncEventListener("rootSet","rootSetObserver",this),this.manager.removeSyncEventListener("rootDestroyed","rootDestroyedObserver",this),this.manager.removeSyncEventListener("childMoved","childMovedObserver",
this),this.manager.hasRoot()&&this.removeNodeListenersRecursive(this.manager.getRoot()),this._syncManagerListeners=!1)},nodeEvents:"childAdded subTreeDestroyed childDetached childReattached propertiesSet propertiesUnset peerEvent partialUpdate".split(" "),addNodeListeners:function(a){this.nodeEvents.forEach(function(b){a.addSyncEventListener(b,b+"Observer",this)},this)},removeNodeListeners:function(a){this.nodeEvents.forEach(function(b){a.removeSyncEventListener(b,b+"Observer",this)},this)},addNodeListenersRecursive:function(a){this.addNodeListeners(a);
var b=a.getChildren();for(a=0;a<b.length;a+=1)this.addNodeListenersRecursive(b[a])},removeNodeListenersRecursive:function(a){this.removeNodeListeners(a);var b=a.getChildren();for(a=0;a<b.length;a+=1)this.removeNodeListenersRecursive(b[a])}});f.debugNamespace="/change this to debug something";return f})},"mw-peermodel/ImageDifferencer":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-construct mw-utils/Deferred mw-utils/DeferredList mw-log/Log".split(" "),function(k,d,e,a,b,h){return k([],
{_updateQueue:{},constructor:function(a){this._canvas=e.create("canvas");this._context=this._canvas.getContext("2d");this._originator=a},computeImageDataDifferences:function(a,b){return[{x:0,y:0,image:b}]},applyImageDifferences:function(a,d,g){var f,c=g.length,e=this;if(0!==c){var k=this._createQueuedDeferred(a,d);k.name="applyImageDifferences deferred";var s=[];for(f=0;f<c;f+=1)s.push(this._wrapImageInDeferred(g[f].image));f=new b(s,!1,!0,!1);var q=e._updateQueue[a.getId()+d][e._updateQueue[a.getId()+
d].length-2];f.then(function(){q?q.then(function(){e._applyLoadedImageDifferences(a,d,g,k)}):e._applyLoadedImageDifferences(a,d,g,k)},function(){h.log("rejecting deferred applyImageDifferences");k.reject();e._cancelQueuedDeferreds(a,d)});return k}},updatePropertyWithImage:function(a,b,d){var f=this._wrapImageInDeferred(d),c=this._createQueuedDeferred(a,b);c.name="updateImage deferred";var e=this;f.then(function(){e._canvas.width=d.width;e._canvas.height=d.height;e._context.drawImage(d,0,0,d.width,
d.height);var f=e._context.getImageData(0,0,e._canvas.width,e._canvas.height);a.setProperty(b,f,e._originator);e._cancelQueuedDeferreds(a,b,c);c.isCanceled()||c.resolve()},function(){c.isCanceled()||c.reject()});return c},_applyLoadedImageDifferences:function(a,b,d,f){var c=a.getProperty(b);this._canvas.width=c.width;this._canvas.height=c.height;this._context.putImageData(c,0,0);for(c=0;c<d.length;c+=1)this._context.beginPath(),this._context.clearRect(d[c].x,d[c].y,d[c].image.width,d[c].image.height),
this._context.closePath(),this._context.drawImage(d[c].image,d[c].x,d[c].y);d=this._context.getImageData(0,0,this._canvas.width,this._canvas.height);a.setProperty(b,d,this._originator);f.resolve()},_wrapImageInDeferred:function(b){var d=new a;d.name="wrapImage deferred";var g=function(){setTimeout(function(){b.onload&&(d.resolve(),b.onload=null,b.onerror=null)},0)};b.onload=g;b.onerror=function(){h.log("Error loading image");d.reject();b.onload=null;b.onerror=null};b.complete&&0<b.src.length&&g();
return d},_createQueuedDeferred:function(b,e){var g;g=new a;var f=d.hitch(this,this._removeDeferredFromQueue,b,e,g);g.then(f,f);this._updateQueue[b.getId()+e]=this._updateQueue[b.getId()+e]||[];this._updateQueue[b.getId()+e].push(g);return g},_removeDeferredFromQueue:function(a,b,d){d=this._updateQueue[a.getId()+b].indexOf(d);0<=d&&this._updateQueue[a.getId()+b].splice(d,1);0===this._updateQueue[a.getId()+b].length&&(this._updateQueue[a.getId()+b]=void 0,delete this._updateQueue[a.getId()+b])},_cancelQueuedDeferreds:function(a,
b,d){for(var f=this._updateQueue[a.getId()+b];f&&0<f.length;){var c=f.shift();if(d&&c===d)return;c.cancel("Queued deferreds cancelled")}this._updateQueue[a.getId()+b]=void 0;delete this._updateQueue[a.getId()+b]}})})},"mw-utils/Deferred":function(){define([],function(){var k=function(){this._state=0;this._callbacks=[];this._errbacks=[]};k.prototype.then=function(d,e){1===this._state&&d?d():2===this._state&&e?e():(d&&this._callbacks.push(d),e&&this._errbacks.push(e));return this};k.prototype.resolve=
function(){if(0===this._state){for(this._state=1;this._callbacks.length;)this._callbacks.pop()();this._callbacks=[];this._errbacks=[]}};k.prototype.reject=function(){if(0===this._state){for(this._state=2;this._errbacks.length;)this._errbacks.pop()();this._callbacks=[];this._errbacks=[]}};k.prototype.cancel=function(){0===this._state&&(this._state=3,this._callbacks=[],this._errbacks=[])};k.prototype.isCanceled=function(){return 3===this._state};return k})},"mw-utils/DeferredList":function(){define(["./Deferred"],
function(k){var d=function(d){k.apply(this);this._successes=0;this._total=d.length;var a;for(a=0;a<this._total;a+=1)d[a].then(this._callback.bind(this),this.reject.bind(this))};d.prototype=new k;d.prototype.constructor=d;d.prototype._callback=function(){this._successes+=1;this._successes===this._total&&this.resolve()};return d})},"mw-peermodel/PagedData":function(){define(["dojo/_base/declare"],function(k){return k([],{constructor:function(d){d=d||{};this._peerNode=d.peerNode;this._propertyKey=d.propertyKey;
this._partialData=d.partialData||[];this._rowCount=d.rowCount||0;this._columnCount=d.columnCount||0;this._currentStartRow=d.currentStartRow||0;this._currentEndRow=d.currentEndRow||0;this._currentStartCol=d.currentStartCol||0;this._currentEndCol=d.currentEndCol||0;this._queuedOperations=[]},setPeerNode:function(d,e){this._peerNode=d;this._propertyKey=e;var a;for(a=0;a<this._queuedOperations.length;a+=1)this._queuedOperations[a].apply(this);this._queuedOperations=[]},getPartialData:function(){return this._partialData},
getRowCount:function(){return this._rowCount},getColumnCount:function(){return this._columnCount},getCurrentStartRow:function(){return 0<=this._currentStartRow?this._currentStartRow:0},getCurrentEndRow:function(){return this.getCurrentStartRow()+this._partialData.length},getCurrentStartCol:function(){return 0<=this._currentStartCol?this._currentStartCol:0},getCurrentEndCol:function(){return 0<this._partialData.length?Array.isArray(this._partialData[0])?this.getCurrentStartCol()+this._partialData[0].length:
1:0<=this._currentEndCol?this._currentEndCol:0},changeData:function(d,e,a){if(this._peerNode){var b,h;for(b=0;b<a.length;b+=1){var l=this._partialData[d-this._currentStartRow+b],k=a[b];for(h=0;h<k.length;h+=1)l[e-this._currentStartCol+h]=k[h]}var g=this;setTimeout(function(){g._peerNode.dispatchEvent("peerEvent",g._peerNode,{type:"changeData",key:g._propertyKey,startRow:d,startCol:e,newData:a})},0)}else this._queuedOperations.push(function(){this.changeData(d,e,a)})},updatePartialData:function(d,
e,a,b){if(!(d===this._currentStartRow&&a===this._currentStartCol&&e===this._currentEndRow&&b===this._currentEndCol))if(this._peerNode){if("undefined"===typeof a||"undefined"===typeof b)b=a=-1;this._peerNode.dispatchEvent("peerEvent",this._peerNode,{type:"partialUpdate",key:this._propertyKey,startRow:d,startCol:a,endRow:e,endCol:b})}else this._queuedOperations.push(function(){this.updatePartialData(d,e,a,b)})}})})},"mw-peermodel/Serializers":function(){define(["mw-utils/Utils","./PagedData"],function(k,
d){var e={imageSerializer:function(a){this._serializerCanvas||(this._serializerCanvas=document.createElement("canvas"),this._serializerContext=this._serializerCanvas.getContext("2d"));if(this._serializerCanvas.width!==a.width||this._serializerCanvas.height!==a.height)this._serializerCanvas.width=a.width,this._serializerCanvas.height=a.height;this._serializerContext.putImageData(a,0,0);return this._serializerCanvas.toDataURL()},imageDeserializer:function(a){var b=new Image;b.src=a;return b},pagedDataSerializer:function(a){return{rowCount:a.getRowCount(),
columnCount:a.getColumnCount(),currentStartRow:a.getCurrentStartRow(),currentEndRow:a.getCurrentEndRow(),currentStartCol:a.getCurrentStartCol(),currentEndCol:a.getCurrentEndCol(),partialData:a.getPartialData()}},pagedDataDeserializer:function(a){a=e.messageService.deserialize(a);return new d(a)},setupSerializers:function(a){e.messageService=a;a._peerModelSerializersSetup||(a.registerTypeSerializer(k.isImageData,"image",e.imageSerializer),a.registerTypeDeserializer("image",e.imageDeserializer),a.registerTypeSerializer(function(a){return a instanceof
d},"pagedData",e.pagedDataSerializer),a.registerTypeDeserializer("pagedData",e.pagedDataDeserializer));a._peerModelSerializersSetup=!0}};return e})},"mw-peermodel/PeerNode":function(){define("dojo/_base/declare dojo/_base/lang ./Observable ./PeerEventObservable mw-utils/Utils mw-log/Log".split(" "),function(k,d,e,a,b,h){var l=k([a],{getId:function(){},getType:function(){},setProperty:function(a,b,c){},getProperty:function(a){},hasProperty:function(a){},unsetProperty:function(a,b){},setProperties:function(a,
b){},unsetProperties:function(a,b){},replaceProperties:function(a,b){},getProperties:function(){},addChild:function(a,b,c,d){},hasChild:function(a){},getChild:function(a){},getChildIndex:function(a){},getChildren:function(){},hasDescendant:function(a){},getDescendant:function(a){},getNumberOfChildren:function(){},hasDetachedChildren:function(){},getDetachedChildren:function(){},detach:function(a){},reattach:function(a,b){},isDetached:function(){},isAncestorDetached:function(){},destroy:function(a){},
remove:function(){},hasParent:function(){},getParent:function(){},getRoot:function(){},accept:function(a){}}),m;m=k([l,a.Impl,e.Syncable],{constructor:function(a,b,c,e){if(!d.isString(a)||!d.isString(b))throw Error("Node type and ID must be strings");this._type=b;this._id=a;this._idCache=e||{};this._idCache[a]=this;this._properties={};c&&this._setProperties(c,void 0,!0);this._children=[];this._detached=[]},getId:function(){return this._id},getType:function(){return this._type},setProperty:function(a,
b,c){if(null===b||void 0===b)throw Error("Illegal argument. Value must not be null or undefined.");var d=this._setPropertyAndDispatchPropertySetEvent(a,b,c);this._dispatchSinglePropertiesSetEvent(a,d,b,c)},_setPropertyAndDispatchPropertySetEvent:function(a,b,c,d){var e=this._properties[a];e!==b&&(this._properties[a]=b,d||this.dispatchEvent("propertySet",this,{key:a,oldValue:e,newValue:b},c));return e},_dispatchSinglePropertiesSetEvent:function(a,b,c,d){if(b!==c){var e={oldValues:{},newValues:{}};
e.oldValues[a]=b;e.newValues[a]=c;this.dispatchEvent("propertiesSet",this,e,d)}},unsetProperty:function(a,b){var c=this._unsetPropertyAndDispatchPropertyUnsetEvent(a,b);this._dispatchSinglePropertiesUnsetEvent(a,c,b)},unsetProperties:function(a,b){var c={oldValues:{}};a.forEach(function(a){c.oldValues[a]=this._unsetPropertyAndDispatchPropertyUnsetEvent(a,b)},this);this.dispatchEvent("propertiesUnset",this,c,b)},_unsetPropertyAndDispatchPropertyUnsetEvent:function(a,b){var c;this.hasProperty(a)&&(c=
this._properties[a],delete this._properties[a],this.dispatchEvent("propertyUnset",this,{key:a,oldValue:c},b));return c},_dispatchSinglePropertiesUnsetEvent:function(a,b,c){var d={oldValues:{}};d.oldValues[a]=b;this.dispatchEvent("propertiesUnset",this,d,c)},hasProperty:function(a){return this._properties.hasOwnProperty(a)},getProperty:function(a){return this._properties[a]},setProperties:function(a,b){this._setProperties(a,b,!1)},_setProperties:function(a,b,c){var d,e,l;for(d in a)a.hasOwnProperty(d)&&
(e=a[d],(null===e||void 0===e)&&h.warn("Illegal argument. Property value must not be null or undefined. This will become an exception in the future."));var k=!1,m={oldValues:{},newValues:{}};for(d in a)a.hasOwnProperty(d)&&(e=a[d],l=this._setPropertyAndDispatchPropertySetEvent(d,e,b,c),l!==e&&(k=!0,m.oldValues[d]=l,m.newValues[d]=e));k&&!c&&this.dispatchEvent("propertiesSet",this,m,b)},replaceProperties:function(a,b){var c;this.setProperties(a,b);for(c in this._properties)this._properties.hasOwnProperty(c)&&
!a.hasOwnProperty(c)&&this.unsetProperty(c,b)},getProperties:function(){var a,b={};for(a in this._properties)this._properties.hasOwnProperty(a)&&this.hasProperty(a)&&(b[a]=this.getProperty(a));return b},addChild:function(a,b,c,d){"number"===typeof b&&(c=b,b=null);a=m.createNode(a,b,this._idCache);c=this._addChild(a,c);this.dispatchEvent("childAdded",this,{child:a,index:c},d);return a},addChildWithId:function(a,b,c,d,e){a=new m(a,b,c,this._idCache);d=this._addChild(a,d);this.dispatchEvent("childAdded",
this,{child:a,index:d||0},e);return a},hasChild:function(a){if(d.isString(a)){var b,c,e=this._children.length;for(b=0;b<e;b+=1)if(c=this._children[b],c.getId()===a)return!0;return!1}a=this.getChildIndex(a);return 0<=a&&this._children[a]},getChild:function(a){if(d.isString(a)){var b,c,e=this._children.length;for(b=0;b<e;b+=1)if(c=this._children[b],c.getId()===a)return c;throw Error("No child found with id: "+a);}return this._children[a]},getChildIndex:function(a){var b,c=this._children.length;for(b=
0;b<c;b+=1)if(this._children[b].getId()===a.getId())return b;return-1},getChildren:function(){return this._children.map(function(a){return a})},hasDescendant:function(a){var b,c,d=this._children.length;for(b=0;b<d;b+=1)if(c=this._children[b],c.getId()===a||c.hasDescendant(a))return!0;d=this._detached.length;for(b=0;b<d;b+=1)if(c=this._detached[b],c.getId()===a||c.hasDescendant(a))return!0;return!1},getDescendant:function(a){var b,c,d=this._children.length;for(b=0;b<d;b+=1){c=this._children[b];if(c._id===
a)return c;if(c.hasDescendant(a))return c.getDescendant(a)}d=this._detached.length;for(b=0;b<d;b+=1){c=this._detached[b];if(c._id===a)return c;if(c.hasDescendant(a))return c.getDescendant(a)}throw Error("No descendant found with id: "+a);},getNumberOfChildren:function(){return this._children.length},hasDetachedChildren:function(){return 0<this._detached.length},getDetachedChildren:function(){return this._detached.map(function(a){return a})},detach:function(a){if(!this.isDetached()){var b={child:this,
index:this.getParent().getChildIndex(this)},c=this.getParent();this.getParent()._detachChild(this);c.dispatchEvent("childRemoved",c,b,a);c.dispatchEvent("childDetached",c,b,a)}},_detachChild:function(a){this._removeChild(a);this._detached.push(a)},reattach:function(a,b){this.isDetached()&&(a=0<=a?a:this.getParent().getNumberOfChildren(),a=this.getParent()._reattachChild(this,a),this.getParent().dispatchEvent("childReattached",this.getParent(),{child:this,index:a},b))},_reattachChild:function(a,b){var c=
this._detached.indexOf(a);this._detached.splice(c,1);return this._addChild(a,b)},isDetached:function(){return this.hasParent()&&0<=this.getParent().getDetachedChildren().indexOf(this)},isAncestorDetached:function(){return this.hasParent()&&(this.getParent().isDetached()||this.getParent().isAncestorDetached())},destroy:function(a){this.hasParent()&&this.getParent().dispatchEvent("subTreeDestroyed",this.getParent(),{child:this},a);this._destroyNodesRecursive(a)},remove:function(){this.destroy()},_destroyNodesRecursive:function(a){try{this.getChildren().forEach(function(b){b._destroyNodesRecursive(a)});
var b,c;this.hasParent()&&(c=this.getParent(),b=c.getChildIndex(this),c._removeChild(this),this._setParent(null),c.dispatchEvent("childRemoved",c,{child:this,index:b},a),c.dispatchEvent("childDestroyed",c,{child:this,index:b},a));this.dispatchEvent("destroyed",this,void 0,a)}finally{delete this._idCache[this._id]}},hasParent:function(){return!!this._parent},getParent:function(){return this._parent},getRoot:function(){return this.hasParent()?this.getParent().getRoot():this},accept:function(a){a(this);
this._children.forEach(function(b){b.accept(a)});this._detached.forEach(function(b){b.accept(a)})},_addChild:function(a,b){b=this._checkIndex(b);a._setParent(this);this._children.splice(b,0,a);return b},_removeChild:function(a){var b;"number"===typeof a?(b=a,a=this._children[b]):b=this.getChildIndex(a);b=this._checkIndex(b);a&&this._children.splice(b,1)},_checkIndex:function(a){if(void 0===a||null===a)a=this._children.length;return Math.max(0,Math.min(a,this._children.length))},_setParent:function(a){this._parent=
a},toString:function(a){a=a||0;var b,c,d,e="";for(d=0;d<a;d+=1)e+="    ";e+="{id\x3d'"+this._id+"'";e+=", type\x3d'"+this._type+"'";e+=", properties\x3d{";for(c in this._properties)if(this._properties.hasOwnProperty(c)){try{b=dojo.toJson(this._properties[c])}catch(h){b=this._properties[c].toString()}40<b.length&&(b=b.slice(0,40)+"...");e+=c+": "+b+", "}e=e.slice(0,e.length-2);e+="}, children\x3d[";for(d=0;d<this._children.length;d+=1)e+="\n"+this._children[d].toString(a+1);e+="], detached\x3d[";for(d=
0;d<this._detached.length;d+=1)e+="\n"+this._detached[d].toString(a+1);return e+"]}"},equals:function(a){var b;if(!a)return!1;if(this===a)return!0;if(this._id!==a._id)return!1;if(this._parent&&a._parent){if(this._parent.getId()!==a._parent.getId())return!1}else if(this._parent!==a._parent)return!1;if(!this._propertiesEqual(this,a)||this._type!==a._type||this._children.length!==a._children.length||this._detached.length!==a._detached.length)return!1;for(b=0;b<this._children.length;b+=1)if(!this._children[b].equals(a._children[b]))return!1;
for(b=0;b<this._detached.length;b+=1)if(!this._detached[b].equals(a._detached[b]))return!1;return!0},_propertiesEqual:function(a,b){return a._properties!==b._properties?!1:!0}});l.createNode=m.createNode=function(a,d,c){var e=b.generateUuid();return new m(e,a,d,c)};l.Impl=m;return l})},"mw-peermodel/Observable":function(){define(["dojo/_base/declare","dojo/_base/lang","mw-log/Log"],function(k,d,e){var a=k([],{addEventListener:function(a,d,e){},removeEventListener:function(a,d,e){},hasEventListener:function(a,
d,e){},dispatchEvent:function(a,d,e,k){}});a.Syncable=k([],{addSyncEventListener:function(a,d,e){},removeSyncEventListener:function(a,d,e){}});a.Impl=k([a,a.Syncable],{constructor:function(){this._listeners={};this._syncListeners={}},addEventListener:function(a,d,e){this._addEventListener(this._listeners,a,d,e)},addSyncEventListener:function(a,d,e){this._addEventListener(this._syncListeners,a,d,e)},_addEventListener:function(a,d,e,k){k=k||this;a[d]=a[d]||[];var g={scope:k,callback:e};0>this._getEventListenerIndex(a,
d,e,k)&&a[d].push(g)},hasEventListener:function(a,d,e){return 0<=this._getEventListenerIndex(this._listeners,a,d,e)},removeEventListener:function(a,d,e){this._removeEventListener(this._listeners,a,d,e)},removeSyncEventListener:function(a,d,e){this._removeEventListener(this._syncListeners,a,d,e)},_removeEventListener:function(a,d,e,k){e=this._getEventListenerIndex(a,d,e,k||this);if(0<=e)a[d].splice(e,1);else throw Error("Listener does not exist");},_getEventListenerIndex:function(a,d,e,k){k=k||this;
if(a=a[d]){var g=a.length;for(d=0;d<g;d+=1)if(a[d].scope===k&&a[d].callback===e)return d}return-1},dispatchEvent:function(a,d,e,k){this._dispatchEvent(this._syncListeners,a,d,e,k);this._dispatchEvent(this._listeners,a,d,e,k)},_dispatchEvent:function(a,h,k,m,g){if(void 0!==m&&(d.isArray(m)||d.isString(m)||null===m||"number"===typeof m||"boolean"===typeof m))throw Error("Invalid event data, must be object");var f=a[h];if(f){var f=f.slice(0),c=f.length;for(a=0;a<c;a+=1)try{var n={type:h,target:k||this,
data:m||{},originator:g};"string"===typeof f[a].callback?f[a].scope[f[a].callback].call(f[a].scope,n):f[a].callback.call(f[a].scope,n)}catch(r){e.error("Error while dispatching event handler of type: "+h+", message: "+r)}}}});return a})},"mw-peermodel/PeerEventObservable":function(){define(["dojo/_base/declare","./Observable"],function(k,d){var e=k([d],{addPeerEventListener:function(a,b,d){},removePeerEventListener:function(a,b,d){},hasPeerEventListener:function(a,b,d){},dispatchPeerEvent:function(a,
b,d,e){}});e.Impl=k([d.Impl],{addPeerEventListener:function(a,b,d){var e=function(e){e.data.type&&e.data.type===a&&b.call(d,e)};e.type=a;e.callback=b;e.scope=d;this.addEventListener("peerEvent",e)},hasPeerEventListener:function(a,b,d){return!!this._getPeerEventObserver(a,b,d)},removePeerEventListener:function(a,b,d){if(a=this._getPeerEventObserver(a,b,d))this.removeEventListener("peerEvent",a.callback,a.scope);else throw Error("Listener does not exist");},_getPeerEventObserver:function(a,b,d){return this._listeners.peerEvent?
this._listeners.peerEvent.filter(function(e){return e.callback.callback&&e.callback.type===a&&e.callback.callback===b&&e.callback.scope===d})[0]:null},dispatchPeerEvent:function(a,b,d,e){d||(d={});d.type=a;this.dispatchEvent("peerEvent",b,d,e)}});return e})},"mw-peermodel/_PeerModelListenerMixin":function(){define(["dojo/_base/declare"],function(k){return k([],{start:function(d){d=d||this.manager;d.setSyncEnabled(!0)},stop:function(d){d=d||this.manager;d.setSyncEnabled(!1)},addManagerListeners:function(d){d=
d||this.manager;d.addEventListener("rootSet",this.rootSetObserver,this);d.addEventListener("rootUnset",this.rootUnsetObserver,this);d.addEventListener("childMoved",this.childMovedObserver,this)},removeManagerListeners:function(d){d=d||this.manager;d.removeEventListener("rootSet",this.rootSetObserver,this);d.removeEventListener("rootUnset",this.rootUnsetObserver,this);d.removeEventListener("childMoved",this.childMovedObserver,this)},addNodeListeners:function(d){d.addEventListener("childAdded",this.childAddedObserver,
this);d.addEventListener("childDestroyed",this.childDestroyedObserver,this);d.addEventListener("propertySet",this.propertySetObserver,this);d.addEventListener("peerEvent",this.peerEventObserver,this)},removeNodeListeners:function(d){d.removeEventListener("childAdded",this.childAddedObserver,this);d.removeEventListener("childDestroyed",this.childDestroyedObserver,this);d.removeEventListener("propertySet",this.propertySetObserver,this);d.removeEventListener("peerEvent",this.peerEventObserver,this)},
rootSetObserver:function(d){this.addNodeListeners(d.target)},rootUnsetObserver:function(d){this.removeNodeListeners(d.target)},childMovedObserver:function(d){this.onChildMove(d)},childAddedObserver:function(d){this.addNodeListeners(d.data.child);this.onChildAdd(d)},childDestroyedObserver:function(d){this.removeNodeListeners(d.data.child);this.onChildDestroy(d)},propertySetObserver:function(d){this.onPropertySet(d)},peerEventObserver:function(d){this.onPeerEvent(d)},onPeerEvent:function(d){},onChildAdd:function(d){},
onChildDestroy:function(d){},onPropertySet:function(d){},onChildMove:function(d){}})})},"mw-peermodel/_PropertyIndexerMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/aspect"],function(k,d,e){return k([],{constructor:function(){this._propertyIndexMap={};e.before(this,"onChildAdd",d.hitch(this,function(a){var b=a.data.child.getProperty(this._propertyToIndex);b&&(this._propertyIndexMap[b]=a.data.child.getId())}));e.before(this,"onPropertySet",d.hitch(this,function(a){a.data.key===
this._propertyToIndex&&a.data.newValue&&(this._propertyIndexMap[a.data.newValue]=a.target.getId())}));e.before(this,"onChildDestroy",d.hitch(this,function(a){delete this._propertyIndexMap[a.data.child.getProperty(this._propertyToIndex)]}))},_getPeerNodeIdForIndexedProperty:function(a){return this._propertyIndexMap[a]}})})},"mw-filebrowser/actions/Action":function(){define(["dojo/_base/declare","dojo/_base/lang"],function(k,d){return k(null,{label:"",keyCode:!1,shortcut:"",constructor:function(e){d.mixin(this,
e)},isApplicableTo:function(d){return!1},callback:function(){},section:{id:"MISC",name:"MISC",allowSubMenu:!1,forceSubMenu:!1}})})},"mw-filebrowser/columns/NameColumn":function(){define("dojo/_base/declare dojo/dom-class dojo/i18n!../l10n/nls/FileBrowserResources dgrid/editor dgrid/tree dijit/form/ValidationTextBox ./helpers/FileIconUtils ./helpers/NameComparator".split(" "),function(k,d,e,a,b,h,l,m){return k([],{constructor:function(g){this.column=b(a({id:"nameColumn",label:e.name,field:"name",renderHeaderCell:function(a){var b=
document.createElement("div");b.className="columnHeaderLabel";var d=document.createTextNode(e.name);b.appendChild(d);a.appendChild(b)},renderCell:function(a,b,e,g){b=document.createElement("span");b.className="dgrid-cell-data";"group"!==a.type&&(e=document.createElement("span"),e.id=l.ICON_PLACE_HOLDER,e.className=l.getIconClass(a,this.grid._expanded[a.path]),b.appendChild(e));e=document.createTextNode(a.name);b.appendChild(e);"group"===a.type&&d.add(b,"group");if(a=l.getInfoLabel(a))e=document.createElement("span"),
e.className="infoLabel",e.innerText=a,b.appendChild(e);return b},shouldExpand:function(a,b,d){return"group"===a.data.type?!0:d},canEdit:function(a){return a&&!a.isGroupHeader},expandOn:".dgrid-expando-icon:click",editor:h,editorArgs:{style:"width:100%;",trim:!0,required:!0},editOn:"renameEvent",sortable:!0,sort:function(a,b){return a.isDirectory||b.isDirectory?m.separateFoldersFromFiles(a,b):m.caseSensitiveStringComparator(a.name,b.name)},unhidable:!0,reorderable:!1,setSharedOverlayIcon:l.setSharedOverlayIcon,
setNodeClassName:l.setNodeClassName}))}})})},"dgrid/editor":function(){define("dojo/_base/kernel dojo/_base/lang dojo/_base/array dojo/_base/Deferred dojo/on dojo/aspect dojo/has dojo/query dojo/when ./Grid put-selector/put dojo/_base/sniff".split(" "),function(k,d,e,a,b,h,l,m,g,f,c){function n(a,b){a.value=b;if("radio"==a.type||"checkbox"==a.type)a.checked=a.defaultChecked=!!b}function r(a,b){if("number"==typeof b)a=isNaN(a)?a:parseFloat(a);else if("boolean"==typeof b)a="true"==a?!0:"false"==a?!1:
a;else if(b instanceof Date){var c=new Date(a);a=isNaN(c.getTime())?a:c}return a}function s(a,c,d,f,e){var g,h,k;if((d&&d.valueOf())!=(f&&f.valueOf())&&(g=c.element,h=c.row,k=c.column,k.field&&h))if(c={grid:a,cell:c,rowId:h.id,oldValue:d,value:f,bubbles:!0,cancelable:!0},e&&e.type&&(c.parentType=e.type),b.emit(g,"dgrid-datachange",c))a.updateDirty?(a.updateDirty(h.id,k.field,f),k.autoSave&&setTimeout(function(){a._trackError("save")},0)):h.data[k.field]=f;else{var l;(l=g.widget)?(l._dgridIgnoreChange=
!0,l.set("value",d),setTimeout(function(){l._dgridIgnoreChange=!1},0)):(l=g.input)&&n(l,d);return d}return f}function q(a,b,c){var d=a.cell(b.domNode||b),f=d.column,e,g;g=a._activeCell;if(!b.isValid||b.isValid())if(c=s(a,d,g?a._activeValue:b._dgridLastValue,"function"==typeof b.get?r(b.get("value")):r(b["checkbox"==b.type||"radio"==b.type?"checked":"value"]),c),g?a._activeValue=c:b._dgridLastValue=c,"radio"===b.type&&b.name&&!f.editOn&&f.field)for(e in g=a.row(b),m("input[type\x3dradio][name\x3d"+
b.name+"]",a.contentNode).forEach(function(c){var d=a.row(c);c!==b&&c._dgridLastValue&&(c._dgridLastValue=!1,a.updateDirty?a.updateDirty(d.id,f.field,!1):d.data[f.field]=!1)}),a.dirty)g.id!==e&&a.dirty[e][f.field]&&a.updateDirty(e,f.field,!1)}function p(a){var f=a.editor,e=a.editOn,g=a.grid,h="string"!=typeof f,k,m,n;k=a.editorArgs||{};"function"==typeof k&&(k=k.call(g,a));if(h)m=new f(k),a=m.focusNode||m.domNode,a.className+=" dgrid-input",m.connect(m,e?"onBlur":"onChange",function(){m._dgridIgnoreChange||
q(g,this,{type:"widget"})});else if(n=function(a){var b=a.target;"_dgridLastValue"in b&&-1<b.className.indexOf("dgrid-input")&&q(g,b,a)},a.grid._hasInputListener||(g._hasInputListener=!0,g.on("change",function(a){n(a)})),m=a=c(("textarea"==f?"textarea":"input[type\x3d"+f+"]")+".dgrid-input",d.mixin({name:a.field,tabIndex:isNaN(a.tabIndex)?-1:a.tabIndex},k)),9>l("ie")||l("ie")&&l("quirks"))"radio"==f||"checkbox"==f?b(m,"click",function(a){n(a)}):b(m,"change",function(a){n(a)});return m}function t(a,
e){function g(){var a=k._activeCell;s.blur();"function"===typeof k.focus&&setTimeout(function(){k.focus(a)},m&&9>l("ie")?15:0)}var h=p(a),k=a.grid,m=h.domNode,r=h.domNode||h,s=h.focusNode||r,t=m?function(){h.set("value",h._dgridLastValue)}:function(){n(h,h._dgridLastValue);q(a.grid,h)};b(s,"keydown",function(b){b=b.keyCode||b.which;27==b?(t(),k._activeValue=h._dgridLastValue,g()):13==b&&!1!==a.dismissOnEnter&&g()});(a._editorBlurHandle=b.pausable(h,"blur",function(){var e=r.parentNode,g=e.children.length-
1,l={alreadyHooked:!0},m=k.cell(r);b.emit(m.element,"dgrid-editor-hide",{grid:k,cell:m,column:a,editor:h,bubbles:!0,cancelable:!1});a._editorBlurHandle.pause();e.removeChild(r);if(m.row){for(c(m.element,"!dgrid-cell-editing");g--;)c(e.firstChild,"!");f.appendIfNode(e,a.renderCell(a.grid.row(e).data,k._activeValue,e,k._activeOptions?d.delegate(l,k._activeOptions):l))}k._focusedEditorCell=k._activeCell=k._activeValue=k._activeOptions=null})).pause();return h}function u(a,b,d,f){var e=a.domNode;e||n(a,
f);d.innerHTML="";c(d,".dgrid-cell-editing");c(d,a.domNode||a);e&&!b.editOn?b.grid._editorsPendingStartup.push([a,b,d,f]):v(a,b,d,f)}function v(a,c,d,f){var e=c.grid;a.domNode&&(a._started||a.startup(),a._dgridIgnoreChange=!0,a.set("value",f),setTimeout(function(){a._dgridIgnoreChange=!1},0));a._dgridLastValue=f;e._activeCell&&(e._activeValue=f,b.emit(d,"dgrid-editor-show",{grid:e,cell:e.cell(d),column:c,editor:a,bubbles:!0,cancelable:!1}))}function w(a){for(var b=a._editorsPendingStartup,c=b.length;c--;)v.apply(null,
b[c]);a._editorsPendingStartup=[]}function x(b){function c(a){f.grid._activeCell=e;u(f.editorInstance,f,e,k);f._editTimer=setTimeout(function(){l.focus&&l.focus();f._editorBlurHandle&&f._editorBlurHandle.resume();f._editTimer=null;a.resolve(l)},0)}var d,f,e,g,h,k,l,m;b.column||(b=this.cell(b));if(!b||!b.element)return null;f=b.column;h=f.field;e=b.element.contents||b.element;if(l=f.editorInstance){if(f.grid._activeCell!=e&&(d=b.row,k=(g=this.dirty&&this.dirty[d.id])&&h in g?g[h]:f.get?f.get(d.data):
d.data[h],!f.canEdit||f.canEdit(b.row.data,k)))return m=new a,b=l.domNode||l,b.offsetWidth?(b.blur(),setTimeout(function(){c(m)},0)):c(m),m.promise}else if(f.editor&&(l=e.widget||e.input))return m=new a,l.focus&&l.focus(),m.resolve(l),m.promise;return null}return function(a,c,d){function l(a){var c=a.grid,d,f;c.edit||(c.edit=x,c._editorsPendingStartup=[],n.push(b(c.domNode,".dgrid-input:focusin",function(){c._focusedEditorCell=c.cell(this)})),d=c._editorFocusoutHandle=b.pausable(c.domNode,".dgrid-input:focusout",
function(){c._focusedEditorCell=null}),n.push(d),n.push(h.before(c,"removeRow",function(a){var b=c._focusedEditorCell;a=c.row(a);b&&b.row.id===a.id&&(f=b,d.pause(),setTimeout(function(){d.resume();f=null},0))})),n.push(h.after(c,"insertRow",function(a){var b=c.row(a);f&&f.row.id===b.id&&c.edit(c.cell(b,f.column.id));return a})),n.push(h.after(c,"renderArray",function(a){g(a,function(a){a.length?w(c):c._editorsPendingStartup=[]});return a})),n.push(h.after(c,"_onNotification",function(){w(c)})))}var m=
a.renderCell||f.defaultRenderCell,n=[],r;a||(a={});a.editor=c=c||a.editor||"text";a.editOn=d=d||a.editOn;r="string"!=typeof c;a.widgetArgs&&(k.deprecated("column.widgetArgs","use column.editorArgs instead","dgrid 0.4"),a.editorArgs=a.widgetArgs);h.after(a,"init",d?function(){l(a);a.editorInstance=t(a,m)}:function(){var b=a.grid;l(a);r&&n.push(h.before(b,"removeRow",function(c){if(c=(c=b.cell(c,a.id).element)&&(c.contents||c).widget)b._editorFocusoutHandle.pause(),c.destroyRecursive()}))});h.after(a,
"destroy",function(){e.forEach(n,function(a){a.remove()});a._editorBlurHandle&&a._editorBlurHandle.remove();a._editTimer&&clearTimeout(a._editTimer);d&&r&&a.editorInstance.destroyRecursive();a.grid.edit=null;a.grid._editorsPendingStartup=null});a.renderCell=d?function(c,f,e,g){var h=a.grid;if(!g||!g.alreadyHooked)b("TD"==e.tagName?e:e.parentNode,d,function(){h._activeOptions=g;h.edit(this)});return m.call(a,c,f,e,g)}:function(b,c,d,f){if(!a.canEdit||a.canEdit(b,c))b=p(a),u(b,a,d,c),d[r?"widget":"input"]=
b;else return m.call(a,b,c,d,f)};return a}})},"dgrid/tree":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/Deferred dojo/query dojo/on dojo/aspect ./util/has-css3 ./Grid ./util/touch put-selector/put".split(" "),function(k,d,e,a,b,h,l,m,g,f){function c(a,b,c,d){d=this.grid.isRTL?"right":"left";var e=".dgrid-expando-icon";b&&(e+=".ui-icon.ui-icon-triangle-1-"+(c?"se":"e"));a=f("div"+e+"[style\x3dmargin-"+d+": "+a*(this.indentWidth||9)+"px; float: "+d+"]");a.innerHTML="\x26nbsp;";
return a}function n(a){var b=this,c=this.style.height;c&&(this.style.display="0px"==c?"none":"block");a&&(f(this,".dgrid-tree-resetting"),setTimeout(function(){f(b,"!dgrid-tree-resetting")}));this.style.height=""}function r(k){var r=k.renderCell||m.defaultRenderCell,p,t;k||(k={});k.shouldExpand=k.shouldExpand||function(a,b,c){return c};h.after(k,"init",function(){var m=k.grid,r=".dgrid-content .dgrid-column-"+k.id,q=[];m.cleanEmptyObservers=!1;if(!m.store)throw Error("dgrid tree column plugin requires a store to operate.");
k.renderExpando||(k.renderExpando=c);q.push(m.on(k.expandOn||".dgrid-expando-icon:click,"+r+":dblclick,"+r+":keydown",function(a){var b=m.row(a);(!m.store.mayHaveChildren||m.store.mayHaveChildren(b.data))&&(("keydown"!=a.type||32==a.keyCode)&&!("dblclick"==a.type&&t&&1<t.count&&b.id==t.id&&-1<a.target.className.indexOf("dgrid-expando-icon")))&&m.expand(b);-1<a.target.className.indexOf("dgrid-expando-icon")&&(t&&t.id==m.row(a).id?t.count++:t={id:m.row(a).id,count:1})}));l("touch")&&q.push(m.on(g.selector(r,
g.dbltap),function(){m.expand(this)}));m._expanded||(m._expanded={});q.push(h.after(m,"insertRow",function(a){var b=this.row(a);k.shouldExpand(b,p,this._expanded[b.id])&&this.expand(a,!0,!0);return a}));q.push(h.before(m,"removeRow",function(b,c){var d=b.connected;d&&(a("\x3e.dgrid-row",d).forEach(function(a){m.removeRow(a,!0)}),c||f(d,"!"))}));k.collapseOnRefresh&&q.push(h.after(m,"cleanup",function(){this._expanded={}}));m._calcRowHeight=function(a){var b=a.connected;return a.offsetHeight+(b?b.offsetHeight:
0)};m.expand=function(c,d,g){var h=c.element?c:m.row(c),r=l("transitionend");c=new e;var q=c.promise;c.resolve();c=h.element;c=-1<c.className.indexOf("dgrid-expando-icon")?c:a(".dgrid-expando-icon",c)[0];g=g||!1===k.enableTransitions;if(c&&c.mayHaveChildren&&(g||d!==!!this._expanded[h.id])){var t=void 0===d?!this._expanded[h.id]:d;f(c,".ui-icon-triangle-1-"+(t?"se":"e")+"!ui-icon-triangle-1-"+(t?"e":"se"));d=h.element;var p=d.connected,v,w,I={originalQuery:this.query};if(!p){var p=I.container=d.connected=
f(d,"+div.dgrid-tree-container"),K=function(a){return m.store.getChildren(h.data,a)};k.allowDuplicates&&(I.parentId=h.id);"level"in c&&(K.level=c.level);q=q.then(function(){if(m.renderQuery)return m.renderQuery(K,I);var a=f(p,"div"),b=m.renderArray(K(I),a,"level"in K?{queryLevel:K.level}:{});e.when(b,function(){f(a,"!")});return b});r?b(p,r,n):n.call(p)}p.hidden=!t;v=p.style;!r||g?(v.display=t?"block":"none",v.height=""):(t?(v.display="block",w=p.scrollHeight,v.height="0px"):(f(p,".dgrid-tree-resetting"),
v.height=p.scrollHeight+"px"),setTimeout(function(){f(p,"!dgrid-tree-resetting");v.height=t?w?w+"px":"auto":"0px"}));t?this._expanded[h.id]=!0:delete this._expanded[h.id]}return q};h.after(k,"destroy",function(){d.forEach(q,function(a){a.remove()});delete m.expand;delete m._calcRowHeight})});k.renderCell=function(a,b,c,d){var e=k.grid,g=Number(d&&d.queryLevel)+1,h=!e.store.mayHaveChildren||e.store.mayHaveChildren(a),l=d.parentId,g=p=isNaN(g)?0:g,e=k.renderExpando(g,h,e._expanded[(l?l+"-":"")+e.store.getIdentity(a)],
a);e.level=g;e.mayHaveChildren=h;(a=r.call(k,a,b,c,d))&&a.nodeType?(f(c,e),f(c,a)):c.insertBefore(e,c.firstChild)};return k}r.defaultRenderExpando=c;return r})},"dijit/form/ValidationTextBox":function(){define("dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/i18n ./TextBox ../Tooltip dojo/text!./templates/ValidationTextBox.html dojo/i18n!./nls/validate".split(" "),function(k,d,e,a,b,h,l){var m=k("dijit.form.ValidationTextBox",b,{templateString:l,required:!1,promptMessage:"",invalidMessage:"$_unset_$",
missingMessage:"$_unset_$",message:"",constraints:{},pattern:".*",regExp:"",regExpGen:function(){},state:"",tooltipPosition:[],_deprecateRegExp:function(a,b){b!=m.prototype[a]&&(d.deprecated("ValidationTextBox id\x3d"+this.id+", set('"+a+"', ...) is deprecated.  Use set('pattern', ...) instead.","","2.0"),this.set("pattern",b))},_setRegExpGenAttr:function(a){this._deprecateRegExp("regExpGen",a);this._set("regExpGen",this._computeRegexp)},_setRegExpAttr:function(a){this._deprecateRegExp("regExp",a)},
_setValueAttr:function(){this.inherited(arguments);this._refreshState()},validator:function(a,b){return RegExp("^(?:"+this._computeRegexp(b)+")"+(this.required?"":"?")+"$").test(a)&&(!this.required||!this._isEmpty(a))&&(this._isEmpty(a)||void 0!==this.parse(a,b))},_isValidSubset:function(){return 0==this.textbox.value.search(this._partialre)},isValid:function(){return this.validator(this.textbox.value,this.get("constraints"))},_isEmpty:function(a){return(this.trim?/^\s*$/:/^$/).test(a)},getErrorMessage:function(){var a=
"$_unset_$"==this.invalidMessage?this.messages.invalidMessage:!this.invalidMessage?this.promptMessage:this.invalidMessage,b="$_unset_$"==this.missingMessage?this.messages.missingMessage:!this.missingMessage?a:this.missingMessage;return this.required&&this._isEmpty(this.textbox.value)?b:a},getPromptMessage:function(){return this.promptMessage},_maskValidSubsetError:!0,validate:function(a){var b="",c=this.disabled||this.isValid(a);c&&(this._maskValidSubsetError=!0);var d=this._isEmpty(this.textbox.value),
e=!c&&a&&this._isValidSubset();this._set("state",c?"":((!this._hasBeenBlurred||a)&&d||e)&&(this._maskValidSubsetError||e&&!this._hasBeenBlurred&&a)?"Incomplete":"Error");this.focusNode.setAttribute("aria-invalid","Error"==this.state?"true":"false");"Error"==this.state?(this._maskValidSubsetError=a&&e,b=this.getErrorMessage(a)):"Incomplete"==this.state?(b=this.getPromptMessage(a),this._maskValidSubsetError=!this._hasBeenBlurred||a):d&&(b=this.getPromptMessage(a));this.set("message",b);return c},displayMessage:function(a){a&&
this.focused?h.show(a,this.domNode,this.tooltipPosition,!this.isLeftToRight()):h.hide(this.domNode)},_refreshState:function(){this._created&&this.validate(this.focused);this.inherited(arguments)},constructor:function(a){this.constraints=e.clone(this.constraints);this.baseClass+=" dijitValidationTextBox"},startup:function(){this.inherited(arguments);this._refreshState()},_setConstraintsAttr:function(a){!a.locale&&this.lang&&(a.locale=this.lang);this._set("constraints",a);this._refreshState()},_setPatternAttr:function(a){this._set("pattern",
a);this._refreshState()},_computeRegexp:function(a){var b=this.pattern;"function"==typeof b&&(b=b.call(this,a));if(b!=this._lastRegExp){var c="";this._lastRegExp=b;".*"!=b&&b.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(a){switch(a.charAt(0)){case "{":case "+":case "?":case "*":case "^":case "$":case "|":case "(":c+=a;break;case ")":c+="|$)";break;default:c+="(?:"+a+"|$)"}});try{"".search(c)}catch(d){c=this.pattern}this._partialre="^(?:"+c+")$"}return b},postMixInProperties:function(){this.inherited(arguments);
this.messages=a.getLocalization("dijit.form","validate",this.lang);this._setConstraintsAttr(this.constraints)},_setDisabledAttr:function(a){this.inherited(arguments);this._refreshState()},_setRequiredAttr:function(a){this._set("required",a);this.focusNode.setAttribute("aria-required",a);this._refreshState()},_setMessageAttr:function(a){this._set("message",a);this.displayMessage(a)},reset:function(){this._maskValidSubsetError=!0;this.inherited(arguments)},_onBlur:function(){this.displayMessage("");
this.inherited(arguments)},destroy:function(){h.hide(this.domNode);this.inherited(arguments)}});return m})},"dijit/form/TextBox":function(){define("dojo/_base/declare dojo/dom-construct dojo/dom-style dojo/_base/kernel dojo/_base/lang dojo/on dojo/sniff ./_FormValueWidget ./_TextBoxMixin dojo/text!./templates/TextBox.html ../main ../_mw/utils/deprecation".split(" "),function(k,d,e,a,b,h,l,m,g,f,c,n){n.deprecated({deprecated:{module:"dijit/form/TextBox"},replacement:{module:"MW/form/TextField"},geckNumber:1352405});
m=k("dijit.form.TextBox"+(l("dojo-bidi")?"_NoBidi":""),[m,g],{templateString:f,_singleNodeTemplate:'\x3cinput class\x3d"dijit dijitReset dijitLeft dijitInputField" data-dojo-attach-point\x3d"textbox,focusNode" autocomplete\x3d"off" type\x3d"${type}" ${!nameAttrSetting} /\x3e',_buttonInputDisabled:l("ie")?"disabled":"",baseClass:"dijitTextBox",postMixInProperties:function(){var a=this.type.toLowerCase();if(this.templateString&&"input"==this.templateString.toLowerCase()||("hidden"==a||"file"==a)&&this.templateString==
this.constructor.prototype.templateString)this.templateString=this._singleNodeTemplate;this.inherited(arguments)},postCreate:function(){this.inherited(arguments);9>l("ie")&&this.defer(function(){try{var a=e.getComputedStyle(this.domNode);if(a){var b=a.fontFamily;if(b){var c=this.domNode.getElementsByTagName("INPUT");if(c)for(a=0;a<c.length;a++)c[a].style.fontFamily=b}}}catch(d){}})},_setPlaceHolderAttr:function(a){this._set("placeHolder",a);this._phspan||(this._attachPoints.push("_phspan"),this._phspan=
d.create("span",{className:"dijitPlaceHolder dijitInputField"},this.textbox,"after"),this.own(h(this._phspan,"mousedown",function(a){a.preventDefault()}),h(this._phspan,"touchend, pointerup, MSPointerUp",b.hitch(this,function(){this.focus()}))));this._phspan.innerHTML="";this._phspan.appendChild(this._phspan.ownerDocument.createTextNode(a));this._updatePlaceHolder()},_onInput:function(a){this.inherited(arguments);this._updatePlaceHolder()},_updatePlaceHolder:function(){this._phspan&&(this._phspan.style.display=
this.placeHolder&&!this.textbox.value?"":"none")},_setValueAttr:function(a,b,c){this.inherited(arguments);this._updatePlaceHolder()},getDisplayedValue:function(){a.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use get('displayedValue') instead.","","2.0");return this.get("displayedValue")},setDisplayedValue:function(b){a.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0");this.set("displayedValue",b)},_onBlur:function(a){this.disabled||
(this.inherited(arguments),this._updatePlaceHolder(),l("mozilla")&&this.selectOnClick&&(this.textbox.selectionStart=this.textbox.selectionEnd=void 0))},_onFocus:function(a){!this.disabled&&!this.readOnly&&(this.inherited(arguments),this._updatePlaceHolder())}});9>l("ie")&&(m.prototype._isTextSelected=function(){var a=this.ownerDocument.selection.createRange();return a.parentElement()==this.textbox&&0<a.text.length},c._setSelectionRange=g._setSelectionRange=function(a,b,c){a.createTextRange&&(a=a.createTextRange(),
a.collapse(!0),a.moveStart("character",-99999),a.moveStart("character",b),a.moveEnd("character",c-b),a.select())});l("dojo-bidi")&&(m=k("dijit.form.TextBox",m,{_setPlaceHolderAttr:function(a){this.inherited(arguments);this.applyTextDir(this._phspan)}}));return m})},"dijit/form/_FormValueWidget":function(){define(["dojo/_base/declare","dojo/sniff","./_FormWidget","./_FormValueMixin"],function(k,d,e,a){return k("dijit.form._FormValueWidget",[e,a],{_layoutHackIE7:function(){if(7==d("ie"))for(var a=this.domNode,
e=a.parentNode,k=a.firstChild||a,m=k.style.filter,g=this;e&&0==e.clientHeight;)(function(){var a=g.connect(e,"onscroll",function(){g.disconnect(a);k.style.filter=(new Date).getMilliseconds();g.defer(function(){k.style.filter=m})})})(),e=e.parentNode}})})},"dijit/form/_FormWidget":function(){define("dojo/_base/declare dojo/sniff dojo/_base/kernel dojo/ready ../_Widget ../_CssStateMixin ../_TemplatedMixin ./_FormWidgetMixin".split(" "),function(k,d,e,a,b,h,l,m){d("dijit-legacy-requires")&&a(0,function(){require(["dijit/form/_FormValueWidget"])});
return k("dijit.form._FormWidget",[b,l,h,m],{setDisabled:function(a){e.deprecated("setDisabled("+a+") is deprecated. Use set('disabled',"+a+") instead.","","2.0");this.set("disabled",a)},setValue:function(a){e.deprecated("dijit.form._FormWidget:setValue("+a+") is deprecated.  Use set('value',"+a+") instead.","","2.0");this.set("value",a)},getValue:function(){e.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},postMixInProperties:function(){this.nameAttrSetting=
this.name&&!d("msapp")?'name\x3d"'+this.name.replace(/"/g,"\x26quot;")+'"':"";this.inherited(arguments)}})})},"dijit/form/_FormWidgetMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/mouse dojo/on dojo/sniff dojo/window ../a11y".split(" "),function(k,d,e,a,b,h,l,m,g,f){return d("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:!1,intermediateChanges:!1,
scrollOnFocus:!0,_setIdAttr:"focusNode",_setDisabledAttr:function(a){this._set("disabled",a);/^(button|input|select|textarea|optgroup|option|fieldset)$/i.test(this.focusNode.tagName)?e.set(this.focusNode,"disabled",a):this.focusNode.setAttribute("aria-disabled",a?"true":"false");this.valueNode&&e.set(this.valueNode,"disabled",a);a?(this._set("hovering",!1),this._set("active",!1),a="tabIndex"in this.attributeMap?this.attributeMap.tabIndex:"_setTabIndexAttr"in this?this._setTabIndexAttr:"focusNode",
k.forEach(b.isArray(a)?a:[a],function(a){a=this[a];m("webkit")||f.hasDefaultTabStop(a)?a.setAttribute("tabIndex","-1"):a.removeAttribute("tabIndex")},this)):""!=this.tabIndex&&this.set("tabIndex",this.tabIndex)},_onFocus:function(a){if("mouse"==a&&this.isFocusable())var d=this.own(l(this.focusNode,"focus",function(){e.remove();d.remove()}))[0],f=m("pointer-events")?"pointerup":m("MSPointer")?"MSPointerUp":m("touch-events")?"touchend, mouseup":"mouseup",e=this.own(l(this.ownerDocumentBody,f,b.hitch(this,
function(a){e.remove();d.remove();this.focused&&("touchend"==a.type?this.defer("focus"):this.focus())})))[0];this.scrollOnFocus&&this.defer(function(){g.scrollIntoView(this.domNode)});this.inherited(arguments)},isFocusable:function(){return!this.disabled&&this.focusNode&&"none"!=a.get(this.domNode,"display")},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(a){}},compare:function(a,b){return"number"==typeof a&&"number"==typeof b?isNaN(a)&&isNaN(b)?0:a-b:a>
b?1:a<b?-1:0},onChange:function(){},_onChangeActive:!1,_handleOnChange:function(a,b){if(void 0==this._lastValueReported&&(null===b||!this._onChangeActive))this._resetValue=this._lastValueReported=a;this._pendingOnChange=this._pendingOnChange||typeof a!=typeof this._lastValueReported||0!=this.compare(a,this._lastValueReported);if((this.intermediateChanges||b||void 0===b)&&this._pendingOnChange)this._lastValueReported=a,this._pendingOnChange=!1,this._onChangeActive&&(this._onChangeHandle&&this._onChangeHandle.remove(),
this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(a)}))},create:function(){this.inherited(arguments);this._onChangeActive=!0},destroy:function(){this._onChangeHandle&&(this._onChangeHandle.remove(),this.onChange(this._lastValueReported));this.inherited(arguments)}})})},"dijit/form/_FormValueMixin":function(){define("dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/on ./_FormWidgetMixin".split(" "),function(k,d,e,a,b,h){return k("dijit.form._FormValueMixin",
h,{readOnly:!1,_setReadOnlyAttr:function(a){d.set(this.focusNode,"readOnly",a);this._set("readOnly",a)},postCreate:function(){this.inherited(arguments);void 0===this._resetValue&&(this._lastValueReported=this._resetValue=this.value)},_setValueAttr:function(a,b){this._handleOnChange(a,b)},_handleOnChange:function(a,b){this._set("value",a);this.inherited(arguments)},undo:function(){this._setValueAttr(this._lastValueReported,!1)},reset:function(){this._hasBeenBlurred=!1;this._setValueAttr(this._resetValue,
!0)}})})},"dijit/form/_TextBoxMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/sniff dojo/keys dojo/_base/lang dojo/on ../main".split(" "),function(k,d,e,a,b,h,l,m){var g=d("dijit.form._TextBoxMixin"+(a("dojo-bidi")?"_NoBidi":""),null,{trim:!1,uppercase:!1,lowercase:!1,propercase:!1,maxLength:"",selectOnClick:!1,placeHolder:"",_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints)},_setValueAttr:function(a,b,d){var e;void 0!==a&&(e=this.filter(a),
"string"!=typeof d&&(d=null!==e&&("number"!=typeof e||!isNaN(e))?this.filter(this.format(e,this.constraints)):"",0!=this.compare(e,this.filter(this.parse(d,this.constraints)))&&(d=null)));if(null!=d&&("number"!=typeof d||!isNaN(d))&&this.textbox.value!=d)this.textbox.value=d,this._set("displayedValue",this.get("displayedValue"));this.inherited(arguments,[e,b])},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value)},_setDisplayedValueAttr:function(a){null==a?a=
"":"string"!=typeof a&&(a=String(a));this.textbox.value=a;this._setValueAttr(this.get("value"),void 0);this._set("displayedValue",this.get("displayedValue"))},format:function(a){return null==a?"":a.toString?a.toString():a},parse:function(a){return a},_refreshState:function(){},onInput:function(){},_onInput:function(a){this._lastInputEventValue=this.textbox.value;this._processInput(this._lastInputProducingEvent||a);delete this._lastInputProducingEvent;this.intermediateChanges&&this._handleOnChange(this.get("value"),
!1)},_processInput:function(){this._refreshState();this._set("displayedValue",this.get("displayedValue"))},postCreate:function(){this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);this.own(l(this.textbox,"keydown, keypress, paste, cut, compositionend",h.hitch(this,function(d){var c;if("keydown"==d.type&&229!=d.keyCode){c=d.keyCode;switch(c){case b.SHIFT:case b.ALT:case b.CTRL:case b.META:case b.CAPS_LOCK:case b.NUM_LOCK:case b.SCROLL_LOCK:return}if(!d.ctrlKey&&!d.metaKey&&
!d.altKey){switch(c){case b.NUMPAD_0:case b.NUMPAD_1:case b.NUMPAD_2:case b.NUMPAD_3:case b.NUMPAD_4:case b.NUMPAD_5:case b.NUMPAD_6:case b.NUMPAD_7:case b.NUMPAD_8:case b.NUMPAD_9:case b.NUMPAD_MULTIPLY:case b.NUMPAD_PLUS:case b.NUMPAD_ENTER:case b.NUMPAD_MINUS:case b.NUMPAD_PERIOD:case b.NUMPAD_DIVIDE:return}if(65<=c&&90>=c||48<=c&&57>=c||c==b.SPACE)return;c=!1;for(var e in b)if(b[e]===d.keyCode){c=!0;break}if(!c)return}}(c=32<=d.charCode?String.fromCharCode(d.charCode):d.charCode)||(c=65<=d.keyCode&&
90>=d.keyCode||48<=d.keyCode&&57>=d.keyCode||d.keyCode==b.SPACE?String.fromCharCode(d.keyCode):d.keyCode);c||(c=229);if("keypress"==d.type){if("string"!=typeof c)return;if("a"<=c&&"z">=c||"A"<=c&&"Z">=c||"0"<=c&&"9">=c||" "===c)if(d.ctrlKey||d.metaKey||d.altKey)return}var g={faux:!0},k;for(k in d)/^(layer[XY]|returnValue|keyLocation)$/.test(k)||(e=d[k],"function"!=typeof e&&"undefined"!=typeof e&&(g[k]=e));h.mixin(g,{charOrCode:c,_wasConsumed:!1,preventDefault:function(){g._wasConsumed=!0;d.preventDefault()},
stopPropagation:function(){d.stopPropagation()}});this._lastInputProducingEvent=g;!1===this.onInput(g)&&(g.preventDefault(),g.stopPropagation());if(!g._wasConsumed&&9>=a("ie"))switch(d.keyCode){case b.TAB:case b.ESCAPE:case b.DOWN_ARROW:case b.UP_ARROW:case b.LEFT_ARROW:case b.RIGHT_ARROW:break;default:if(d.keyCode==b.ENTER&&"textarea"!=this.textbox.tagName.toLowerCase())break;this.defer(function(){this.textbox.value!==this._lastInputEventValue&&l.emit(this.textbox,"input",{bubbles:!0})})}})),l(this.textbox,
"input",h.hitch(this,"_onInput")),l(this.domNode,"keypress",function(a){a.stopPropagation()}))},_blankValue:"",filter:function(a){if(null===a)return this._blankValue;if("string"!=typeof a)return a;this.trim&&(a=h.trim(a));this.uppercase&&(a=a.toUpperCase());this.lowercase&&(a=a.toLowerCase());this.propercase&&(a=a.replace(/[^\s]+/g,function(a){return a.substring(0,1).toUpperCase()+a.substring(1)}));return a},_setBlurValue:function(){this._setValueAttr(this.get("value"),!0)},_onBlur:function(a){this.disabled||
(this._setBlurValue(),this.inherited(arguments))},_isTextSelected:function(){return this.textbox.selectionStart!=this.textbox.selectionEnd},_onFocus:function(a){!this.disabled&&!this.readOnly&&(this.selectOnClick&&"mouse"==a&&(this._selectOnClickHandle=l.once(this.domNode,"mouseup, touchend",h.hitch(this,function(a){this._isTextSelected()||g.selectInputText(this.textbox)})),this.own(this._selectOnClickHandle),this.defer(function(){this._selectOnClickHandle&&(this._selectOnClickHandle.remove(),this._selectOnClickHandle=
null)},500)),this.inherited(arguments),this._refreshState())},reset:function(){this.textbox.value="";this.inherited(arguments)}});a("dojo-bidi")&&(g=d("dijit.form._TextBoxMixin",g,{_setValueAttr:function(){this.inherited(arguments);this.applyTextDir(this.focusNode)},_setDisplayedValueAttr:function(){this.inherited(arguments);this.applyTextDir(this.focusNode)},_onInput:function(){this.applyTextDir(this.focusNode);this.inherited(arguments)}}));g._setSelectionRange=m._setSelectionRange=function(a,b,
d){a.setSelectionRange&&a.setSelectionRange(b,d)};g.selectInputText=m.selectInputText=function(a,b,d){a=e.byId(a);isNaN(b)&&(b=0);isNaN(d)&&(d=a.value?a.value.length:0);try{a.focus(),g._setSelectionRange(a,b,d)}catch(h){}};return g})},"dijit/_mw/utils/deprecation":function(){define(["dojo/_base/config"],function(k){var d={warn:function(a){},error:function(a){console&&console.error&&console.error(a)}},e={deprecated:function(a){var b,e;if((k.isDebug||window.showDeprecationsAsErrors)&&this._isConfigValid(a))e=
window.showDeprecationsAsErrors||a.deprecationLevel===this.ERROR?this.ERROR:this.WARN,b="DEPRECATED: ",a.deprecated&&(b+=a.deprecated.module,a.deprecated.method&&(b+="."+a.deprecated.method+"()"),b+="."),a.replacement&&(b+=" Use "+a.replacement.module,a.replacement.method&&(b+="."+a.replacement.method+"()"),b+=" instead."),a.removalVersion&&(b+=" Will be removed in version: "+a.removalVersion+"."),a.geckNumber&&(b+=" Please use g"+a.geckNumber+" to track latest information regarding this deprecation"),
a.additionalInformation&&(b+=" "+a.additionalInformation),d[e](b)},_isConfigValid:function(a){var b=!!a.deprecated&&"object"===typeof a.deprecated&&a.deprecated.hasOwnProperty("module");a.replacement&&(b=b&&"object"===typeof a.replacement&&a.replacement.hasOwnProperty("module"));a.geckNumber&&(b=b&&"number"===typeof a.geckNumber);b||d.error("Supplied deprecationConfig properties are not valid. Please refer to http://inside.mathworks.com/wiki/Web_Widgets_Deprecation_API for right API");return b}};
Object.defineProperties(e,{WARN:{value:"warn",enumerable:!0},ERROR:{value:"error",enumerable:!0}});return e})},"mw-filebrowser/columns/helpers/FileIconUtils":function(){define(["dojo/i18n!../../l10n/nls/FileBrowserResources","mw-filename-utils/FileNameUtil","./FileType"],function(k,d,e){function a(a){return a.element.querySelector("#"+h)}function b(a,b){return"group"===a.type?"group":a.isDirectory?a.shareAttributes&&a.shareAttributes.isProducedRoot?b?l.folderOpenedAndShared:l.folderClosedAndShared:
b?l.folderOpened:l.folderClosed:l.motwFileType+e.getExtensionIfValid(a)}var h="id-icon-place-holder",l={folderOpened:"folderOpened",folderClosed:"folderClosed",folderClosedAndShared:"folderClosedAndShared",folderOpenedAndShared:"folderOpenedAndShared",motwFileType:"motwFileType"},m={};m[l.folderClosed]=l.folderClosedAndShared;m[l.folderOpened]=l.folderOpenedAndShared;var g={};g[l.folderClosedAndShared]=l.folderClosed;g[l.folderOpenedAndShared]=l.folderOpened;return{ICON_PLACE_HOLDER:h,getIconClass:b,
getIconNodeFromRow:a,getInfoLabel:function(a){if(d.isUserPublishedDirectoryPath(a.path))return k.publishedMySite;if(d.isUserSharedDirectoryPath(a.path))return k.sharedWithMe},setSharedOverlayIcon:function(b,c){var d=a(c);b?m[d.className]&&(d.className=m[d.className]):g[d.className]&&(d.className=g[d.className])},setNodeClassName:function(d,c){var e=a(d);null!==e&&(e.className=b(d.data,c))}}})},"mw-filebrowser/columns/helpers/FileType":function(){define([],function(){var k="m mlx html htm mat txt text mlappinstall mltbx".split(" "),
d=function(d){var a=-1!==d.name.lastIndexOf(".")?d.name.lastIndexOf(".")+1:d.name.length;return d.name.substring(a,d.name.length)};return{getExtensionIfValid:function(e){return e.type?-1===k.indexOf(e.type)?"":e.type:-1===k.indexOf(d(e))?"":d(e)}}})},"mw-filebrowser/columns/helpers/NameComparator":function(){define([],function(){function k(d){for(var e=[],a=0,b=-1,h=0,k,m;k=(m=d.charAt(a++)).charCodeAt(0);)k=46==k||48<=k&&57>=k,k!==h&&(e[++b]="",h=k),e[b]+=m;return e}return{caseSensitiveStringComparator:function(d,
e){for(var a=k(d.toLocaleLowerCase()),b=k(e.toLocaleLowerCase()),h=0;a[h]&&b[h];h++)if(a[h]!==b[h]){var l=Number(a[h]),m=Number(b[h]);return l==a[h]&&m==b[h]?l-m:a[h]>b[h]?1:-1}return a.length-b.length},separateFoldersFromFiles:function(d,e){if(d.isDirectory&&e.isDirectory)return this.caseSensitiveStringComparator(d.name,e.name);if(d.isDirectory)return-1;if(e.isDirectory)return 1}}})},"mw-filebrowser/columns/SizeColumn":function(){define(["dojo/_base/declare","dojo/i18n!../l10n/nls/FileBrowserResources",
"./helpers/FileSizeGenerator","./helpers/NameComparator","./groupingactions/SizeGroupingAction"],function(k,d,e,a,b){return k([],{constructor:function(h){this.column={id:"sizeColumn",label:d.size,renderHeaderCell:function(a){var b=document.createElement("div");b.className="columnHeaderLabel";var e=document.createTextNode(d.size);b.appendChild(e);a.appendChild(b)},field:"size",renderCell:function(a,b,d,f){b=document.createElement("span");b.className="dgrid-cell-data";a=document.createTextNode(e.convert(a));
b.appendChild(a);return b},sortable:!0,sort:function(b,d){return b.isDirectory||d.isDirectory?a.separateFoldersFromFiles(b,d):b.size===d.size?a.caseSensitiveStringComparator(b.name,d.name):b.size-d.size},hidden:!0,groupable:!0,groupingAction:new b}}})})},"mw-filebrowser/columns/helpers/FileSizeGenerator":function(){define(["dojo/i18n!../../l10n/nls/FileBrowserResources","dojo/string"],function(k,d){var e=[k.kb,k.mb,k.gb,k.tb,k.pb,k.eb,k.zb,k.yb];return{convert:function(a){var b;if(a.isDirectory)return"";
a=a.size;if(1048576>a)a=Math.ceil(a/1024),a=a.toFixed(0),b=e[0];else{b=-1;do a/=1024,b++;while(1024<a);a=Math.round(100*a)/100;b=e[b]}return d.substitute(k.fileSize,[a,b])}}})},"mw-filebrowser/columns/groupingactions/SizeGroupingAction":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/Evented","dojo/i18n!../../l10n/nls/FileBrowserResources","mw-filename-utils/FileNameUtil"],function(k,d,e,a,b){return k([e],{constructor:function(b){this.id="groupBySize";this.text=a.size;this.itemType=
"check";this.grouped=!1;this.enabled=!0;this.description="Action to group file browser column by size";this.groups=[];this.groupFileInfos=[]},getGroup:function(b){return 8192>b.size?{name:a.small,filter:function(a){return 8192>a.size?!0:!1}}:8192<b.size&&262144>b.size?{name:a.medium,filter:function(a){return 8192<a.size&&262144>a.size?!0:!1}}:{name:a.large,filter:function(a){return 262144<a.size?!0:!1}}},getGroupFileInfo:function(a,d){var e={id:a.name,hasChildren:!0,isDirectory:!0,isGroupHeader:!0,
group:a.name,type:"group",filter:a.filter};e.name=a.name;e.path=a.name;e.location=a.name;e.parent=b.pathFromFileInfo(d);return e},filter:function(a){var b;this.groupFileInfos.forEach(d.hitch(this,function(d){if(d.filter(a))return b=d}));return b}})})},"mw-filebrowser/columns/DateModifiedColumn":function(){define(["dojo/_base/declare","dojo/i18n!../l10n/nls/FileBrowserResources","./helpers/NameComparator","./helpers/DateComparator"],function(k,d,e,a){function b(a){a=new Date(a);return a.toLocaleDateString()+
" "+a.toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"})}return k([],{constructor:function(h){this.column={id:"dateModifiedColumn",label:d.dateModified,renderHeaderCell:function(a){var b=document.createElement("div");b.className="columnHeaderLabel";var e=document.createTextNode(d.dateModified);b.appendChild(e);a.appendChild(b)},field:"modifiedUtc",sortable:!0,renderCell:function(a,d,e,f){d=document.createElement("span");d.className="dgrid-cell-data";a.isGroupHeader||(a=document.createTextNode(b(a.modifiedUtc)),
d.appendChild(a));return d},sort:function(b,d){var g=new Date(b.modifiedUtc),f=new Date(d.modifiedUtc);return b.isDirectory||d.isDirectory?a.separateFoldersFromFiles(b,d):g===f?e.caseSensitiveStringComparator(b.name,d.name):a.compareDate(g,f)},hidden:!0}}})})},"mw-filebrowser/columns/helpers/DateComparator":function(){define([],function(){return{compareDate:function(k,d){return k<d?-1:k>d?1:0},separateFoldersFromFiles:function(k,d){var e=new Date(k.modifiedUtc),a=new Date(d.modifiedUtc);if(k.isDirectory&&
d.isDirectory)return this.compareDate(e,a);if(k.isDirectory)return-1;if(d.isDirectory)return 1}}})},"dojo/store/util/QueryResults":function(){define(["../../_base/array","../../_base/lang","../../when"],function(k,d,e){var a=function(b){function h(d){b[d]=function(){var g=arguments,f=e(b,function(b){Array.prototype.unshift.call(g,b);return a(k[d].apply(k,g))});if("forEach"!==d||l)return f}}if(!b)return b;var l=!!b.then;l&&(b=d.delegate(b));h("forEach");h("filter");h("map");null==b.total&&(b.total=
e(b,function(a){return a.length}));return b};d.setObject("dojo.store.util.QueryResults",a);return a})},"dojo/store/Memory":function(){define(["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(k,d,e){return k("dojo.store.Memory",null,{constructor:function(a){for(var b in a)this[b]=a[b];this.setData(this.data||[])},data:null,idProperty:"id",index:null,queryEngine:e,get:function(a){return this.data[this.index[a]]},getIdentity:function(a){return a[this.idProperty]},put:function(a,
b){var d=this.data,e=this.index,k=this.idProperty,k=a[k]=b&&"id"in b?b.id:k in a?a[k]:Math.random();if(k in e){if(b&&!1===b.overwrite)throw Error("Object already exists");d[e[k]]=a}else e[k]=d.push(a)-1;return k},add:function(a,b){(b=b||{}).overwrite=!1;return this.put(a,b)},remove:function(a){var b=this.index,d=this.data;if(a in b)return d.splice(b[a],1),this.setData(d),!0},query:function(a,b){return d(this.queryEngine(a,b)(this.data))},setData:function(a){a.items?(this.idProperty=a.identifier||
this.idProperty,a=this.data=a.items):this.data=a;this.index={};for(var b=0,d=a.length;b<d;b++)this.index[a[b][this.idProperty]]=b}})})},"dojo/store/util/SimpleQueryEngine":function(){define(["../../_base/array"],function(k){return function(d,e){function a(a){a=k.filter(a,d);var b=e&&e.sort;b&&a.sort("function"==typeof b?b:function(a,d){for(var c,e=0;c=b[e];e++){var h=a[c.attribute],k=d[c.attribute],h=null!=h?h.valueOf():h,k=null!=k?k.valueOf():k;if(h!=k)return!!c.descending==(null==h||h>k)?-1:1}return 0});
if(e&&(e.start||e.count)){var m=a.length;a=a.slice(e.start||0,(e.start||0)+(e.count||Infinity));a.total=m}return a}switch(typeof d){default:throw Error("Can not query with a "+typeof d);case "object":case "undefined":var b=d;d=function(a){for(var d in b){var e=b[d];if(e&&e.test){if(!e.test(a[d],a))return!1}else if(e!=a[d])return!1}return!0};break;case "string":if(!this[d])throw Error("No filter function "+d+" was found in store");d=this[d];case "function":}a.matches=d;return a}})},"dojo/store/Observable":function(){define(["../_base/kernel",
"../_base/lang","../when","../_base/array"],function(k,d,e,a){k=function(b){function h(a,d){var g=b[a];g&&(b[a]=function(h){var k;"put"===a&&(k=b.getIdentity(h));if(f)return g.apply(this,arguments);f=!0;try{var l=g.apply(this,arguments);e(l,function(a){d("object"==typeof a&&a||h,k)});return l}finally{f=!1}})}var k=[],m=0;b=d.delegate(b);b.notify=function(a,b){m++;for(var d=k.slice(),f=0,e=d.length;f<e;f++)d[f](a,b)};var g=b.query;b.query=function(c,f){f=f||{};var h=g.apply(this,arguments);if(h&&h.forEach){var s=
d.mixin({},f);delete s.start;delete s.count;var q=b.queryEngine&&b.queryEngine(c,s),p=m,t=[],u;h.observe=function(c,d){1==t.push(c)&&k.push(u=function(c,g){e(h,function(e){var h=e.length!=f.count,k,l;if(++p!=m)throw Error("Query is out of date, you must observe() the query prior to any data modifications");var r,s=-1,u=-1;if(void 0!==g){var v=[].concat(e);q&&!c&&(v=q(e));k=0;for(l=e.length;k<l;k++){var x=e[k];if(b.getIdentity(x)==g&&!(0>v.indexOf(x))){r=x;s=k;(q||!c)&&e.splice(k,1);break}}}if(q){if(c&&
(q.matches?q.matches(c):q([c]).length))k=-1<s?s:e.length,e.splice(k,0,c),u=a.indexOf(q(e),c),e.splice(k,1),f.start&&0==u||!h&&u==e.length?u=-1:e.splice(u,0,c)}else c&&(void 0!==g?u=s:f.start||(u=b.defaultIndex||0,e.splice(u,0,c)));if((-1<s||-1<u)&&(d||!q||s!=u)){h=t.slice();for(k=0;e=h[k];k++)e(c||r,s,u)}})});var g={};g.remove=g.cancel=function(){var b=a.indexOf(t,c);-1<b&&(t.splice(b,1),t.length||k.splice(a.indexOf(k,u),1))};return g}}return h};var f;h("put",function(a,d){b.notify(a,d)});h("add",
function(a){b.notify(a)});h("remove",function(a){b.notify(void 0,a)});return b};d.setObject("dojo.store.Observable",k);return k})},"xstyle/core/load-css":function(){define([],function(){function k(d){if(a.createStyleSheet){var e=a.createStyleSheet();e.cssText=d;return e.owningElement}e=a.createElement("style");e.setAttribute("type","text/css");e.appendChild(a.createTextNode(d));b.insertBefore(e,b.firstChild);return e}function d(d,l,m){var g=e[d];if(g)return f=k(g),l(f);var f=a.createElement("link");
f.type="text/css";f.rel="stylesheet";f.href=d;var c=!m||!1!==m.wait;m=(m=navigator.userAgent.match(/AppleWebKit\/(\d+\.?\d*)/))&&+m[1];if(null===f.onload&&!(536>m))f.onload=function(){f.onload=null;f.onerror=null;c&&l(f)},f.onerror=function(){console.error("Error loading stylesheet "+d);c&&l(f)};else if(c)var n=setInterval(function(){f.style&&(clearInterval(n),l(f))},15);(b||a.getElementsByTagName("head")[0]).appendChild(f);c||l(f)}var e="undefined"==typeof _css_cache?{}:_css_cache,a=document,b=a.head;
d.insertCss=k;return d})},"mw-utils/InMemoryStore":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/data/util/filter","dojo/data/util/simpleFetch","./Utils"],function(k,d,e,a,b){k=k([],{_storeRef:"_S",_timestampProp:"_timestamp",constructor:function(a){a=a||{};this.items=[];a.items&&a.items.forEach(function(a){this.newItem(a)},this)},_fetchItems:function(a,b){var d=[],g,f,c,k,r,s,q={};if(a.query){f=a.queryOptions?a.queryOptions.ignoreCase:!1;for(g in a.query)a.query.hasOwnProperty(g)&&
(s=a.query[g],"string"===typeof s&&/[\*\?]+/.test(s)?q[g]=e.patternToRegExp(s,f):s instanceof RegExp&&(q[g]=s));r=this.items.length;for(f=0;f<r;f+=1){c=!0;k=this.items[f];if(null===k)c=!1;else for(g in a.query)a.query.hasOwnProperty(g)&&(s=a.query[g],this._containsValue(k,g,s,q[g])||(c=!1));c&&d.push(k)}}else this.items&&this.items.forEach(function(a){null!==a&&d.push(a)});b(d,a)},getFeatures:function(){return{"dojo.data.api.Read":!0,"dojo.data.api.Write":!0,"dojo.data.api.Notification":!0,"dojo.data.api.Identity":!0}},
getAttributes:function(a){this._assertIsItem(a);var b=[],d;for(d in a)a.hasOwnProperty(d)&&(d!==this._storeRefPropName&&d!==this._loadedPropName&&d!==this._filePathPropName)&&b.push(d);return b},isItem:function(a){return a&&a[this._storeRef]===this},isItemLoaded:function(a){return this.isItem(a)},loadItem:function(){},getValues:function(a,b){this._assertIsItem(a);if(!d.isString(b))throw Error("MW.utils.InMemoryStore: invalid attribute");return a.hasOwnProperty(b)?[a[b]]:[]},getValue:function(a,b){var d=
this.getValues(a,b);return 0===d.length?void 0:d[0]},hasAttribute:function(a,b){return 0<this.getValues(a,b).length},containsValue:function(a,b,d){var g;"string"===typeof d&&(g=e.patternToRegExp(d,!1));return this._containsValue(a,b,d,g)},_containsValue:function(a,b,e,g){var f=this.getValues(a,b),c=f.length;for(a=0;a<c;a+=1)if(b=f[a],g&&!d.isObject(b)&&null!==b&&b.toString().match(g)||e===b)return!0;return!1},setValues:function(a,b,e){var g;this._assertIsItem(a);if(!d.isString(b))throw Error("MW.utils.InMemoryStore: invalid attribute");
g=a[b];if(g!==e||"store"===b)a[b]=e,this.onSet(a,b,g,e)},setValue:function(a,b,d){this.setValues(a,b,d)},newItem:function(a){var e={id:b.generateUuid()};e[this._timestampProp]=new Date;e[this._storeRef]=this;d.mixin(e,a);this.items.push(e);this.onNew(e);return e},deleteItem:function(a){var b;this._assertIsItem(a);b=this.items.indexOf(a);0<=b&&this.items.splice(b,1);this.onDelete(a)},getIdentity:function(a){return a.id},save:function(a){},revert:function(){return!1},isDirty:function(a){return!1},onNew:function(){},
onDelete:function(){},onSet:function(){},_assertIsItem:function(a){if(!this.isItem(a))throw Error("MW.utils.InMemoryStore: Invalid argument, item is not in the store.");}});d.extend(k,a);return k})},"dojo/data/util/filter":function(){define(["../../_base/lang"],function(k){var d={};k.setObject("dojo.data.util.filter",d);d.patternToRegExp=function(d,a){for(var b="^",h=null,k=0;k<d.length;k++)switch(h=d.charAt(k),h){case "\\":b+=h;k++;b+=d.charAt(k);break;case "*":b+=".*";break;case "?":b+=".";break;
case "$":case "^":case "/":case "+":case ".":case "|":case "(":case ")":case "{":case "}":case "[":case "]":b+="\\";default:b+=h}b+="$";return a?RegExp(b,"mi"):RegExp(b,"m")};return d})},"dojo/data/util/simpleFetch":function(){define(["../../_base/lang","../../_base/kernel","./sorter"],function(k,d,e){var a={};k.setObject("dojo.data.util.simpleFetch",a);a.errorHandler=function(a,e){e.onError&&e.onError.call(e.scope||d.global,a,e)};a.fetchHandler=function(a,h){var k=h.abort||null,m=!1,g=h.start?h.start:
0,f=h.count&&Infinity!==h.count?g+h.count:a.length;h.abort=function(){m=!0;k&&k.call(h)};var c=h.scope||d.global;h.store||(h.store=this);h.onBegin&&h.onBegin.call(c,a.length,h);h.sort&&a.sort(e.createSortFunction(h.sort,this));if(h.onItem)for(var n=g;n<a.length&&n<f;++n){var r=a[n];m||h.onItem.call(c,r,h)}h.onComplete&&!m&&(n=null,h.onItem||(n=a.slice(g,f)),h.onComplete.call(c,n,h))};a.fetch=function(a){a=a||{};a.store||(a.store=this);this._fetchItems(a,k.hitch(this,"fetchHandler"),k.hitch(this,"errorHandler"));
return a};return a})},"dojo/data/util/sorter":function(){define(["../../_base/lang"],function(k){var d={};k.setObject("dojo.data.util.sorter",d);d.basicComparator=function(d,a){var b=-1;null===d&&(d=void 0);null===a&&(a=void 0);if(d==a)b=0;else if(d>a||null==d)b=1;return b};d.createSortFunction=function(e,a){function b(a,b,c,d){return function(f,e){var g=d.getValue(f,a),h=d.getValue(e,a);return b*c(g,h)}}for(var h=[],k,m=a.comparatorMap,g=d.basicComparator,f=0;f<e.length;f++){k=e[f];var c=k.attribute;
if(c){k=k.descending?-1:1;var n=g;m&&("string"!==typeof c&&"toString"in c&&(c=c.toString()),n=m[c]||g);h.push(b(c,k,n,a))}}return function(a,b){for(var c=0;c<h.length;){var d=h[c++](a,b);if(0!==d)return d}return 0}};return d})},"mw-utils/HtmlUtils":function(){define(["dojo/_base/window","dojo/_base/event","dojo/io-query","mw-utils/deprecation"],function(k,d,e,a){return{HYPERLINK_ESCAPE_REGEXP:/<a\s+href\s*=\s*"[^"]*"[^>]*>[\s\S]*?<\/a>/g,HYPERLINK_WITH_PARENTHESIS_ESCAPE_REGEXP:/<a\s+href\s*=\s*"([^"]*)"([^>]*)>([\s\S]*?)<\/a>/g,
STRONG_ESCAPE_REGEXP:/<strong>|<\/strong>/g,BOLD_LINK_ATTRIBUTE_REGEX:/\bstyle\s*=\s*\"[^\"]*\bfont-weight\s*:\s*bold\b[^\"]*\"/,parseQueryString:function(){var a=k.global.location.search.substr(1,k.global.location.search.length);return this._parseQueryString(a)},_parseQueryString:function(a){return e.queryToObject(a)},parseUrl:function(a){var d=document.createElement("a");d.display="none";d.href=a||window.location.href;d.href=d.href;d={protocol:d.protocol,hostname:d.hostname,port:d.port,pathname:d.pathname,
search:d.search,hash:d.hash};if(("https:"===d.protocol||"http:"===d.protocol)&&0!==d.pathname.indexOf("/"))d.pathname="/"+d.pathname;"https:"===d.protocol&&("443"===d.port&&0!==a.indexOf("https://"+d.hostname+":443"))&&(d.port="");return d},escapeHtml:function(a){var d=k.global.document.createElement("div");a=k.global.document.createTextNode(a);d.appendChild(a);d=d.innerHTML;a="";for(var e=0;e<d.length;e+=1){var m=d.charCodeAt(e);a=128<m?a+"\x26#"+m+";":a+d.charAt(e)}return a},escapeLinksAndHtml:function(b,
d){a.deprecated({deprecated:{module:"mw-utils/HtmlUtils",method:"escapeLinksAndHtml"},replacement:{module:"mw-utils/HtmlUtils",method:"treatHtmlLikeCommandWindow"}});var e="",k=b.split(this.HYPERLINK_ESCAPE_REGEXP),g=b.match(this.HYPERLINK_ESCAPE_REGEXP),f="",c=this,n=0,r=function(a,b,d,e){a=c.parseUrl(b).protocol;"http:"!==a&&("https:"!==a&&"matlab:"!==a)&&(b="#");b=c.escapeHtml(b);e=c._strongNotEscaped(e,!0);f='\x3ca href\x3d"'+b+'"\x3e'+e+"\x3c/a\x3e"};if(d)e=this.escapeHtml(b),e=this.escapeWhitespace(e);
else if(""!==k[0]&&(e=this._strongNotEscaped(k[0],!0)),null!==g&&0!==g.length)for(n=0;n<g.length;n+=1)g[n].replace(this.HYPERLINK_WITH_PARENTHESIS_ESCAPE_REGEXP,r),""!==k[n+1]&&(k[n+1]=this._strongNotEscaped(k[n+1],!0)),e+=f+k[n+1];return e},treatHtmlLikeCommandWindow:function(a,d,e){if("string"!==typeof a)return"";var k="",g=a.split(this.HYPERLINK_ESCAPE_REGEXP),f=a.match(this.HYPERLINK_ESCAPE_REGEXP),c="",n=this,r=0;e=e?e:{};var s=function(a,b,d,f){a=n.parseUrl(b).protocol;var e="";"http:"!==a&&
("https:"!==a&&"matlab:"!==a)&&(b="#");b=n.escapeHtml(b);f=n._strongNotEscaped(f,!1);n.BOLD_LINK_ATTRIBUTE_REGEX.test(d)&&(e=' style\x3d"font-weight:bold"');c='\x3ca href\x3d"'+b+'"'+e+"\x3e"+f+"\x3c/a\x3e"};if(d)k=this.escapeHtml(a);else if(""!==g[0]&&(k=this._strongNotEscaped(g[0],!1)),null!==f&&0!==f.length)for(r=0;r<f.length;r+=1)f[r].replace(this.HYPERLINK_WITH_PARENTHESIS_ESCAPE_REGEXP,s),""!==g[r+1]&&(g[r+1]=this._strongNotEscaped(g[r+1],!1)),k+=c+g[r+1];e.addPreTagToPreserveWhiteSpace&&(k=
'\x3cspan style\x3d"white-space: pre"\x3e'+k+"\x3c/span\x3e");return k},_strongNotEscaped:function(a,d){var e="",k=a.match(this.STRONG_ESCAPE_REGEXP),g=a.split(this.STRONG_ESCAPE_REGEXP),f=function(a){return a};d&&(f=this.escapeWhitespace);var c=0;if(null!==k&&0!==k.length){e=f(this.escapeHtml(g[0]));for(c=0;c<k.length;c+=1)e+=k[c]+f(this.escapeHtml(g[c+1]))}else e=f(this.escapeHtml(a));return e},escapeWhitespace:function(b){a.deprecated({deprecated:{module:"mw-utils/HtmlUtils",method:"escapeWhitespace"},
replacement:{module:"Plain HTML",method:'Set class as white-space: pre or use \x3cspan style\x3d"white-space: pre"\x3e...\x3c/span\x3e'}});return(b||"").replace(/\n/g,"\x3cbr\x3e").replace(/ {2}/g,"\x26nbsp;\x26nbsp;")},handleAnchors:function(a,e){if(e.target.href){d.stop(e);var l=e.target.href;-1!==l.indexOf("matlab:")?"matlab:"===l.substring(0,7)&&(l=e.target.href.substring(7),a(k.global.unescape(l))):k.global.open(e.target.href)}},isElementOverflown:function(a){return a.scrollHeight>a.clientHeight||
a.scrollWidth>a.clientWidth}}})},"mw-browser-utils/MobileBrowserCheck":function(){define(["dojo/_base/window","mw-html-utils/HtmlUtils","dojo/has"],function(k,d,e){var a={isBrowserValid:function(){var a=!0;if(null==d.parseQueryString().touch&&(e("ios")||e("android")))a=!1;return a}};return{load:function(b,d,e){a.isBrowserValid()?e():k.global.location=b}}})},"mw-html-utils/HtmlUtils":function(){define(["dojo/_base/window","dojo/_base/event","dojo/io-query"],function(k,d,e){return{HYPERLINK_ESCAPE_REGEXP:/<a\s+href\s*=\s*"[^"]*"[^>]*>.*?<\/a>/g,
HYPERLINK_WITH_PARENTHESIS_ESCAPE_REGEXP:/<a\s+href\s*=\s*"([^"]*)"[^>]*>(.*?)<\/a>/g,STRONG_ESCAPE_REGEXP:/<strong>|<\/strong>/g,parseQueryString:function(){var a=k.global.location.search.substr(1,k.global.location.search.length);return this._parseQueryString(a)},_parseQueryString:function(a){return e.queryToObject(a)},parseUrl:function(a){var b=document.createElement("a");b.display="none";b.href=a||window.location.href;b.href=b.href;b={protocol:b.protocol,hostname:b.hostname,port:b.port,pathname:b.pathname,
search:b.search,hash:b.hash};if(("https:"===b.protocol||"http:"===b.protocol)&&0!==b.pathname.indexOf("/"))b.pathname="/"+b.pathname;"https:"===b.protocol&&("443"===b.port&&0!==a.indexOf("https://"+b.hostname+":443"))&&(b.port="");return b},escapeHtml:function(a){var b=k.global.document.createElement("div");a=k.global.document.createTextNode(a);b.appendChild(a);b=b.innerHTML;a="";for(var d=0;d<b.length;d+=1){var e=b.charCodeAt(d);a=128<e?a+"\x26#"+e+";":a+b.charAt(d)}return a},escapeLinksAndHtml:function(a,
b){var d="",e=a.split(this.HYPERLINK_ESCAPE_REGEXP),k=a.match(this.HYPERLINK_ESCAPE_REGEXP),g="",f=this,c=0,n=function(a,b,c){a=f.parseUrl(b).protocol;"http:"!==a&&("https:"!==a&&"matlab:"!==a)&&(b="#");b=f.escapeHtml(b);c=f._strongNotEscaped(c);g='\x3ca href\x3d"'+b+'"\x3e'+c+"\x3c/a\x3e"};if(b)d=this.escapeHtml(a),d=this.escapeWhitespace(d);else if(""!==e[0]&&(d=this._strongNotEscaped(e[0])),null!==k&&0!==k.length)for(c=0;c<k.length;c+=1)k[c].replace(this.HYPERLINK_WITH_PARENTHESIS_ESCAPE_REGEXP,
n),""!==e[c+1]&&(e[c+1]=this._strongNotEscaped(e[c+1])),d+=g+e[c+1];return d},_strongNotEscaped:function(a){var b="",d=a.match(this.STRONG_ESCAPE_REGEXP),e=a.split(this.STRONG_ESCAPE_REGEXP),k=0;if(null!==d&&0!==d.length){b=this.escapeWhitespace(this.escapeHtml(e[0]));for(k=0;k<d.length;k+=1)b+=d[k]+this.escapeWhitespace(this.escapeHtml(e[k+1]))}else b=this.escapeWhitespace(this.escapeHtml(a));return b},escapeWhitespace:function(a){return(a||"").replace(/\n/g,"\x3cbr\x3e").replace(/ {2}/g,"\x26nbsp;\x26nbsp;")},
handleAnchors:function(a,b){if(b.target.href){d.stop(b);var e=b.target.href;-1!==e.indexOf("matlab:")?"matlab:"===e.substring(0,7)&&(e=b.target.href.substring(7),a(k.global.unescape(e))):k.global.open(b.target.href)}},isElementOverflown:function(a){return a.scrollHeight>a.clientHeight||a.scrollWidth>a.clientWidth}}})},"mw-browser-utils/BrowserCheck":function(){define("dojo/_base/window dojo/window dojo/dom-construct dojo/has dojo/i18n!./l10n/nls/unsupportedErrorPage ./detect/css ./detect/object".split(" "),
function(k,d,e,a,b){var h={isBrowserValid:function(){var b=!0;a("quirks")?b=!1:a("css-enabled")?a("css-border-radius")?a("css-text-overflow")?a("object-create")||(b=!1):b=!1:b=!1:b=!1;return b},displayErrorAsOverlay:function(){e.create("div",{style:{position:"absolute",left:"0%",top:"0%","background-color":"grey","-moz-opacity":"0.7",opacity:".70",filter:"alpha(opacity\x3d70)",width:"100%",height:"100%",zIndex:"90"},id:"fadeDiv"},k.body());e.create("div",{style:{position:"relative",margin:"auto",
"margin-top":"12.35%",width:"400px",height:"300px",padding:"10px",border:"2px solid black","background-color":"#ffffff","z-index":"100","font-family":"Sans-serif"},id:"unsupportedBrowser","class":"content_module"},k.body()).innerHTML=b.unsupportedError}};return{load:function(a,b,d){h.isBrowserValid()?d():a?k.global.location=a:h.displayErrorAsOverlay()}}})},"mw-browser-utils/detect/css":function(){define(["dojo/has"],function(k){function d(a,d){var k=!1,m=a.charAt(0).toUpperCase()+a.slice(1),g=e.length,
f=d.style;if("string"===typeof f[a])k=!0;else for(;g;)if(g-=1,"string"===typeof f[e[g]+m]){k=!0;break}return k}var e=["Webkit","Moz","O","ms","Khtml"],a=k.add;a("css-enabled",function(a,d,e){var k;a=d.documentElement;var g;if(!(g=d.body))k=!0,g=a.insertBefore(d.createElement("body"),a.firstChild);a=g;g=e.style.display;e.style.display="none";a.insertBefore(e,a.firstChild);d=0===e.offsetWidth;a.removeChild(e);e.style.display=g;k&&a.parentNode.removeChild(a);return d});a("css-content-box",function(a,
d,e){var m,g;a=d.documentElement;var f=null;if(k("css-enabled")){if(!(g=d.body))m=!0,g=a.insertBefore(d.createElement("body"),a.firstChild);e.style.cssText="position: absolute; top: -4000px; width: 40px; height: 40px; border: 1px solid black;";g.insertBefore(e,g.firstChild);f=40===e.clientWidth;g.removeChild(e);e.style.cssText=""}m&&g.parentNode.removeChild(g);return f});a("css-position-fixed",function(a,d,e){var m,g,f=d.documentElement,c=null;if(k("css-enabled")){a=e.cloneNode(!1);if(!(g=d.body))m=
!0,g=f.insertBefore(d.createElement("body"),f.firstChild);d=g.style.cssText;g.style.cssText="padding:0;margin:0";e.style.cssText="position:fixed;top:42px";g.insertBefore(a,g.firstChild);g.insertBefore(e,a);c=e.offsetTop!==a.offsetTop;g.removeChild(e);g.removeChild(a);g.style.cssText=d;e.style.cssText=""}m&&g.parentNode.removeChild(g);return c});a("css-rgba",function(a,d,e){a=/^rgba/;d=null;if(k("css-enabled"))try{e.style.color="rgba(1,1,1,0.5)",d=a.test(e.style.color),e.style.color=""}catch(m){}return d});
a("css-border-radius",function(a,e,k){return d("borderRadius",k)});a("css-box-shadow",function(a,e,k){return d("boxShadow",k)});a("css-box-sizing",function(a,e,k){return d("boxSizing",k)});a("css-opacity",function(a,e,k){return d("opacity",k)});a("css-opacity-filter",function(a,d){return!k("css-opacity")&&"undefined"!==typeof d.documentElement.filters});a("css-resize",function(a,e,k){return d("resize",k)});a("css-selectable",function(a,e,k){return d("userSelect",k)});a("css-style-float",function(a,
e,k){return d("styleFloat",k)});a("css-pointerevents",function(a,e,k){return d("pointerEvents",k)});a("css-text-overflow",function(a,e,k){return d("textOverflow",k)});a("css-text-shadow",function(a,e,k){return d("textShadow",k)});a("css-transform",function(a,e,k){return d("transform",k)});return k})},"mw-browser-utils/detect/object":function(){define(["dojo/has"],function(k){var d=k.add,e={}.toString,a=Object;d("object-create",function(){return"[object Function]"===e.call(a.create)});d("object-getprototypeof",
function(){return"[object Function]"===e.call(a.getPrototypeOf)});d("object-seal",function(){return"[object Function]"===e.call(a.seal)});d("object-freeze",function(){return"[object Function]"===e.call(a.freeze)});d("object-issealed",function(){return"[object Function]"===e.call(a.isSealed)});d("object-isfrozen",function(){return"[object Function]"===e.call(a.isFrozen)});d("object-keys",function(){return"[object Function]"===e.call(a.keys)});d("object-preventextensions",function(){return"[object Function]"===
e.call(a.preventExtensions)});d("object-isextensible",function(){return"[object Function]"===e.call(a.isExtensible)});d("object-defineproperty",function(){return"[object Function]"===e.call(a.defineProperty)});d("object-defineproperties",function(){return"[object Function]"===e.call(a.defineProperties)});d("object-getownpropertydescriptor",function(){return"[object Function]"===e.call(a.getOwnPropertyDescriptor)});d("object-getownpropertynames",function(){return"[object Function]"===e.call(a.getOwnPropertyNames)});
d("object-es5",function(){return k("object-create")&&k("object-defineproperties")&&k("object-defineproperty")&&k("object-freeze")&&k("object-getownpropertydescriptor")&&k("object-getownpropertynames")&&k("object-getprototypeof")&&k("object-isextensible")&&k("object-isfrozen")&&k("object-issealed")&&k("object-keys")&&k("object-preventextensions")&&k("object-seal")});return k})},"dojo/dnd/AutoSource":function(){define(["../_base/declare","./Source"],function(k,d){return k("dojo.dnd.AutoSource",d,{constructor:function(){this.autoSync=
!0}})})},"dojo/dnd/Target":function(){define(["../_base/declare","../dom-class","./Source"],function(k,d,e){return k("dojo.dnd.Target",e,{constructor:function(){this.isSource=!1;d.remove(this.node,"dojoDndSource")}})})},"dijit/dijit":function(){define("./main ./_base dojo/parser ./_Widget ./_TemplatedMixin ./_Container ./layout/_LayoutWidget ./form/_FormWidget ./form/_FormValueWidget".split(" "),function(k){return k})},"dijit/_base":function(){define("./main ./a11y ./WidgetSet ./_base/focus ./_base/manager ./_base/place ./_base/popup ./_base/scroll ./_base/sniff ./_base/typematic ./_base/wai ./_base/window".split(" "),
function(k){return k._base})},"dijit/WidgetSet":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","./registry"],function(k,d,e,a){var b=d("dijit.WidgetSet",null,{constructor:function(){this._hash={};this.length=0},add:function(a){if(this._hash[a.id])throw Error("Tried to register widget with id\x3d\x3d"+a.id+" but that id is already registered");this._hash[a.id]=a;this.length++},remove:function(a){this._hash[a]&&(delete this._hash[a],this.length--)},forEach:function(a,
b){b=b||e.global;var d=0,g;for(g in this._hash)a.call(b,this._hash[g],d++,this._hash);return this},filter:function(a,d){d=d||e.global;var k=new b,g=0,f;for(f in this._hash){var c=this._hash[f];a.call(d,c,g++,this._hash)&&k.add(c)}return k},byId:function(a){return this._hash[a]},byClass:function(a){var d=new b,e,g;for(e in this._hash)g=this._hash[e],g.declaredClass==a&&d.add(g);return d},toArray:function(){var a=[],b;for(b in this._hash)a.push(this._hash[b]);return a},map:function(a,b){return k.map(this.toArray(),
a,b)},every:function(a,b){b=b||e.global;var d=0,g;for(g in this._hash)if(!a.call(b,this._hash[g],d++,this._hash))return!1;return!0},some:function(a,b){b=b||e.global;var d=0,g;for(g in this._hash)if(a.call(b,this._hash[g],d++,this._hash))return!0;return!1}});k.forEach("forEach filter byClass map every some".split(" "),function(d){a[d]=b.prototype[d]});return b})},"dijit/_base/focus":function(){define("dojo/_base/array dojo/dom dojo/_base/lang dojo/topic dojo/_base/window ../focus ../selection ../main".split(" "),
function(k,d,e,a,b,h,l,m){h.focus=function(a){if(a){var d="node"in a?a.node:a,c=a.bookmark;a=a.openedForWindow;var e=c?c.isCollapsed:!1;if(d){var k="iframe"==d.tagName.toLowerCase()?d.contentWindow:d;if(k&&k.focus)try{k.focus()}catch(l){}h._onFocusNode(d)}if(c&&b.withGlobal(a||b.global,m.isCollapsed)&&!e){a&&a.focus();try{b.withGlobal(a||b.global,m.moveToBookmark,null,[c])}catch(q){}}}};h.watch("curNode",function(b,d,c){m._curFocus=c;m._prevFocus=d;c&&a.publish("focusNode",c)});h.watch("activeStack",
function(a,b,c){m._activeStack=c});h.on("widget-blur",function(b,d){a.publish("widgetBlur",b,d)});h.on("widget-focus",function(b,d){a.publish("widgetFocus",b,d)});e.mixin(m,{_curFocus:null,_prevFocus:null,isCollapsed:function(){return m.getBookmark().isCollapsed},getBookmark:function(){return(b.global==window?l:new l.SelectionManager(b.global)).getBookmark()},moveToBookmark:function(a){return(b.global==window?l:new l.SelectionManager(b.global)).moveToBookmark(a)},getFocus:function(a,e){var c=!h.curNode||
a&&d.isDescendant(h.curNode,a.domNode)?m._prevFocus:h.curNode;return{node:c,bookmark:c&&c==h.curNode&&b.withGlobal(e||b.global,m.getBookmark),openedForWindow:e}},_activeStack:[],registerIframe:function(a){return h.registerIframe(a)},unregisterIframe:function(a){a&&a.remove()},registerWin:function(a,b){return h.registerWin(a,b)},unregisterWin:function(a){a&&a.remove()}});return m})},"dijit/selection":function(){define("dojo/_base/array dojo/dom dojo/_base/lang dojo/sniff dojo/_base/window dijit/focus".split(" "),
function(k,d,e,a,b,h){var l=function(g){var f=g.document;this.getType=function(){if(f.getSelection){var a="text",b;try{b=g.getSelection()}catch(d){}b&&1==b.rangeCount&&(b=b.getRangeAt(0),b.startContainer==b.endContainer&&(1==b.endOffset-b.startOffset&&3!=b.startContainer.nodeType)&&(a="control"));return a}return f.selection.type.toLowerCase()};this.getSelectedText=function(){if(f.getSelection){var a=g.getSelection();return a?a.toString():""}return"control"==this.getType()?null:f.selection.createRange().text};
this.getSelectedHtml=function(){if(f.getSelection){var a=g.getSelection();if(a&&a.rangeCount){var b,d="";for(b=0;b<a.rangeCount;b++){var e=a.getRangeAt(b).cloneContents(),h=f.createElement("div");h.appendChild(e);d+=h.innerHTML}return d}return null}return"control"==this.getType()?null:f.selection.createRange().htmlText};this.getSelectedElement=function(){if("control"==this.getType()){if(f.getSelection){var a=g.getSelection();return a.anchorNode.childNodes[a.anchorOffset]}if((a=f.selection.createRange())&&
a.item)return f.selection.createRange().item(0)}return null};this.getParentElement=function(){if("control"==this.getType()){var a=this.getSelectedElement();if(a)return a.parentNode}else if(f.getSelection){if(a=f.getSelection()){for(a=a.anchorNode;a&&1!=a.nodeType;)a=a.parentNode;return a}}else return a=f.selection.createRange(),a.collapse(!0),a.parentElement();return null};this.hasAncestorElement=function(a){return null!=this.getAncestorElement.apply(this,arguments)};this.getAncestorElement=function(a){var b=
this.getSelectedElement()||this.getParentElement();return this.getParentOfType(b,arguments)};this.isTag=function(a,b){if(a&&a.tagName)for(var d=a.tagName.toLowerCase(),e=0;e<b.length;e++){var f=String(b[e]).toLowerCase();if(d==f)return f}return""};this.getParentOfType=function(a,b){for(;a;){if(this.isTag(a,b).length)return a;a=a.parentNode}return null};this.collapse=function(a){if(f.getSelection){var b=g.getSelection();b.removeAllRanges?a?b.collapseToStart():b.collapseToEnd():b.collapse(a)}else b=
f.selection.createRange(),b.collapse(a),b.select()};this.remove=function(){var a=f.selection;f.getSelection?(a=g.getSelection(),a.deleteFromDocument()):"none"!=a.type.toLowerCase()&&a.clear();return a};this.selectElementChildren=function(b,e){var h;b=d.byId(b);if(f.getSelection){var k=g.getSelection();a("opera")?(h=k.rangeCount?k.getRangeAt(0):f.createRange(),h.setStart(b,0),h.setEnd(b,3==b.nodeType?b.length:b.childNodes.length),k.addRange(h)):k.selectAllChildren(b)}else if(h=b.ownerDocument.body.createTextRange(),
h.moveToElementText(b),!e)try{h.select()}catch(l){}};this.selectElement=function(c,e){var g;c=d.byId(c);if(f.getSelection){var h=f.getSelection();g=f.createRange();h.removeAllRanges&&(a("opera")&&h.getRangeAt(0)&&(g=h.getRangeAt(0)),g.selectNode(c),h.removeAllRanges(),h.addRange(g))}else try{h=c.tagName?c.tagName.toLowerCase():"",g="img"===h||"table"===h?b.body(f).createControlRange():b.body(f).createRange(),g.addElement(c),e||g.select()}catch(k){this.selectElementChildren(c,e)}};this.inSelection=
function(a){if(a){var b,d;if(f.getSelection){var e=g.getSelection();e&&0<e.rangeCount&&(d=e.getRangeAt(0));if(d&&d.compareBoundaryPoints&&f.createRange)try{if(b=f.createRange(),b.setStart(a,0),1===d.compareBoundaryPoints(d.START_TO_END,b))return!0}catch(h){}}else{d=f.selection.createRange();try{b=a.ownerDocument.body.createTextRange(),b.moveToElementText(a)}catch(k){}if(d&&b&&1===d.compareEndPoints("EndToStart",b))return!0}}return!1};this.getBookmark=function(){var a,b,d=f.selection,e=h.curNode;if(f.getSelection){if(d=
g.getSelection())if(d.isCollapsed){if(a=e?e.tagName:"")if(a=a.toLowerCase(),"textarea"==a||"input"==a&&(!e.type||"text"==e.type.toLowerCase()))return d={start:e.selectionStart,end:e.selectionEnd,node:e,pRange:!0},{isCollapsed:d.end<=d.start,mark:d};a={isCollapsed:!0};d.rangeCount&&(a.mark=d.getRangeAt(0).cloneRange())}else b=d.getRangeAt(0),a={isCollapsed:!1,mark:b.cloneRange()}}else if(d){a=e?e.tagName:"";a=a.toLowerCase();if(e&&a&&("button"==a||"textarea"==a||"input"==a)){if(d.type&&"none"==d.type.toLowerCase())return{isCollapsed:!0,
mark:null};b=d.createRange();return{isCollapsed:b.text&&b.text.length?!1:!0,mark:{range:b,pRange:!0}}}a={};try{b=d.createRange(),a.isCollapsed=!("Text"==d.type?b.htmlText.length:b.length)}catch(k){return a.isCollapsed=!0,a}if("CONTROL"==d.type.toUpperCase())if(b.length){a.mark=[];d=0;for(e=b.length;d<e;)a.mark.push(b.item(d++))}else a.isCollapsed=!0,a.mark=null;else a.mark=b.getBookmark()}return a};this.moveToBookmark=function(a){if(a=a.mark)if(f.getSelection){var b=g.getSelection();b&&b.removeAllRanges&&
(a.pRange?(b=a.node,b.selectionStart=a.start,b.selectionEnd=a.end):(b.removeAllRanges(),b.addRange(a)))}else if(f.selection&&a){var d;a.pRange?d=a.range:e.isArray(a)?(d=f.body.createControlRange(),k.forEach(a,function(a){d.addElement(a)})):(d=f.body.createTextRange(),d.moveToBookmark(a));d.select()}};this.isCollapsed=function(){return this.getBookmark().isCollapsed}},m=new l(window);m.SelectionManager=l;return m})},"dijit/_base/place":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/window",
"../place","../main"],function(k,d,e,a,b){var h={getViewport:function(){return e.getBox()}};h.placeOnScreen=a.at;h.placeOnScreenAroundElement=function(b,e,g,f){var c;if(d.isArray(g))c=g;else{c=[];for(var h in g)c.push({aroundCorner:h,corner:g[h]})}return a.around(b,e,c,!0,f)};h.placeOnScreenAroundNode=h.placeOnScreenAroundElement;h.placeOnScreenAroundRectangle=h.placeOnScreenAroundElement;h.getPopupAroundAlignment=function(a,b){var d={};k.forEach(a,function(a){var c=b;switch(a){case "after":d[b?"BR":
"BL"]=b?"BL":"BR";break;case "before":d[b?"BL":"BR"]=b?"BR":"BL";break;case "below-alt":c=!c;case "below":d[c?"BL":"BR"]=c?"TL":"TR";d[c?"BR":"BL"]=c?"TR":"TL";break;case "above-alt":c=!c;default:d[c?"TL":"TR"]=c?"BL":"BR",d[c?"TR":"TL"]=c?"BR":"BL"}});return d};d.mixin(b,h);return b})},"dijit/_base/popup":function(){define(["dojo/dom-class","dojo/_base/window","../popup","../BackgroundIframe"],function(k,d,e){var a=e._createWrapper;e._createWrapper=function(b){b.declaredClass||(b={_popupWrapper:b.parentNode&&
k.contains(b.parentNode,"dijitPopup")?b.parentNode:null,domNode:b,destroy:function(){},ownerDocument:b.ownerDocument,ownerDocumentBody:d.body(b.ownerDocument)});return a.call(this,b)};var b=e.open;e.open=function(a){if(a.orient&&"string"!=typeof a.orient&&!("length"in a.orient)){var d=[],e;for(e in a.orient)d.push({aroundCorner:e,corner:a.orient[e]});a.orient=d}return b.call(this,a)};return e})},"dijit/_base/scroll":function(){define(["dojo/window","../main"],function(k,d){d.scrollIntoView=function(d,
a){k.scrollIntoView(d,a)}})},"dijit/_base/sniff":function(){define(["dojo/uacss"],function(){})},"dijit/_base/typematic":function(){define(["../typematic"],function(){})},"dijit/typematic":function(){define("dojo/_base/array dojo/_base/connect dojo/_base/lang dojo/on dojo/sniff ./main".split(" "),function(k,d,e,a,b,h){var l=h.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(0>this._currentTimeout?this._initialDelay:
1<this._subsequentDelay?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay),this._minDelay);this._timer=setTimeout(e.hitch(this,"_fireEventAndReload"),this._currentTimeout)},trigger:function(a,b,d,c,h,k,l,q){if(h!=this._obj){this.stop();this._initialDelay=l||500;this._subsequentDelay=k||0.9;this._minDelay=q||10;this._obj=h;this._node=d;this._count=this._currentTimeout=-1;this._callback=e.hitch(b,c);this._evt={faux:!0};for(var p in a)"layerX"!=p&&"layerY"!=p&&(b=a[p],"function"!=
typeof b&&"undefined"!=typeof b&&(this._evt[p]=b));this._fireEventAndReload()}},stop:function(){this._timer&&(clearTimeout(this._timer),this._timer=null);this._obj&&(this._callback(-1,this._node,this._evt),this._obj=null)},addKeyListener:function(b,g,f,c,h,r,s){var q="keyCode"in g?"keyCode":"charCode"in g?"charCode":"charOrCode",p=[a(b,"keyCode"in g?"keydown":"charCode"in g?"keypress":d._keypress,e.hitch(this,function(a){a[q]==g[q]&&(void 0===g.ctrlKey||g.ctrlKey==a.ctrlKey)&&(void 0===g.altKey||
g.altKey==a.altKey)&&(void 0===g.metaKey||g.metaKey==(a.metaKey||!1))&&(void 0===g.shiftKey||g.shiftKey==a.shiftKey)?(a.stopPropagation(),a.preventDefault(),l.trigger(a,f,b,c,g,h,r,s)):l._obj==g&&l.stop()})),a(b,"keyup",e.hitch(this,function(){l._obj==g&&l.stop()}))];return{remove:function(){k.forEach(p,function(a){a.remove()})}}},addMouseListener:function(d,g,f,c,h,r){var s=[a(d,"mousedown",e.hitch(this,function(a){a.preventDefault();l.trigger(a,g,d,f,d,c,h,r)})),a(d,"mouseup",e.hitch(this,function(a){this._obj&&
a.preventDefault();l.stop()})),a(d,"mouseout",e.hitch(this,function(a){this._obj&&a.preventDefault();l.stop()})),a(d,"dblclick",e.hitch(this,function(a){a.preventDefault();9>b("ie")&&(l.trigger(a,g,d,f,d,c,h,r),setTimeout(e.hitch(this,l.stop),50))}))];return{remove:function(){k.forEach(s,function(a){a.remove()})}}},addListener:function(a,b,d,c,e,h,l,q){var p=[this.addKeyListener(b,d,c,e,h,l,q),this.addMouseListener(a,c,e,h,l,q)];return{remove:function(){k.forEach(p,function(a){a.remove()})}}}};return l})},
"dijit/_base/wai":function(){define(["dojo/dom-attr","dojo/_base/lang","../main","../hccss"],function(k,d,e){d.mixin(e,{hasWaiRole:function(a,b){var d=this.getWaiRole(a);return b?-1<d.indexOf(b):0<d.length},getWaiRole:function(a){return d.trim((k.get(a,"role")||"").replace("wairole:",""))},setWaiRole:function(a,b){k.set(a,"role",b)},removeWaiRole:function(a,b){var e=k.get(a,"role");e&&(b?(e=d.trim((" "+e+" ").replace(" "+b+" "," ")),k.set(a,"role",e)):a.removeAttribute("role"))},hasWaiState:function(a,
b){return a.hasAttribute?a.hasAttribute("aria-"+b):!!a.getAttribute("aria-"+b)},getWaiState:function(a,b){return a.getAttribute("aria-"+b)||""},setWaiState:function(a,b,d){a.setAttribute("aria-"+b,d)},removeWaiState:function(a,b){a.removeAttribute("aria-"+b)}});return e})},"dijit/_base/window":function(){define(["dojo/window","../main"],function(k,d){d.getDocumentWindow=function(d){return k.get(d)}})},"dojo/parser":function(){define("require ./_base/kernel ./_base/lang ./_base/array ./_base/config ./dom ./_base/window ./_base/url ./aspect ./promise/all ./date/stamp ./Deferred ./has ./query ./on ./ready".split(" "),
function(k,d,e,a,b,h,l,m,g,f,c,n,r,s,q,p){function t(a){return eval("("+a+")")}function u(a){var b=a._nameCaseMap,c=a.prototype;if(!b||b._extendCnt<w){var b=a._nameCaseMap={},d;for(d in c)"_"!==d.charAt(0)&&(b[d.toLowerCase()]=d);b._extendCnt=w}return b}function v(a,b){b||(b=k);var c=b._dojoParserCtorMap||(b._dojoParserCtorMap={}),d=a.join();if(!c[d]){for(var f=[],g=0,h=a.length;g<h;g++){var l=a[g];f[f.length]=c[l]=c[l]||e.getObject(l)||~l.indexOf("/")&&b(l)}g=f.shift();c[d]=f.length?g.createSubclass?
g.createSubclass(f):g.extend.apply(g,f):g}return c[d]}new Date("X");var w=0;g.after(e,"extend",function(){w++},!0);var x={_clearCache:function(){w++;_ctorMap={}},_functionFromScript:function(b,c){var d="",e="",f=b.getAttribute(c+"args")||b.getAttribute("args"),g=b.getAttribute("with"),f=(f||"").split(/\s*,\s*/);g&&g.length&&a.forEach(g.split(/\s*,\s*/),function(a){d+="with("+a+"){";e+="}"});return new Function(f,d+b.innerHTML+e)},instantiate:function(b,c,e){c=c||{};e=e||{};var f=(e.scope||d._scopeName)+
"Type",g="data-"+(e.scope||d._scopeName)+"-",h=g+"type",k=g+"mixins",l=[];a.forEach(b,function(a){var b=f in c?c[f]:a.getAttribute(h)||a.getAttribute(f);if(b){var d=a.getAttribute(k),b=d?[b].concat(d.split(/\s*,\s*/)):[b];l.push({node:a,types:b})}});return this._instantiate(l,c,e)},_instantiate:function(b,c,d,e){function g(b){!c._started&&!d.noStart&&a.forEach(b,function(a){"function"===typeof a.startup&&!a._started&&a.startup()});return b}b=a.map(b,function(a){var b=a.ctor||v(a.types,d.contextRequire);
if(!b)throw Error("Unable to resolve constructor for: '"+a.types.join()+"'");return this.construct(b,a.node,c,d,a.scripts,a.inherited)},this);return e?f(b).then(g):g(b)},construct:function(b,f,h,k,l,n){function p(a){U&&e.setObject(U,a);for(A=0;A<O.length;A++)g[O[A].advice||"after"](a,O[A].method,e.hitch(a,O[A].func),!0);for(A=0;A<V.length;A++)V[A].call(a);for(A=0;A<L.length;A++)a.watch(L[A].prop,L[A].func);for(A=0;A<S.length;A++)q(a,S[A].event,S[A].func);return a}var v=b&&b.prototype;k=k||{};var w=
{};k.defaults&&e.mixin(w,k.defaults);n&&e.mixin(w,n);var x;r("dom-attributes-explicit")?x=f.attributes:r("dom-attributes-specified-flag")?x=a.filter(f.attributes,function(a){return a.specified}):(n=(/^input$|^img$/i.test(f.nodeName)?f:f.cloneNode(!1)).outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,""),x=a.map(n.split(/\s+/),function(a){var b=a.toLowerCase();return{name:a,value:"LI"==f.nodeName&&"value"==a||"enctype"==b?f.getAttribute(b):f.getAttributeNode(b).value}}));
var K=k.scope||d._scopeName;n="data-"+K+"-";var F={};"dojo"!==K&&(F[n+"props"]="data-dojo-props",F[n+"type"]="data-dojo-type",F[n+"mixins"]="data-dojo-mixins",F[K+"type"]="dojotype",F[n+"id"]="data-dojo-id");for(var A=0,G,K=[],U,N;G=x[A++];){var M=G.name,R=M.toLowerCase();G=G.value;switch(F[R]||R){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;case "data-dojo-props":N=G;break;case "data-dojo-id":case "jsid":U=G;break;case "data-dojo-attach-point":case "dojoattachpoint":w.dojoAttachPoint=
G;break;case "data-dojo-attach-event":case "dojoattachevent":w.dojoAttachEvent=G;break;case "class":w["class"]=f.className;break;case "style":w.style=f.style&&f.style.cssText;break;default:if(M in v||(M=u(b)[R]||M),M in v)switch(typeof v[M]){case "string":w[M]=G;break;case "number":w[M]=G.length?Number(G):NaN;break;case "boolean":w[M]="false"!=G.toLowerCase();break;case "function":""===G||-1!=G.search(/[^\w\.]+/i)?w[M]=new Function(G):w[M]=e.getObject(G,!1)||new Function(G);K.push(M);break;default:R=
v[M],w[M]=R&&"length"in R?G?G.split(/\s*,\s*/):[]:R instanceof Date?""==G?new Date(""):"now"==G?new Date:c.fromISOString(G):R instanceof m?d.baseUrl+G:t(G)}else w[M]=G}}for(x=0;x<K.length;x++)F=K[x].toLowerCase(),f.removeAttribute(F),f[F]=null;if(N)try{N=t.call(k.propsThis,"{"+N+"}"),e.mixin(w,N)}catch(T){throw Error(T.toString()+" in data-dojo-props\x3d'"+N+"'");}e.mixin(w,h);l||(l=b&&(b._noScript||v._noScript)?[]:s("\x3e script[type^\x3d'dojo/']",f));var O=[],V=[],L=[],S=[];if(l)for(A=0;A<l.length;A++)F=
l[A],f.removeChild(F),h=F.getAttribute(n+"event")||F.getAttribute("event"),k=F.getAttribute(n+"prop"),N=F.getAttribute(n+"method"),K=F.getAttribute(n+"advice"),x=F.getAttribute("type"),F=this._functionFromScript(F,n),h?"dojo/connect"==x?O.push({method:h,func:F}):"dojo/on"==x?S.push({event:h,func:F}):w[h]=F:"dojo/aspect"==x?O.push({method:N,advice:K,func:F}):"dojo/watch"==x?L.push({prop:k,func:F}):V.push(F);b=(l=b.markupFactory||v.markupFactory)?l(w,f,b):new b(w,f);return b.then?b.then(p):p(b)},scan:function(b,
c){function e(a){if(!a.inherited){a.inherited={};var b=a.node,c=e(a.parent),b={dir:b.getAttribute("dir")||c.dir,lang:b.getAttribute("lang")||c.lang,textDir:b.getAttribute(t)||c.textDir},d;for(d in b)b[d]&&(a.inherited[d]=b[d])}return a.inherited}var f=[],g=[],h={},l=(c.scope||d._scopeName)+"Type",m="data-"+(c.scope||d._scopeName)+"-",p=m+"type",t=m+"textdir",m=m+"mixins",q=b.firstChild,s=c.inherited;if(!s){var u=function(a,b){return a.getAttribute&&a.getAttribute(b)||a.parentNode&&u(a.parentNode,
b)},s={dir:u(b,"dir"),lang:u(b,"lang"),textDir:u(b,t)},w;for(w in s)s[w]||delete s[w]}for(var s={inherited:s},x,N;;)if(q)if(1!=q.nodeType)q=q.nextSibling;else if(x&&"script"==q.nodeName.toLowerCase())(M=q.getAttribute("type"))&&/^dojo\/\w/i.test(M)&&x.push(q),q=q.nextSibling;else if(N)q=q.nextSibling;else{var M=q.getAttribute(p)||q.getAttribute(l);w=q.firstChild;if(!M&&(!w||3==w.nodeType&&!w.nextSibling))q=q.nextSibling;else{N=null;if(M){var R=q.getAttribute(m);x=R?[M].concat(R.split(/\s*,\s*/)):
[M];try{N=v(x,c.contextRequire)}catch(T){}N||a.forEach(x,function(a){~a.indexOf("/")&&!h[a]&&(h[a]=!0,g[g.length]=a)});R=N&&!N.prototype._noScript?[]:null;s={types:x,ctor:N,parent:s,node:q,scripts:R};s.inherited=e(s);f.push(s)}else s={node:q,scripts:x,parent:s};x=R;N=q.stopParser||N&&N.prototype.stopParser&&!c.template;q=w}}else{if(!s||!s.node)break;q=s.node.nextSibling;N=!1;s=s.parent;x=s.scripts}var O=new n;g.length?(r("dojo-debug-messages"),(c.contextRequire||k)(g,function(){O.resolve(a.filter(f,
function(a){if(!a.ctor)try{a.ctor=v(a.types,c.contextRequire)}catch(b){}for(var d=a.parent;d&&!d.types;)d=d.parent;var e=a.ctor&&a.ctor.prototype;a.instantiateChildren=!(e&&e.stopParser&&!c.template);a.instantiate=!d||d.instantiate&&d.instantiateChildren;return a.instantiate}))})):O.resolve(f);return O.promise},_require:function(a,b){var c=t("{"+a.innerHTML+"}"),d=[],f=[],g=new n,h=b&&b.contextRequire||k,l;for(l in c)d.push(l),f.push(c[l]);h(f,function(){for(var a=0;a<d.length;a++)e.setObject(d[a],
arguments[a]);g.resolve(arguments)});return g.promise},_scanAmd:function(a,b){var c=new n,d=c.promise;c.resolve(!0);var e=this;s("script[type\x3d'dojo/require']",a).forEach(function(a){d=d.then(function(){return e._require(a,b)});a.parentNode.removeChild(a)});return d},parse:function(a,b){a&&("string"!=typeof a&&!("nodeType"in a))&&(b=a,a=b.rootNode);var c=a?h.byId(a):l.body();b=b||{};var d=b.template?{template:!0}:{},f=[],g=this,k=this._scanAmd(c,b).then(function(){return g.scan(c,b)}).then(function(a){return g._instantiate(a,
d,b,!0)}).then(function(a){return f=f.concat(a)}).otherwise(function(a){console.error("dojo/parser::parse() error",a);throw a;});e.mixin(f,k);return f}};d.parser=x;b.parseOnLoad&&p(100,x,"parse");return x})},"dojo/_base/url":function(){define(["./kernel"],function(k){var d=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,e=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,a=function(){for(var b=arguments,h=[b[0]],k=1;k<b.length;k++)if(b[k]){var m=new a(b[k]+""),h=new a(h[0]+
"");if(""==m.path&&!m.scheme&&!m.authority&&!m.query)null!=m.fragment&&(h.fragment=m.fragment),m=h;else if(!m.scheme&&(m.scheme=h.scheme,!m.authority&&(m.authority=h.authority,"/"!=m.path.charAt(0)))){for(var h=(h.path.substring(0,h.path.lastIndexOf("/")+1)+m.path).split("/"),g=0;g<h.length;g++)"."==h[g]?g==h.length-1?h[g]="":(h.splice(g,1),g--):0<g&&(!(1==g&&""==h[0])&&".."==h[g]&&".."!=h[g-1])&&(g==h.length-1?(h.splice(g,1),h[g-1]=""):(h.splice(g-1,2),g-=2));m.path=h.join("/")}h=[];m.scheme&&h.push(m.scheme,
":");m.authority&&h.push("//",m.authority);h.push(m.path);m.query&&h.push("?",m.query);m.fragment&&h.push("#",m.fragment)}this.uri=h.join("");b=this.uri.match(d);this.scheme=b[2]||(b[1]?"":null);this.authority=b[4]||(b[3]?"":null);this.path=b[5];this.query=b[7]||(b[6]?"":null);this.fragment=b[9]||(b[8]?"":null);null!=this.authority&&(b=this.authority.match(e),this.user=b[3]||null,this.password=b[4]||null,this.host=b[6]||b[7],this.port=b[9]||null)};a.prototype.toString=function(){return this.uri};
return k._Url=a})},"dojo/date/stamp":function(){define(["../_base/lang","../_base/array"],function(k,d){var e={};k.setObject("dojo.date.stamp",e);e.fromISOString=function(a,b){e._isoRegExp||(e._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/);var h=e._isoRegExp.exec(a),k=null;if(h){h.shift();h[1]&&h[1]--;h[6]&&(h[6]*=1E3);b&&(b=new Date(b),d.forEach(d.map("FullYear Month Date Hours Minutes Seconds Milliseconds".split(" "),function(a){return b["get"+
a]()}),function(a,b){h[b]=h[b]||a}));k=new Date(h[0]||1970,h[1]||0,h[2]||1,h[3]||0,h[4]||0,h[5]||0,h[6]||0);100>h[0]&&k.setFullYear(h[0]||1970);var m=0,g=h[7]&&h[7].charAt(0);"Z"!=g&&(m=60*(h[8]||0)+(Number(h[9])||0),"-"!=g&&(m*=-1));g&&(m-=k.getTimezoneOffset());m&&k.setTime(k.getTime()+6E4*m)}return k};e.toISOString=function(a,b){var d=function(a){return 10>a?"0"+a:a};b=b||{};var e=[],k=b.zulu?"getUTC":"get",g="";"time"!=b.selector&&(g=a[k+"FullYear"](),g=["0000".substr((g+"").length)+g,d(a[k+"Month"]()+
1),d(a[k+"Date"]())].join("-"));e.push(g);if("date"!=b.selector){g=[d(a[k+"Hours"]()),d(a[k+"Minutes"]()),d(a[k+"Seconds"]())].join(":");k=a[k+"Milliseconds"]();b.milliseconds&&(g+="."+(100>k?"0":"")+d(k));if(b.zulu)g+="Z";else if("time"!=b.selector)var k=a.getTimezoneOffset(),f=Math.abs(k),g=g+((0<k?"-":"+")+d(Math.floor(f/60))+":"+d(f%60));e.push(g)}return e.join("T")};return e})},"dijit/layout/_LayoutWidget":function(){define("dojo/_base/lang ../_Widget ../_Container ../_Contained ../Viewport dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style".split(" "),
function(k,d,e,a,b,h,l,m,g){return h("dijit.layout._LayoutWidget",[d,e,a],{baseClass:"dijitLayoutContainer",isLayoutContainer:!0,_setTitleAttr:null,buildRendering:function(){this.inherited(arguments);l.add(this.domNode,"dijitContainer")},startup:function(){if(!this._started){this.inherited(arguments);var a=this.getParent&&this.getParent();if(!a||!a.isLayoutContainer)this.resize(),this.own(b.on("resize",k.hitch(this,"resize")))}},resize:function(a,b){var d=this.domNode;a&&m.setMarginBox(d,a);var e=
b||{};k.mixin(e,a||{});if(!("h"in e)||!("w"in e))e=k.mixin(m.getMarginBox(d),e);var h=g.getComputedStyle(d),l=m.getMarginExtents(d,h),p=m.getBorderExtents(d,h),e=this._borderBox={w:e.w-(l.w+p.w),h:e.h-(l.h+p.h)},l=m.getPadExtents(d,h);this._contentBox={l:g.toPixelValue(d,h.paddingLeft),t:g.toPixelValue(d,h.paddingTop),w:e.w-l.w,h:e.h-l.h};this.layout()},layout:function(){},_setupChild:function(a){l.add(a.domNode,this.baseClass+"-child "+(a.baseClass?this.baseClass+"-"+a.baseClass:""))},addChild:function(a,
b){this.inherited(arguments);this._started&&this._setupChild(a)},removeChild:function(a){l.remove(a.domNode,this.baseClass+"-child"+(a.baseClass?" "+this.baseClass+"-"+a.baseClass:""));this.inherited(arguments)}})})},"dijit/form/DropDownButton":function(){define("dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/query ../registry ../popup ./Button ../_Container ../_HasDropDown dojo/text!./templates/DropDownButton.html ../a11yclick".split(" "),function(k,d,e,a,b,h,l,m,g,f){return k("dijit.form.DropDownButton",
[l,m,g],{baseClass:"dijitDropDownButton",templateString:f,_fillContent:function(){var a=this.srcNodeRef,b=this.containerNode;if(a&&b)for(;a.hasChildNodes();){var e=a.firstChild;e.hasAttribute&&(e.hasAttribute("data-dojo-type")||e.hasAttribute("dojoType")||e.hasAttribute("data-"+d._scopeName+"-type")||e.hasAttribute(d._scopeName+"Type"))?(this.dropDownContainer=this.ownerDocument.createElement("div"),this.dropDownContainer.appendChild(e)):b.appendChild(e)}},startup:function(){this._started||(!this.dropDown&&
this.dropDownContainer&&(this.dropDown=b.byNode(this.dropDownContainer.firstChild),delete this.dropDownContainer),this.dropDown&&h.hide(this.dropDown),this.inherited(arguments))},isLoaded:function(){var a=this.dropDown;return!!a&&(!a.href||a.isLoaded)},loadDropDown:function(a){var b=this.dropDown,d=b.on("load",e.hitch(this,function(){d.remove();a()}));b.refresh()},isFocusable:function(){return this.inherited(arguments)&&!this._mouseDown}})})},"dijit/form/Button":function(){define("require dojo/_base/declare dojo/dom-class dojo/has dojo/_base/kernel dojo/_base/lang dojo/ready ./_FormWidget ./_ButtonMixin dojo/text!./templates/Button.html ../_mw/utils/deprecation ../a11yclick".split(" "),
function(k,d,e,a,b,h,l,m,g,f,c){c.deprecated({deprecated:{module:"dijit/form/Button"},replacement:{module:"MW/form/PushButton"},geckNumber:1352405});a("dijit-legacy-requires")&&l(0,function(){k(["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"])});l=d("dijit.form.Button"+(a("dojo-bidi")?"_NoBidi":""),[m,g],{showLabel:!0,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:f,_setValueAttr:"valueNode",_setNameAttr:function(a){this.valueNode&&
this.valueNode.setAttribute("name",a)},postCreate:function(){this.inherited(arguments);this._setLabelFromContainer()},_setLabelFromContainer:function(){this.containerNode&&!this.label&&(this.label=h.trim(this.containerNode.innerHTML),this.onLabelSet())},_setShowLabelAttr:function(a){this.containerNode&&e.toggle(this.containerNode,"dijitDisplayNone",!a);this._set("showLabel",a)},setLabel:function(a){b.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");
this.set("label",a)},onLabelSet:function(){this.inherited(arguments);!this.showLabel&&!("title"in this.params)&&(this.titleNode.title=h.trim(this.containerNode.innerText||this.containerNode.textContent||""))}});a("dojo-bidi")&&(l=d("dijit.form.Button",l,{onLabelSet:function(){this.inherited(arguments);this.titleNode.title&&this.applyTextDir(this.titleNode,this.titleNode.title)},_setTextDirAttr:function(a){this._created&&this.textDir!=a&&(this._set("textDir",a),this._setLabelAttr(this.label))}}));
return l})},"dijit/form/_ButtonMixin":function(){define(["dojo/_base/declare","dojo/dom","dojo/has","../registry"],function(k,d,e,a){var b=k("dijit.form._ButtonMixin"+(e("dojo-bidi")?"_NoBidi":""),null,{label:"",type:"button",__onClick:function(a){a.stopPropagation();a.preventDefault();this.disabled||this.valueNode.click(a);return!1},_onClick:function(b){if(this.disabled)return b.stopPropagation(),b.preventDefault(),!1;!1===this.onClick(b)&&b.preventDefault();var d=b.defaultPrevented;if(!d&&"submit"==
this.type&&!(this.valueNode||this.focusNode).form)for(var e=this.domNode;e.parentNode;e=e.parentNode){var g=a.byNode(e);if(g&&"function"==typeof g._onSubmit){g._onSubmit(b);b.preventDefault();d=!0;break}}return!d},postCreate:function(){this.inherited(arguments);d.setSelectable(this.focusNode,!1)},onClick:function(){return!0},_setLabelAttr:function(a){this._set("label",a);(this.containerNode||this.focusNode).innerHTML=a;this.onLabelSet()},onLabelSet:function(){}});e("dojo-bidi")&&(b=k("dijit.form._ButtonMixin",
b,{onLabelSet:function(){this.inherited(arguments);this.applyTextDir(this.containerNode||this.focusNode)}}));return b})},"dijit/_HasDropDown":function(){define("dojo/_base/declare dojo/_base/Deferred dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/has dojo/keys dojo/_base/lang dojo/on dojo/touch ./registry ./focus ./popup ./_FocusMixin".split(" "),function(k,d,e,a,b,h,l,m,g,f,c,n,r,s,q,p){return k("dijit._HasDropDown",p,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,
_aroundNode:null,dropDown:null,autoWidth:!0,forceWidth:!1,maxHeight:-1,dropDownPosition:["below","above"],_stopClickEvents:!0,_onDropDownMouseDown:function(a){!this.disabled&&!this.readOnly&&("MSPointerDown"!=a.type&&"pointerdown"!=a.type&&a.preventDefault(),this.own(c.once(this.ownerDocument,n.release,f.hitch(this,"_onDropDownMouseUp"))),this.toggleDropDown())},_onDropDownMouseUp:function(a){var c=this.dropDown,d=!1;if(a&&this._opened){var e=h.position(this._buttonNode,!0);if(!(a.pageX>=e.x&&a.pageX<=
e.x+e.w)||!(a.pageY>=e.y&&a.pageY<=e.y+e.h)){for(e=a.target;e&&!d;)b.contains(e,"dijitPopup")?d=!0:e=e.parentNode;if(d){e=a.target;if(c.onItemClick){for(var f;e&&!(f=r.byNode(e));)e=e.parentNode;if(f&&f.onClick&&f.getParent)f.getParent().onItemClick(f,a)}return}}}if(this._opened){if(c.focus&&(!1!==c.autoFocus||"mouseup"==a.type&&!this.hovering))this._focusDropDownTimer=this.defer(function(){c.focus();delete this._focusDropDownTimer})}else this.focus&&this.defer("focus")},_onDropDownClick:function(a){this._stopClickEvents&&
(a.stopPropagation(),a.preventDefault())},buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var a={after:this.isLeftToRight()?"Right":"Left",before:this.isLeftToRight()?"Left":"Right",above:"Up",below:"Down",left:"Left",right:"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";b.add(this._arrowWrapperNode||this._buttonNode,"dijit"+a+"ArrowButton")},
postCreate:function(){this.inherited(arguments);var a=this.focusNode||this.domNode;this.own(c(this._buttonNode,n.press,f.hitch(this,"_onDropDownMouseDown")),c(this._buttonNode,"click",f.hitch(this,"_onDropDownClick")),c(a,"keydown",f.hitch(this,"_onKey")),c(a,"keyup",f.hitch(this,"_onKeyUp")))},destroy:function(){this._opened&&this.closeDropDown(!0);this.dropDown&&(this.dropDown._destroyed||this.dropDown.destroyRecursive(),delete this.dropDown);this.inherited(arguments)},_onKey:function(a){if(!this.disabled&&
!this.readOnly){var b=this.dropDown,c=a.target;if(b&&(this._opened&&b.handleKey)&&!1===b.handleKey(a))a.stopPropagation(),a.preventDefault();else if(b&&this._opened&&a.keyCode==g.ESCAPE)this.closeDropDown(),a.stopPropagation(),a.preventDefault();else if(!this._opened&&(a.keyCode==g.DOWN_ARROW||(a.keyCode==g.ENTER||a.keyCode==g.SPACE&&(!this._searchTimer||a.ctrlKey||a.altKey||a.metaKey))&&("input"!==(c.tagName||"").toLowerCase()||c.type&&"text"!==c.type.toLowerCase())))this._toggleOnKeyUp=!0,a.stopPropagation(),
a.preventDefault()}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;this.toggleDropDown();var a=this.dropDown;a&&a.focus&&this.defer(f.hitch(a,"focus"),1)}},_onBlur:function(){this.closeDropDown(!1);this.inherited(arguments)},isLoaded:function(){return!0},loadDropDown:function(a){a()},loadAndOpenDropDown:function(){var a=new d,b=f.hitch(this,function(){this.openDropDown();a.resolve(this.dropDown)});this.isLoaded()?b():this.loadDropDown(b);return a},toggleDropDown:function(){!this.disabled&&
!this.readOnly&&(this._opened?this.closeDropDown(!0):this.loadAndOpenDropDown())},openDropDown:function(){var c=this.dropDown,d=c.domNode,e=this._aroundNode||this.domNode,g=this,k=q.open({parent:this,popup:c,around:e,orient:this.dropDownPosition,maxHeight:this.maxHeight,onExecute:function(){g.closeDropDown(!0)},onCancel:function(){g.closeDropDown(!0)},onClose:function(){a.set(g._popupStateNode,"popupActive",!1);b.remove(g._popupStateNode,"dijitHasDropDownOpen");g._set("_opened",!1)}});if(this.forceWidth||
this.autoWidth&&e.offsetWidth>c._popupWrapper.offsetWidth){var e=e.offsetWidth-c._popupWrapper.offsetWidth,l={w:c.domNode.offsetWidth+e};this._origStyle=d.style.cssText;f.isFunction(c.resize)?c.resize(l):h.setMarginBox(d,l);"R"==k.corner[1]&&(c._popupWrapper.style.left=c._popupWrapper.style.left.replace("px","")-e+"px")}a.set(this._popupStateNode,"popupActive","true");b.add(this._popupStateNode,"dijitHasDropDownOpen");this._set("_opened",!0);this._popupStateNode.setAttribute("aria-expanded","true");
this._popupStateNode.setAttribute("aria-owns",c.id);"presentation"!==d.getAttribute("role")&&!d.getAttribute("aria-labelledby")&&d.setAttribute("aria-labelledby",this.id);return k},closeDropDown:function(a){this._focusDropDownTimer&&(this._focusDropDownTimer.remove(),delete this._focusDropDownTimer);this._opened&&(this._popupStateNode.setAttribute("aria-expanded","false"),a&&this.focus&&this.focus(),q.close(this.dropDown),this._opened=!1);this._origStyle&&(this.dropDown.domNode.style.cssText=this._origStyle,
delete this._origStyle)}})})},"dijit/form/ComboButton":function(){define("dojo/_base/declare dojo/keys ../focus ./DropDownButton dojo/text!./templates/ComboButton.html ../a11yclick".split(" "),function(k,d,e,a,b){return k("dijit.form.ComboButton",a,{templateString:b,_setIdAttr:"",_setTabIndexAttr:["focusNode","titleNode"],_setTitleAttr:"titleNode",optionsTitle:"",baseClass:"dijitComboButton",cssStateNodes:{buttonNode:"dijitButtonNode",titleNode:"dijitButtonContents",_popupStateNode:"dijitDownArrowButton"},
_focusedNode:null,_onButtonKeyDown:function(a){if(a.keyCode==d[this.isLeftToRight()?"RIGHT_ARROW":"LEFT_ARROW"])e.focus(this._popupStateNode),a.stopPropagation(),a.preventDefault()},_onArrowKeyDown:function(a){if(a.keyCode==d[this.isLeftToRight()?"LEFT_ARROW":"RIGHT_ARROW"])e.focus(this.titleNode),a.stopPropagation(),a.preventDefault()},focus:function(a){this.disabled||e.focus("start"==a?this.titleNode:this._popupStateNode)}})})},"dijit/form/ToggleButton":function(){define(["dojo/_base/declare","dojo/_base/kernel",
"./Button","./_ToggleButtonMixin","../_mw/utils/deprecation"],function(k,d,e,a,b){b.deprecated({deprecated:{module:"dijit/form/ToggleButton"},replacement:{module:"MW/form/ToggleButton"},geckNumber:1352405});return k("dijit.form.ToggleButton",[e,a],{baseClass:"dijitToggleButton",setChecked:function(a){d.deprecated("setChecked("+a+") is deprecated. Use set('checked',"+a+") instead.","","2.0");this.set("checked",a)}})})},"dijit/form/_ToggleButtonMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],
function(k,d){return k("dijit.form._ToggleButtonMixin",null,{checked:!1,_aria_attr:"aria-pressed",_onClick:function(d){var a=this.checked;this._set("checked",!a);var b=this.inherited(arguments);this.set("checked",b?this.checked:a);return b},_setCheckedAttr:function(e,a){this._set("checked",e);var b=this.focusNode||this.domNode;this._created&&d.get(b,"checked")!=!!e&&d.set(b,"checked",!!e);b.setAttribute(this._aria_attr,String(e));this._handleOnChange(e,a)},postCreate:function(){this.inherited(arguments);
var d=this.focusNode||this.domNode;this.checked&&d.setAttribute("checked","checked");void 0===this._resetValue&&(this._lastValueReported=this._resetValue=this.checked)},reset:function(){this._hasBeenBlurred=!1;this.set("checked",this.params.checked||!1)}})})},"dijit/TooltipDialog":function(){define("dojo/_base/declare dojo/dom-class dojo/has dojo/keys dojo/_base/lang dojo/on ./focus ./layout/ContentPane ./_DialogMixin ./form/_FormMixin ./_TemplatedMixin dojo/text!./templates/TooltipDialog.html ./main".split(" "),
function(k,d,e,a,b,h,l,m,g,f,c,n,r){k=k("dijit.TooltipDialog",[m,c,f,g],{title:"",doLayout:!1,autofocus:!0,baseClass:"dijitTooltipDialog",_firstFocusItem:null,_lastFocusItem:null,templateString:n,_setTitleAttr:"containerNode",postCreate:function(){this.inherited(arguments);this.own(h(this.domNode,"keydown",b.hitch(this,"_onKey")))},orient:function(a,b,c){a={"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft",
"TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft","BR-TL":"dijitTooltipBelow dijitTooltipABLeft","BL-TR":"dijitTooltipBelow dijitTooltipABRight","TL-BR":"dijitTooltipAbove dijitTooltipABRight","TR-BL":"dijitTooltipAbove dijitTooltipABLeft"}[b+"-"+c];d.replace(this.domNode,a,this._currentOrientClass||"");this._currentOrientClass=a},focus:function(){this._getFocusItems();
l.focus(this._firstFocusItem)},onOpen:function(a){this.orient(this.domNode,a.aroundCorner,a.corner);var b=a.aroundNodePos;"M"==a.corner.charAt(0)&&"M"==a.aroundCorner.charAt(0)?(this.connectorNode.style.top=b.y+(b.h-this.connectorNode.offsetHeight>>1)-a.y+"px",this.connectorNode.style.left=""):"M"==a.corner.charAt(1)&&"M"==a.aroundCorner.charAt(1)&&(this.connectorNode.style.left=b.x+(b.w-this.connectorNode.offsetWidth>>1)-a.x+"px");this._onShow()},onClose:function(){this.onHide()},_onKey:function(b){if(b.keyCode==
a.ESCAPE)this.defer("onCancel"),b.stopPropagation(),b.preventDefault();else if(b.keyCode==a.TAB){var c=b.target;this._getFocusItems();this._firstFocusItem==this._lastFocusItem?(b.stopPropagation(),b.preventDefault()):c==this._firstFocusItem&&b.shiftKey?(l.focus(this._lastFocusItem),b.stopPropagation(),b.preventDefault()):c==this._lastFocusItem&&!b.shiftKey?(l.focus(this._firstFocusItem),b.stopPropagation(),b.preventDefault()):b.stopPropagation()}}});e("dojo-bidi")&&k.extend({_setTitleAttr:function(a){this.containerNode.title=
this.textDir&&this.enforceTextDirWithUcc?this.enforceTextDirWithUcc(null,a):a;this._set("title",a)},_setTextDirAttr:function(a){if(!this._created||this.textDir!=a)this._set("textDir",a),this.textDir&&this.title&&(this.containerNode.title=this.enforceTextDirWithUcc(null,this.title))}});return k})},"dijit/layout/ContentPane":function(){define("dojo/_base/kernel dojo/_base/lang ../_Widget ../_Container ./_ContentPaneResizeMixin dojo/string dojo/html dojo/_base/array dojo/_base/declare dojo/_base/Deferred dojo/dom dojo/dom-attr dojo/dom-construct dojo/_base/xhr dojo/i18n dojo/when dojo/i18n!../nls/loading".split(" "),
function(k,d,e,a,b,h,l,m,g,f,c,n,r,s,q,p){return g("dijit.layout.ContentPane",[e,a,b],{href:"",content:"",extractContent:!1,parseOnLoad:!0,parserScope:k._scopeName,preventCache:!1,preload:!1,refreshOnShow:!1,loadingMessage:"\x3cspan class\x3d'dijitContentPaneLoading'\x3e\x3cspan class\x3d'dijitInline dijitIconLoading'\x3e\x3c/span\x3e${loadingState}\x3c/span\x3e",errorMessage:"\x3cspan class\x3d'dijitContentPaneError'\x3e\x3cspan class\x3d'dijitInline dijitIconError'\x3e\x3c/span\x3e${errorState}\x3c/span\x3e",
isLoaded:!1,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,_setTitleAttr:null,stopParser:!0,template:!1,markupFactory:function(a,b,c){var d=new c(a,b);return!d.href&&d._contentSetter&&d._contentSetter.parseDeferred&&!d._contentSetter.parseDeferred.isFulfilled()?d._contentSetter.parseDeferred.then(function(){return d}):d},create:function(a,b){if((!a||!a.template)&&b&&!("href"in a)&&!("content"in a)){b=c.byId(b);for(var e=b.ownerDocument.createDocumentFragment();b.firstChild;)e.appendChild(b.firstChild);
a=d.delegate(a,{content:e})}this.inherited(arguments,[a,b])},postMixInProperties:function(){this.inherited(arguments);var a=q.getLocalization("dijit","loading",this.lang);this.loadingMessage=h.substitute(this.loadingMessage,a);this.errorMessage=h.substitute(this.errorMessage,a)},buildRendering:function(){this.inherited(arguments);this.containerNode||(this.containerNode=this.domNode);this.domNode.removeAttribute("title")},startup:function(){this.inherited(arguments);this._contentSetter&&m.forEach(this._contentSetter.parseResults,
function(a){!a._started&&(!a._destroyed&&d.isFunction(a.startup))&&(a.startup(),a._started=!0)},this)},_startChildren:function(){m.forEach(this.getChildren(),function(a){!a._started&&(!a._destroyed&&d.isFunction(a.startup))&&(a.startup(),a._started=!0)});this._contentSetter&&m.forEach(this._contentSetter.parseResults,function(a){!a._started&&(!a._destroyed&&d.isFunction(a.startup))&&(a.startup(),a._started=!0)},this)},setHref:function(a){k.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.",
"","2.0");return this.set("href",a)},_setHrefAttr:function(a){this.cancel();this.onLoadDeferred=new f(d.hitch(this,"cancel"));this.onLoadDeferred.then(d.hitch(this,"onLoad"));this._set("href",a);this.preload||this._created&&this._isShown()?this._load():this._hrefChanged=!0;return this.onLoadDeferred},setContent:function(a){k.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",a)},_setContentAttr:function(a){this._set("href",
"");this.cancel();this.onLoadDeferred=new f(d.hitch(this,"cancel"));this._created&&this.onLoadDeferred.then(d.hitch(this,"onLoad"));this._setContent(a||"");this._isDownloaded=!1;return this.onLoadDeferred},_getContentAttr:function(){return this.containerNode.innerHTML},cancel:function(){this._xhrDfd&&-1==this._xhrDfd.fired&&this._xhrDfd.cancel();delete this._xhrDfd;this.onLoadDeferred=null},destroy:function(){this.cancel();this.inherited(arguments)},destroyRecursive:function(a){this._beingDestroyed||
this.inherited(arguments)},_onShow:function(){this.inherited(arguments);if(this.href&&!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow))return this.refresh()},refresh:function(){this.cancel();this.onLoadDeferred=new f(d.hitch(this,"cancel"));this.onLoadDeferred.then(d.hitch(this,"onLoad"));this._load();return this.onLoadDeferred},_load:function(){this._setContent(this.onDownloadStart(),!0);var a=this,b={preventCache:this.preventCache||this.refreshOnShow,url:this.href,handleAs:"text"};
d.isObject(this.ioArgs)&&d.mixin(b,this.ioArgs);var c=this._xhrDfd=(this.ioMethod||s.get)(b),e;c.then(function(b){e=b;try{return a._isDownloaded=!0,a._setContent(b,!1)}catch(c){a._onError("Content",c)}},function(b){c.canceled||a._onError("Download",b);delete a._xhrDfd;return b}).then(function(){a.onDownloadEnd();delete a._xhrDfd;return e});delete this._hrefChanged},_onLoadHandler:function(a){this._set("isLoaded",!0);try{this.onLoadDeferred.resolve(a)}catch(b){console.error("Error "+this.widgetId+
" running custom onLoad code: "+b.message)}},_onUnloadHandler:function(){this._set("isLoaded",!1);try{this.onUnload()}catch(a){console.error("Error "+this.widgetId+" running custom onUnload code: "+a.message)}},destroyDescendants:function(a){this.isLoaded&&this._onUnloadHandler();var b=this._contentSetter;m.forEach(this.getChildren(),function(b){b.destroyRecursive?b.destroyRecursive(a):b.destroy&&b.destroy(a);b._destroyed=!0});b&&(m.forEach(b.parseResults,function(b){b._destroyed||(b.destroyRecursive?
b.destroyRecursive(a):b.destroy&&b.destroy(a),b._destroyed=!0)}),delete b.parseResults);a||r.empty(this.containerNode);delete this._singleChild},_setContent:function(a,b){a=this.preprocessContent(a);this.destroyDescendants();var c=this._contentSetter;c&&c instanceof l._ContentSetter||(c=this._contentSetter=new l._ContentSetter({node:this.containerNode,_onError:d.hitch(this,this._onError),onContentError:d.hitch(this,function(a){a=this.onContentError(a);try{this.containerNode.innerHTML=a}catch(b){console.error("Fatal "+
this.id+" could not change content due to "+b.message,b)}})}));var e=d.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:!a.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:!1,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{}),e=c.set(d.isObject(a)&&a.domNode?a.domNode:a,e),f=this;return p(e&&e.then?e:c.parseDeferred,function(){delete f._contentSetterParams;b||(f._started&&(f._startChildren(),f._scheduleLayout()),f._onLoadHandler(a))})},
preprocessContent:function(a){return a},_onError:function(a,b,c){this.onLoadDeferred.reject(b);a=this["on"+a+"Error"].call(this,b);c?console.error(c,b):a&&this._setContent(a,!0)},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage},onContentError:function(){},onDownloadError:function(){return this.errorMessage},onDownloadEnd:function(){}})})},"dijit/layout/_ContentPaneResizeMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/lang dojo/query ../registry ../Viewport ./utils".split(" "),
function(k,d,e,a,b,h,l,m,g,f){return d("dijit.layout._ContentPaneResizeMixin",null,{doLayout:!0,isLayoutContainer:!0,startup:function(){if(!this._started){var a=this.getParent();this._childOfLayoutWidget=a&&a.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);this._isShown()&&this._onShow();this._childOfLayoutWidget||this.own(g.on("resize",h.hitch(this,"resize")))}},_checkIfSingleChild:function(){if(this.doLayout){var a=[],b=!1;l("\x3e *",this.containerNode).some(function(d){var e=
m.byNode(d);e&&e.resize?a.push(e):!/script|link|style/i.test(d.nodeName)&&d.offsetHeight&&(b=!0)});this._singleChild=1==a.length&&!b?a[0]:null;e.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild)}},resize:function(a,b){this._resizeCalled=!0;this._scheduleLayout(a,b)},_scheduleLayout:function(a,b){this._isShown()?this._layout(a,b):(this._needLayout=!0,this._changeSize=a,this._resultSize=b)},_layout:function(b,d){delete this._needLayout;!this._wasShown&&!1!==this.open&&this._onShow();
b&&a.setMarginBox(this.domNode,b);var e=this.containerNode;if(e===this.domNode){var g=d||{};h.mixin(g,b||{});if(!("h"in g)||!("w"in g))g=h.mixin(a.getMarginBox(e),g);this._contentBox=f.marginBox2contentBox(e,g)}else this._contentBox=a.getContentBox(e);this._layoutChildren()},_layoutChildren:function(){this._checkIfSingleChild();if(this._singleChild&&this._singleChild.resize){var b=this._contentBox||a.getContentBox(this.containerNode);this._singleChild.resize({w:b.w,h:b.h})}else for(var b=this.getChildren(),
d,e=0;d=b[e++];)d.resize&&d.resize()},_isShown:function(){if(this._childOfLayoutWidget)return this._resizeCalled&&"open"in this?this.open:this._resizeCalled;if("open"in this)return this.open;var a=this.domNode,b=this.domNode.parentNode;return"none"!=a.style.display&&"hidden"!=a.style.visibility&&!e.contains(a,"dijitHidden")&&b&&b.style&&"none"!=b.style.display},_onShow:function(){this._wasShown=!0;this._needLayout&&this._layout(this._changeSize,this._resultSize);this.inherited(arguments)}})})},"dijit/layout/utils":function(){define(["dojo/_base/array",
"dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang"],function(k,d,e,a,b){function h(a,d){var f=a.resize?a.resize(d):e.setMarginBox(a.domNode,d);f?b.mixin(a,f):(b.mixin(a,e.getMarginBox(a.domNode)),b.mixin(a,d))}var l={marginBox2contentBox:function(b,d){var f=a.getComputedStyle(b),c=e.getMarginExtents(b,f),h=e.getPadBorderExtents(b,f);return{l:a.toPixelValue(b,f.paddingLeft),t:a.toPixelValue(b,f.paddingTop),w:d.w-(c.w+h.w),h:d.h-(c.h+h.h)}},layoutChildren:function(a,e,f,c,l){e=
b.mixin({},e);d.add(a,"dijitLayoutContainer");f=k.filter(f,function(a){return"center"!=a.region&&"client"!=a.layoutAlign}).concat(k.filter(f,function(a){return"center"==a.region||"client"==a.layoutAlign}));k.forEach(f,function(a){var b=a.domNode,f=a.region||a.layoutAlign;if(!f)throw Error("No region setting for "+a.id);var k=b.style;k.left=e.l+"px";k.top=e.t+"px";k.position="absolute";d.add(b,"dijitAlign"+(f.substring(0,1).toUpperCase()+f.substring(1)));b={};c&&c==a.id&&(b["top"==a.region||"bottom"==
a.region?"h":"w"]=l);"leading"==f&&(f=a.isLeftToRight()?"left":"right");"trailing"==f&&(f=a.isLeftToRight()?"right":"left");"top"==f||"bottom"==f?(b.w=e.w,h(a,b),e.h-=a.h,"top"==f?e.t+=a.h:k.top=e.t+e.h+"px"):"left"==f||"right"==f?(b.h=e.h,h(a,b),e.w-=a.w,"left"==f?e.l+=a.w:k.left=e.l+e.w+"px"):("client"==f||"center"==f)&&h(a,e)})}};b.setObject("dijit.layout.utils",l);return l})},"dojo/html":function(){define("./_base/kernel ./_base/lang ./_base/array ./_base/declare ./dom ./dom-construct ./parser".split(" "),
function(k,d,e,a,b,h,l){var m=0,g={_secureForInnerHtml:function(a){return a.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"")},_emptyNode:h.empty,_setNodeContent:function(a,b){h.empty(a);if(b)if("number"==typeof b&&(b=b.toString()),"string"==typeof b&&(b=h.toDom(b,a.ownerDocument)),!b.nodeType&&d.isArrayLike(b))for(var e=b.length,g=0;g<b.length;g=e==b.length?g+1:0)h.place(b[g],a,"last");else h.place(b,a,"last");return a},_ContentSetter:a("dojo.html._ContentSetter",null,{node:"",
content:"",id:"",cleanContent:!1,extractContent:!1,parseContent:!1,parserScope:k._scopeName,startup:!0,constructor:function(a,c){d.mixin(this,a||{});c=this.node=b.byId(this.node||c);this.id||(this.id=["Setter",c?c.id||c.tagName:"",m++].join("_"))},set:function(a,b){void 0!==a&&(this.content=a);b&&this._mixin(b);this.onBegin();this.setContent();var d=this.onEnd();return d&&d.then?d:this.node},setContent:function(){var a=this.node;if(!a)throw Error(this.declaredClass+": setContent given no node");try{a=
g._setNodeContent(a,this.content)}catch(b){var d=this.onContentError(b);try{a.innerHTML=d}catch(e){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+e.message,e)}}this.node=a},empty:function(){this.parseDeferred&&(this.parseDeferred.isResolved()||this.parseDeferred.cancel(),delete this.parseDeferred);this.parseResults&&this.parseResults.length&&(e.forEach(this.parseResults,function(a){a.destroy&&a.destroy()}),delete this.parseResults);h.empty(this.node)},onBegin:function(){var a=
this.content;if(d.isString(a)&&(this.cleanContent&&(a=g._secureForInnerHtml(a)),this.extractContent)){var b=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);b&&(a=b[1])}this.empty();this.content=a;return this.node},onEnd:function(){this.parseContent&&this._parse();return this.node},tearDown:function(){delete this.parseResults;delete this.parseDeferred;delete this.node;delete this.content},onContentError:function(a){return"Error occurred setting content: "+a},onExecError:function(a){return"Error occurred executing scripts: "+
a},_mixin:function(a){var b={},d;for(d in a)d in b||(this[d]=a[d])},_parse:function(){var a=this.node;try{var b={};e.forEach(["dir","lang","textDir"],function(a){this[a]&&(b[a]=this[a])},this);var d=this;this.parseDeferred=l.parse({rootNode:a,noStart:!this.startup,inherited:b,scope:this.parserScope}).then(function(a){return d.parseResults=a},function(a){d._onError("Content",a,"Error parsing in _ContentSetter#"+this.id)})}catch(g){this._onError("Content",g,"Error parsing in _ContentSetter#"+this.id)}},
_onError:function(a,b,d){a=this["on"+a+"Error"].call(this,b);d?console.error(d,b):a&&g._setNodeContent(this.node,a,!0)}}),set:function(a,b,e){void 0==b&&(b="");"number"==typeof b&&(b=b.toString());return e?(new g._ContentSetter(d.mixin(e,{content:b,node:a}))).set():g._setNodeContent(a,b,!0)}};d.setObject("dojo.html",g);return g})},"dijit/_DialogMixin":function(){define(["dojo/_base/declare","./a11y"],function(k,d){return k("dijit._DialogMixin",null,{actionBarTemplate:"",execute:function(){},onCancel:function(){},
onExecute:function(){},_onSubmit:function(){this.onExecute();this.execute(this.get("value"))},_getFocusItems:function(){var e=d._getTabNavigable(this.domNode);this._firstFocusItem=e.lowest||e.first||this.closeButtonNode||this.domNode;this._lastFocusItem=e.last||e.highest||this._firstFocusItem}})})},"dijit/form/_FormMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/on dojo/window".split(" "),function(k,d,e,a,b,h){return d("dijit.form._FormMixin",null,
{state:"",_getDescendantFormWidgets:function(a){var b=[];k.forEach(a||this.getChildren(),function(a){"value"in a?b.push(a):b=b.concat(this._getDescendantFormWidgets(a.getChildren()))},this);return b},reset:function(){k.forEach(this._getDescendantFormWidgets(),function(a){a.reset&&a.reset()})},validate:function(){var a=!1;return k.every(k.map(this._getDescendantFormWidgets(),function(b){b._hasBeenBlurred=!0;var d=b.disabled||!b.validate||b.validate();!d&&!a&&(h.scrollIntoView(b.containerNode||b.domNode),
b.focus(),a=!0);return d}),function(a){return a})},setValues:function(a){e.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");return this.set("value",a)},_setValueAttr:function(b){var d={};k.forEach(this._getDescendantFormWidgets(),function(a){a.name&&(d[a.name]||(d[a.name]=[])).push(a)});for(var e in d)if(d.hasOwnProperty(e)){var f=d[e],c=a.getObject(e,!1,b);void 0!==c&&(c=[].concat(c),"boolean"==typeof f[0].checked?k.forEach(f,function(a){a.set("value",
-1!=k.indexOf(c,a._get("value")))}):f[0].multiple?f[0].set("value",c):k.forEach(f,function(a,b){a.set("value",c[b])}))}},getValues:function(){e.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},_getValueAttr:function(){var b={};k.forEach(this._getDescendantFormWidgets(),function(d){var e=d.name;if(e&&!d.disabled){var f=d.get("value");"boolean"==typeof d.checked?/Radio/.test(d.declaredClass)?!1!==f?a.setObject(e,f,b):(f=a.getObject(e,
!1,b),void 0===f&&a.setObject(e,null,b)):(d=a.getObject(e,!1,b),d||(d=[],a.setObject(e,d,b)),!1!==f&&d.push(f)):(d=a.getObject(e,!1,b),"undefined"!=typeof d?a.isArray(d)?d.push(f):a.setObject(e,[d,f],b):a.setObject(e,f,b))}});return b},isValid:function(){return""==this.state},onValidStateChange:function(){},_getState:function(){var a=k.map(this._descendants,function(a){return a.get("state")||""});return 0<=k.indexOf(a,"Error")?"Error":0<=k.indexOf(a,"Incomplete")?"Incomplete":""},disconnectChildren:function(){},
connectChildren:function(a){this._descendants=this._getDescendantFormWidgets();k.forEach(this._descendants,function(a){a._started||a.startup()});a||this._onChildChange()},_onChildChange:function(a){(!a||"state"==a||"disabled"==a)&&this._set("state",this._getState());if(!a||"value"==a||"disabled"==a||"checked"==a)this._onChangeDelayTimer&&this._onChangeDelayTimer.remove(),this._onChangeDelayTimer=this.defer(function(){delete this._onChangeDelayTimer;this._set("value",this.get("value"))},10)},startup:function(){this.inherited(arguments);
this._descendants=this._getDescendantFormWidgets();this.value=this.get("value");this.state=this._getState();var a=this;this.own(b(this.containerNode,"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",function(b){b.target!=a.domNode&&a._onChildChange(b.type.replace("attrmodified-",""))}));this.watch("state",function(a,b,d){this.onValidStateChange(""==d)})},destroy:function(){this.inherited(arguments)}})})},"dojo/fx/Toggler":function(){define(["../_base/lang","../_base/declare",
"../_base/fx","../aspect"],function(k,d,e,a){return d("dojo.fx.Toggler",null,{node:null,showFunc:e.fadeIn,hideFunc:e.fadeOut,showDuration:200,hideDuration:200,constructor:function(b){k.mixin(this,b);this.node=b.node;this._showArgs=k.mixin({},b);this._showArgs.node=this.node;this._showArgs.duration=this.showDuration;this.showAnim=this.showFunc(this._showArgs);this._hideArgs=k.mixin({},b);this._hideArgs.node=this.node;this._hideArgs.duration=this.hideDuration;this.hideAnim=this.hideFunc(this._hideArgs);
a.after(this.showAnim,"beforeBegin",k.hitch(this.hideAnim,"stop",!0),!0);a.after(this.hideAnim,"beforeBegin",k.hitch(this.showAnim,"stop",!0),!0)},show:function(a){return this.showAnim.play(a||0)},hide:function(a){return this.hideAnim.play(a||0)}})})},"dojo/main":function(){define("./_base/kernel ./has require ./sniff ./_base/lang ./_base/array ./_base/config ./ready ./_base/declare ./_base/connect ./_base/Deferred ./_base/json ./_base/Color ./has!dojo-firebug?./_firebug/firebug ./_base/browser ./_base/loader".split(" "),
function(k,d,e,a,b,h,l,m){l.isDebug&&e(["./_firebug/firebug"]);var g=l.require;g&&(g=h.map(b.isArray(g)?g:[g],function(a){return a.replace(/\./g,"/")}),k.isAsync?e(g):m(1,function(){e(g)}));return k})},"dojo/_base/browser":function(){require.has&&require.has.add("config-selectorEngine","acme");define("../ready ./kernel ./connect ./unload ./window ./event ./html ./NodeList ../query ./xhr ./fx".split(" "),function(k){return k})},"dojo/_base/unload":function(){define(["./kernel","./lang","../on"],function(k,
d,e){var a=window,b={addOnWindowUnload:function(b,l){k.windowUnloaded||e(a,"unload",k.windowUnloaded=function(){});e(a,"unload",d.hitch(b,l))},addOnUnload:function(b,k){e(a,"beforeunload",d.hitch(b,k))}};k.addOnWindowUnload=b.addOnWindowUnload;k.addOnUnload=b.addOnUnload;return b})},"dojo/_base/loader":function(){define("./kernel ../has require module ../json ./lang ./array".split(" "),function(k,d,e,a,b,h,l){var m=function(a){return a.replace(/\./g,"/")},g=/\/\/>>built/,f=[],c=[],n=function(a,b,
d){f.push(d);l.forEach(a.split(","),function(a){a=H(a,b.module);c.push(a);P(a)});r()},r=function(){var a,b;for(b in E)if(a=E[b],void 0===a.noReqPluginCheck&&(a.noReqPluginCheck=/loadInit\!/.test(b)||/require\!/.test(b)?1:0),!a.executed&&!a.noReqPluginCheck&&a.injected==x)return;U(function(){var a=f;f=[];l.forEach(a,function(a){a(1)})})},s=function(a,b,c){var d=/\(|\)/g,e=1;for(d.lastIndex=b;(b=d.exec(a))&&!(e=")"==b[0]?e-1:e+1,0==e););if(0!=e)throw"unmatched paren around character "+d.lastIndex+" in: "+
a;return[k.trim(a.substring(c,d.lastIndex))+";\n",d.lastIndex]},q=/(\/\*([\s\S]*?)\*\/|\/\/(.*)$)/mg,p=/(^|\s)dojo\.(loadInit|require|provide|requireLocalization|requireIf|requireAfterIf|platformRequire)\s*\(/mg,t=/(^|\s)(require|define)\s*\(/m,u=function(a,b){var c,d,e,f=[],g=[];c=[];for(b=b||a.replace(q,function(a){p.lastIndex=t.lastIndex=0;return p.test(a)||t.test(a)?"":a});c=p.exec(b);)d=p.lastIndex,e=d-c[0].length,d=s(b,d,e),"loadInit"==c[2]?f.push(d[0]):g.push(d[0]),p.lastIndex=d[1];c=f.concat(g);
return c.length||!t.test(b)?[a.replace(/(^|\s)dojo\.loadInit\s*\(/g,"\n0 \x26\x26 dojo.loadInit("),c.join(""),c]:0},v=e.initSyncLoader(n,r,function(a,c){var d,e,f=[],h=[];if(g.test(c)||!(d=u(c)))return 0;e=a.mid+"-*loadInit";for(var k in H("dojo",a).result.scopeMap)f.push(k),h.push('"'+k+'"');return"// xdomain rewrite of "+a.mid+"\ndefine('"+e+"',{\n\tnames:"+b.stringify(f)+",\n\tdef:function("+f.join(",")+"){"+d[1]+"}});\n\ndefine("+b.stringify(f.concat(["dojo/loadInit!"+e]))+", function("+f.join(",")+
"){\n"+d[0]+"});"}),w=v.sync,x=v.requested,y=v.arrived,z=v.nonmodule,C=v.executing,D=v.executed,B=v.syncExecStack,E=v.modules,J=v.execQ,H=v.getModule,P=v.injectModule,I=v.setArrived,K=v.signal,F=v.finishExec,A=v.execModule,G=v.getLegacyMode,U=v.guardCheckComplete,n=v.dojoRequirePlugin;k.provide=function(a){var b=B[0],c=h.mixin(H(m(a),e.module),{executed:C,result:h.getObject(a,!0)});I(c);b&&(b.provides||(b.provides=[])).push(function(){c.result=h.getObject(a);delete c.provides;c.executed!==D&&F(c)});
return c.result};d.add("config-publishRequireResult",1,0,0);k.require=function(a,b){var c=function(a,b){var c=H(m(a),e.module);if(B.length&&B[0].finish)B[0].finish.push(a);else{if(c.executed)return c.result;b&&(c.result=z);var d=G();P(c);d=G();c.executed!==D&&c.injected===y&&v.guardCheckComplete(function(){A(c)});if(c.executed)return c.result;d==w?c.cjs?J.unshift(c):B.length&&(B[0].finish=[a]):J.push(c)}}(a,b);d("config-publishRequireResult")&&(!h.exists(a)&&void 0!==c)&&h.setObject(a,c);return c};
k.loadInit=function(a){a()};k.registerModulePath=function(a,b){var c={};c[a.replace(/\./g,"/")]=b;e({paths:c})};k.platformRequire=function(a){a=(a.common||[]).concat(a[k._name]||a["default"]||[]);for(var b;a.length;)h.isArray(b=a.shift())?k.require.apply(k,b):k.require(b)};k.requireIf=k.requireAfterIf=function(a,b,c){a&&k.require(b,c)};k.requireLocalization=function(a,b,c){e(["../i18n"],function(d){d.getLocalization(a,b,c)})};return{extractLegacyApiApplications:u,require:n,loadInit:function(b,c,d){c([b],
function(b){c(b.names,function(){for(var e="",f=[],g=0;g<arguments.length;g++)e+="var "+b.names[g]+"\x3d arguments["+g+"]; ",f.push(arguments[g]);eval(e);var h=c.module,l=[],p,e={provide:function(a){a=m(a);a=H(a,h);a!==h&&I(a)},require:function(a,b){a=m(a);b&&(H(a,h).result=z);l.push(a)},requireLocalization:function(a,b,c){p||(p=["dojo/i18n"]);c=(c||k.locale).toLowerCase();a=m(a)+"/nls/"+(/root/i.test(c)?"":c+"/")+m(b);H(a,h).isXd&&p.push("dojo/i18n!"+a)},loadInit:function(a){a()}},g={},q;try{for(q in e)g[q]=
k[q],k[q]=e[q];b.def.apply(null,f)}catch(r){K("error",[{src:a.id,id:"failedDojoLoadInit"},r])}finally{for(q in e)k[q]=g[q]}p&&(l=l.concat(p));l.length?n(l.join(","),c,d):d()})})}}})},"url:mw-filebrowser/filebrowser.html":'\x3cdiv id\x3d${id} class\x3d"fileBrowser2" data-dojo-attach-point\x3d"fileBrowserContainer"\x3e\n\x3cdiv data-dojo-attach-point\x3d"dgridContainer"\n     class\x3d"dgridContainer highlightRowOnPath"\x3e\x3c/div\x3e\n\x3cform id\x3d"uploadForm" data-dojo-attach-point\x3d"uploadForm"\n      enctype\x3d"multipart/form-data"\x3e\n    \x3cinput id\x3d"fileupload" class\x3d"hiddenFileInputForUpload"\n           data-dojo-attach-point\x3d"hiddenFileInputForUpload"\n           data-test-id\x3d"hiddenFileInputForUpload" name\x3d"uploadFileName"\n           type\x3d"file" multiple/\x3e\n\x3c/form\x3e\n\x3c/div\x3e',
"url:dijit/templates/Tooltip.html":'\x3cdiv class\x3d"dijitTooltip dijitTooltipLeft" id\x3d"dojoTooltip" data-dojo-attach-event\x3d"mouseenter:onMouseEnter,mouseleave:onMouseLeave"\n\t\x3e\x3cdiv class\x3d"dijitTooltipConnector" data-dojo-attach-point\x3d"connectorNode"\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitTooltipContainer dijitTooltipContents" data-dojo-attach-point\x3d"containerNode" role\x3d\'alert\'\x3e\x3c/div\n\x3e\x3c/div\x3e\n',"url:mw-menu/templates/Menu.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode" tabindex\x3d"0" data-focus\x3d"temporary"\x3e\x3c/div\x3e\n',
"url:mw-keybindings/browserconflicts.json":'{\n    "Ctrl+N" : {\n        "keys" : ["CTRL","N"],\n        "platform" : {\n            "Windows" : ["Chrome(v43.0)", "Firefox(v40.0)", "IE(v10.10)" ]\n        }\n    },\n\n    "Ctrl+T":  {\n        "keys" : ["CTRL","T"],\n        "platform" : {\n            "Windows" : ["Chrome(v43.0)", "Firefox(v40.0)", "IE(v10.10)" ],\n            "Linux" : ["Chrome(v43.0)", "Firefox(v40.0)" ]\n        }\n    },\n\n    "F11" :    {\n        "keys" : ["F11"],\n        "platform" : {\n            "Mac" : ["Chrome(v43.0)", "Safari(v7.0"]\n        }\n    },\n\n    "F5" :  {\n        "keys" : ["F5"],\n        "platform" : {\n            "Windows" : ["IE(v10.10)" ]\n        }\n\n    }\n}',
"url:mw-form/templates/CheckBox.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode" role\x3d"checkbox" aria-checked\x3d"false" aria-labelledby\x3d"${id}_label"\n    \x3e\x3cdiv data-dojo-attach-point\x3d"checkBoxRadioIconNode" class\x3d"mwCheckBoxRadioIconNode"\n        \x3e\x3cdiv class\x3d"mwCheckBoxRadioIconInner"\x3e\x3c/div\x3e\x3c/div\n    \x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d"mwTextNode" id\x3d"${id}_label"\x3e\x3c/div\n\x3e\x3c/div\x3e',"url:mw-menu/templates/CheckBoxRadioButtonMenuItem.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode"\n    \x3e\x3cdiv class\x3d"mwTextAndDescriptionContainerNode" data-dojo-attach-point\x3d"textAndDescriptionContainerNode"\n        \x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d\'mwTextNode\'\x3e\x3c/div\n        \x3e\x3cdiv data-dojo-attach-point\x3d"descriptionNode" class\x3d\'mwDescriptionNode\'\x3e\x3c/div\n    \x3e\x3c/div\n    \x3e\x3cdiv class\x3d"mwShortcutKeyNode" data-dojo-attach-point\x3d"shortcutKeyNode"\x3e\x3c/div\n    \x3e\x3cdiv class\x3d"mwOverlayNode"\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:mw-menu/templates/MenuItem.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode"\n        \x3e\x3cdiv class\x3d"mwIconNode" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/div\n        \x3e\x3cdiv class\x3d"mwTextAndDescriptionContainerNode" data-dojo-attach-point\x3d"textAndDescriptionContainerNode"\n        \x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d\'mwTextNode\'\x3e\x3c/div\n        \x3e\x3cdiv data-dojo-attach-point\x3d"descriptionNode" class\x3d\'mwDescriptionNode\'\x3e\x3c/div\n    \x3e\x3c/div\n    \x3e\x3cdiv class\x3d"mwShortcutKeyNode" data-dojo-attach-point\x3d"shortcutKeyNode"\x3e\x3c/div\n\x3e\x3c/div\x3e',
"url:mw-menu/templates/MenuSeparator.html":'\x3cdiv data-refuse-key-nav\x3d"true"\x3e\x3c/div\x3e\n',"url:mw-menu/templates/PopupMenuItem.html":'\x3cdiv data-dojo-attach-point\x3d"focusNode" class\x3d"mwFocusNode"\n    \x3e\x3cdiv class\x3d"mwIconNode" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/div\n    \x3e\x3cdiv class\x3d"mwTextAndDescriptionContainerNode" data-dojo-attach-point\x3d"textAndDescriptionContainerNode"\n        \x3e\x3cdiv data-dojo-attach-point\x3d"textNode" class\x3d\'mwTextNode\'\x3e\x3c/div\n        \x3e\x3cdiv data-dojo-attach-point\x3d"descriptionNode" class\x3d\'mwDescriptionNode\'\x3e\x3c/div\n    \x3e\x3c/div\n    \x3e\x3cdiv class\x3d"mwShortcutAndArrowWrapperNode"\n        \x3e\x3cdiv class\x3d"mwShortcutKeyNode" data-dojo-attach-point\x3d"shortcutKeyNode"\x3e\x3c/div\n        \x3e\x3cdiv class\x3d"mwMenuArrowNode"  data-dojo-attach-point\x3d"menuArrowNode"\x3e\x3c/div\n    \x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:dijit/form/templates/TextBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft" id\x3d"widget_${id}" role\x3d"presentation"\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputInner" data-dojo-attach-point\x3d\'textbox,focusNode\' autocomplete\x3d"off"\n\t\t\t${!nameAttrSetting} type\x3d\'${type}\'\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n',"url:dijit/form/templates/ValidationTextBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft"\n\tid\x3d"widget_${id}" role\x3d"presentation"\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\n\t/\x3e\x3c/div\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputInner" data-dojo-attach-point\x3d\'textbox,focusNode\' autocomplete\x3d"off"\n\t\t\t${!nameAttrSetting} type\x3d\'${type}\'\n\t/\x3e\x3c/div\n\x3e\x3c/div\x3e\n',
"url:dijit/form/templates/Button.html":'\x3cspan class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\n\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonNode"\n\t\tdata-dojo-attach-event\x3d"ondijitclick:__onClick" role\x3d"presentation"\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\n\t\t\tdata-dojo-attach-point\x3d"titleNode,focusNode"\n\t\t\trole\x3d"button" aria-labelledby\x3d"${id}_label"\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitToggleButtonIconChar"\x3e\x26#x25CF;\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\n\t\t\t\tid\x3d"${id}_label"\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\n\t\t\t\x3e\x3c/span\n\t\t\x3e\x3c/span\n\t\x3e\x3c/span\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen"\n\t\tdata-dojo-attach-event\x3d"onclick:_onClick"\n\t\ttabIndex\x3d"-1" aria-hidden\x3d"true" data-dojo-attach-point\x3d"valueNode"\n/\x3e\x3c/span\x3e\n',
"url:dijit/form/templates/DropDownButton.html":'\x3cspan class\x3d"dijit dijitReset dijitInline"\n\t\x3e\x3cspan class\x3d\'dijitReset dijitInline dijitButtonNode\'\n\t\tdata-dojo-attach-event\x3d"ondijitclick:__onClick" data-dojo-attach-point\x3d"_buttonNode"\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\n\t\t\tdata-dojo-attach-point\x3d"focusNode,titleNode,_arrowWrapperNode,_popupStateNode"\n\t\t\trole\x3d"button" aria-haspopup\x3d"true" aria-labelledby\x3d"${id}_label"\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon"\n\t\t\t\tdata-dojo-attach-point\x3d"iconNode"\n\t\t\t\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\n\t\t\t\tid\x3d"${id}_label"\n\t\t\t\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitArrowButtonInner"\x3e\x3c/span\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitArrowButtonChar"\x3e\x26#9660;\x3c/span\n\t\t\x3e\x3c/span\n\t\x3e\x3c/span\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen" tabIndex\x3d"-1"\n\t\tdata-dojo-attach-event\x3d"onclick:_onClick" data-dojo-attach-point\x3d"valueNode" aria-hidden\x3d"true"\n/\x3e\x3c/span\x3e\n',
"url:dijit/form/templates/ComboButton.html":'\x3ctable class\x3d"dijit dijitReset dijitInline dijitLeft"\n\tcellspacing\x3d\'0\' cellpadding\x3d\'0\' role\x3d"presentation"\n\t\x3e\x3ctbody role\x3d"presentation"\x3e\x3ctr role\x3d"presentation"\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitStretch dijitButtonNode" data-dojo-attach-point\x3d"buttonNode" data-dojo-attach-event\x3d"ondijitclick:__onClick,onkeydown:_onButtonKeyDown"\n\t\t\x3e\x3cdiv id\x3d"${id}_button" class\x3d"dijitReset dijitButtonContents"\n\t\t\tdata-dojo-attach-point\x3d"titleNode"\n\t\t\trole\x3d"button" aria-labelledby\x3d"${id}_label"\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitInline dijitIcon" data-dojo-attach-point\x3d"iconNode" role\x3d"presentation"\x3e\x3c/div\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitInline dijitButtonText" id\x3d"${id}_label" data-dojo-attach-point\x3d"containerNode" role\x3d"presentation"\x3e\x3c/div\n\t\t\x3e\x3c/div\n\t\t\x3e\x3c/td\n\t\t\x3e\x3ctd id\x3d"${id}_arrow" class\x3d\'dijitReset dijitRight dijitButtonNode dijitArrowButton\'\n\t\t\tdata-dojo-attach-point\x3d"_popupStateNode,focusNode,_buttonNode"\n\t\t\tdata-dojo-attach-event\x3d"onkeydown:_onArrowKeyDown"\n\t\t\ttitle\x3d"${optionsTitle}"\n\t\t\trole\x3d"button" aria-haspopup\x3d"true"\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitArrowButtonInner" role\x3d"presentation"\x3e\x3c/div\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitArrowButtonChar" role\x3d"presentation"\x3e\x26#9660;\x3c/div\n\t\t\x3e\x3c/td\n\t\t\x3e\x3ctd style\x3d"display:none !important;"\n\t\t\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" data-dojo-attach-point\x3d"valueNode"\n\t\t\t\tclass\x3d"dijitOffScreen" aria-hidden\x3d"true" data-dojo-attach-event\x3d"onclick:_onClick"\n\t\t/\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/tbody\n\x3e\x3c/table\x3e\n',
"url:dijit/templates/TooltipDialog.html":'\x3cdiv role\x3d"alertdialog" tabIndex\x3d"-1"\x3e\n\t\x3cdiv class\x3d"dijitTooltipContainer" role\x3d"presentation"\x3e\n\t\t\x3cdiv data-dojo-attach-point\x3d"contentsNode" class\x3d"dijitTooltipContents dijitTooltipFocusNode"\x3e\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n\t\t\t${!actionBarTemplate}\n\t\t\x3c/div\x3e\n\t\x3c/div\x3e\n\t\x3cdiv class\x3d"dijitTooltipConnector" role\x3d"presentation" data-dojo-attach-point\x3d"connectorNode"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',
"*now":function(k){k(['dojo/i18n!*preload*dojo/nls/dojo*["ar","ca","cs","da","de","el","en-gb","en-us","es-es","fi-fi","fr-fr","he-il","hu","it-it","ja-jp","ko-kr","nl-nl","nb","pl","pt-br","pt-pt","ru","sk","sl","sv","th","tr","zh-tw","zh-cn","ROOT"]'])}}});(function(){var k=this.require;k({cache:{}});!k.async&&k(["dojo"]);k.boot&&k.apply(null,k.boot)})();
//# sourceMappingURL=dojo.js.map